var wr=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var n=(t,e,r)=>(wr(t,e,"read from private field"),r?r.call(t):e.get(t)),E=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},b=(t,e,r,s)=>(wr(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);var sr=(t,e,r,s)=>({set _(i){b(t,e,i,r)},get _(){return n(t,e,s)}}),D=(t,e,r)=>(wr(t,e,"access private method"),r);import{r as y,e as bi,j as f,P as w,R as Fs,i as xi,c as wi}from"./index-F5ndk3lt.js";import{c as Ci,g as Ei}from"./_commonjsHelpers-BosuxZz1.js";/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function At(){return At=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},At.apply(this,arguments)}var at;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(at||(at={}));const ss="popstate";function Ri(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:o,hash:h}=s.location;return Or("",{pathname:a,search:o,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Ps(i)}return Si(e,r,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oi(){return Math.random().toString(36).substr(2,8)}function is(t,e){return{usr:t.state,key:t.key,idx:e}}function Or(t,e,r,s){return r===void 0&&(r=null),At({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yr(e):e,{state:r,key:e&&e.key||s||Oi()})}function Ps(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function yr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Si(t,e,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,h=at.Pop,l=null,p=d();p==null&&(p=0,o.replaceState(At({},o.state,{idx:p}),""));function d(){return(o.state||{idx:null}).idx}function C(){h=at.Pop;let m=d(),R=m==null?null:m-p;p=m,l&&l({action:h,location:N.location,delta:R})}function x(m,R){h=at.Push;let U=Or(N.location,m,R);r&&r(U,m),p=d()+1;let A=is(U,p),z=N.createHref(U);try{o.pushState(A,"",z)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(z)}a&&l&&l({action:h,location:N.location,delta:1})}function v(m,R){h=at.Replace;let U=Or(N.location,m,R);r&&r(U,m),p=d();let A=is(U,p),z=N.createHref(U);o.replaceState(A,"",z),a&&l&&l({action:h,location:N.location,delta:0})}function P(m){let R=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof m=="string"?m:Ps(m);return U=U.replace(/ $/,"%20"),Ne(R,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,R)}let N={get action(){return h},get location(){return t(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ss,C),l=m,()=>{i.removeEventListener(ss,C),l=null}},createHref(m){return e(i,m)},createURL:P,encodeLocation(m){let R=P(m);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:v,go(m){return o.go(m)}};return N}var ns;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ns||(ns={}));function _i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function ki(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?yr(t):t;return{pathname:r?r.startsWith("/")?r:Ti(r,e):e,search:Di(s),hash:Ni(i)}}function Ti(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Cr(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fi(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Pi(t,e){let r=Fi(t);return e?r.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function ji(t,e,r,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=yr(t):(i=At({},t),Ne(!i.pathname||!i.pathname.includes("?"),Cr("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Cr("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Cr("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,h;if(o==null)h=r;else{let C=e.length-1;if(!s&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),C-=1;i.pathname=x.join("/")}h=C>=0?e[C]:"/"}let l=ki(i,h),p=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(p||d)&&(l.pathname+="/"),l}const Ii=t=>t.join("/").replace(/\/\/+/g,"/"),Di=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ni=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,js=["post","put","patch","delete"];new Set(js);const Ui=["get",...js];new Set(Ui);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hr(){return hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},hr.apply(this,arguments)}const Is=y.createContext(null),Kr=y.createContext(null),Hr=y.createContext(null),Wr=y.createContext({outlet:null,matches:[],isDataRoute:!1});function Gr(){return y.useContext(Hr)!=null}function Ds(){return Gr()||Ne(!1),y.useContext(Hr).location}function Ns(t){y.useContext(Kr).static||y.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=y.useContext(Wr);return t?Qi():Ai()}function Ai(){Gr()||Ne(!1);let t=y.useContext(Is),{basename:e,future:r,navigator:s}=y.useContext(Kr),{matches:i}=y.useContext(Wr),{pathname:a}=Ds(),o=JSON.stringify(Pi(i,r.v7_relativeSplatPath)),h=y.useRef(!1);return Ns(()=>{h.current=!0}),y.useCallback(function(p,d){if(d===void 0&&(d={}),!h.current)return;if(typeof p=="number"){s.go(p);return}let C=ji(p,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:Ii([e,C.pathname])),(d.replace?s.replace:s.push)(C,d.state,d)},[e,s,o,a,t])}var Us=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Us||{}),Ms=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ms||{});function Li(t){let e=y.useContext(Is);return e||Ne(!1),e}function qi(t){let e=y.useContext(Wr);return e||Ne(!1),e}function Bi(t){let e=qi(),r=e.matches[e.matches.length-1];return r.route.id||Ne(!1),r.route.id}function Qi(){let{router:t}=Li(Us.UseNavigateStable),e=Bi(Ms.UseNavigateStable),r=y.useRef(!1);return Ns(()=>{r.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hr({fromRouteId:e},a)))},[t,e])}function $i(t){let{basename:e="/",children:r=null,location:s,navigationType:i=at.Pop,navigator:a,static:o=!1,future:h}=t;Gr()&&Ne(!1);let l=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:l,navigator:a,static:o,future:hr({v7_relativeSplatPath:!1},h)}),[l,h,a,o]);typeof s=="string"&&(s=yr(s));let{pathname:d="/",search:C="",hash:x="",state:v=null,key:P="default"}=s,N=y.useMemo(()=>{let m=_i(d,l);return m==null?null:{location:{pathname:m,search:C,hash:x,state:v,key:P},navigationType:i}},[l,d,C,x,v,P,i]);return N==null?null:y.createElement(Kr.Provider,{value:p},y.createElement(Hr.Provider,{children:r,value:N}))}new Promise(()=>{});/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zi="6";try{window.__reactRouterVersion=zi}catch{}const Ki="startTransition",as=bi[Ki];function Hi(t){let{basename:e,children:r,future:s,window:i}=t,a=y.useRef();a.current==null&&(a.current=Ri({window:i,v5Compat:!0}));let o=a.current,[h,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:p}=s||{},d=y.useCallback(C=>{p&&as?as(()=>l(C)):l(C)},[l,p]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement($i,{basename:e,children:r,location:h.location,navigationType:h.action,navigator:o,future:s})}var os;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(os||(os={}));var us;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(us||(us={}));var Ut=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nt=typeof window>"u"||"Deno"in window;function Oe(){}function Wi(t,e){return typeof t=="function"?t(e):t}function Sr(t){return typeof t=="number"&&t>=0&&t!==1/0}function As(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ls(t,e){const{type:r="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:h}=t;if(o){if(s){if(e.queryHash!==Vr(o,e.options))return!1}else if(!Lt(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||typeof i<"u"&&i!==e.state.fetchStatus||a&&!a(e))}function cs(t,e){const{exact:r,status:s,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(mt(e.options.mutationKey)!==mt(a))return!1}else if(!Lt(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Vr(t,e){return((e==null?void 0:e.queryKeyHashFn)||mt)(t)}function mt(t){return JSON.stringify(t,(e,r)=>_r(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function Lt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Lt(t[r],e[r])):!1}function Ls(t,e){if(t===e)return t;const r=hs(t)&&hs(e);if(r||_r(t)&&_r(e)){const s=r?t:Object.keys(t),i=s.length,a=r?e:Object.keys(e),o=a.length,h=r?[]:{};let l=0;for(let p=0;p<o;p++){const d=r?p:a[p];!r&&t[d]===void 0&&e[d]===void 0&&s.includes(d)?(h[d]=void 0,l++):(h[d]=Ls(t[d],e[d]),h[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:h}return e}function dr(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function hs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _r(t){if(!ds(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!ds(r)||!r.hasOwnProperty("isPrototypeOf"))}function ds(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gi(t){return new Promise(e=>{setTimeout(e,t)})}function kr(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ls(t,e):e}function Vi(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Ji(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ot,Ge,bt,xs,Yi=(xs=class extends Ut{constructor(){super();E(this,ot,void 0);E(this,Ge,void 0);E(this,bt,void 0);b(this,bt,e=>{if(!Nt&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){n(this,Ge)||this.setEventListener(n(this,bt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ge))==null||e.call(this),b(this,Ge,void 0))}setEventListener(e){var r;b(this,bt,e),(r=n(this,Ge))==null||r.call(this),b(this,Ge,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){n(this,ot)!==e&&(b(this,ot,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof n(this,ot)=="boolean"?n(this,ot):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ot=new WeakMap,Ge=new WeakMap,bt=new WeakMap,xs),fr=new Yi,xt,Ve,wt,ws,Zi=(ws=class extends Ut{constructor(){super();E(this,xt,!0);E(this,Ve,void 0);E(this,wt,void 0);b(this,wt,e=>{if(!Nt&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){n(this,Ve)||this.setEventListener(n(this,wt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ve))==null||e.call(this),b(this,Ve,void 0))}setEventListener(e){var r;b(this,wt,e),(r=n(this,Ve))==null||r.call(this),b(this,Ve,e(this.setOnline.bind(this)))}setOnline(e){n(this,xt)!==e&&(b(this,xt,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return n(this,xt)}},xt=new WeakMap,Ve=new WeakMap,wt=new WeakMap,ws),pr=new Zi;function Xi(t){return Math.min(1e3*2**t,3e4)}function vr(t){return(t??"online")==="online"?pr.isOnline():!0}var qs=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Er(t){return t instanceof qs}function Bs(t){let e=!1,r=0,s=!1,i,a,o;const h=new Promise((m,R)=>{a=m,o=R}),l=m=>{var R;s||(v(new qs(m)),(R=t.abort)==null||R.call(t))},p=()=>{e=!0},d=()=>{e=!1},C=()=>!fr.isFocused()||t.networkMode!=="always"&&!pr.isOnline(),x=m=>{var R;s||(s=!0,(R=t.onSuccess)==null||R.call(t,m),i==null||i(),a(m))},v=m=>{var R;s||(s=!0,(R=t.onError)==null||R.call(t,m),i==null||i(),o(m))},P=()=>new Promise(m=>{var R;i=U=>{const A=s||!C();return A&&m(U),A},(R=t.onPause)==null||R.call(t)}).then(()=>{var m;i=void 0,s||(m=t.onContinue)==null||m.call(t)}),N=()=>{if(s)return;let m;try{m=t.fn()}catch(R){m=Promise.reject(R)}Promise.resolve(m).then(x).catch(R=>{var G;if(s)return;const U=t.retry??(Nt?0:3),A=t.retryDelay??Xi,z=typeof A=="function"?A(r,R):A,Y=U===!0||typeof U=="number"&&r<U||typeof U=="function"&&U(r,R);if(e||!Y){v(R);return}r++,(G=t.onFail)==null||G.call(t,r,R),Gi(z).then(()=>{if(C())return P()}).then(()=>{e?v(R):N()})})};return vr(t.networkMode)?N():P().then(N),{promise:h,cancel:l,continue:()=>(i==null?void 0:i())?h:Promise.resolve(),cancelRetry:p,continueRetry:d}}function en(){let t=[],e=0,r=x=>{x()},s=x=>{x()},i=x=>setTimeout(x,0);const a=x=>{i=x},o=x=>{let v;e++;try{v=x()}finally{e--,e||p()}return v},h=x=>{e?t.push(x):i(()=>{r(x)})},l=x=>(...v)=>{h(()=>{x(...v)})},p=()=>{const x=t;t=[],x.length&&i(()=>{s(()=>{x.forEach(v=>{r(v)})})})};return{batch:o,batchCalls:l,schedule:h,setNotifyFunction:x=>{r=x},setBatchNotifyFunction:x=>{s=x},setScheduler:a}}var se=en(),ut,Cs,Qs=(Cs=class{constructor(){E(this,ut,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sr(this.gcTime)&&b(this,ut,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nt?1/0:5*60*1e3))}clearGcTimeout(){n(this,ut)&&(clearTimeout(n(this,ut)),b(this,ut,void 0))}},ut=new WeakMap,Cs),Ct,Et,Ce,Je,Ee,ae,qt,lt,Rt,nr,ke,Le,Es,tn=(Es=class extends Qs{constructor(e){super();E(this,Rt);E(this,ke);E(this,Ct,void 0);E(this,Et,void 0);E(this,Ce,void 0);E(this,Je,void 0);E(this,Ee,void 0);E(this,ae,void 0);E(this,qt,void 0);E(this,lt,void 0);b(this,lt,!1),b(this,qt,e.defaultOptions),D(this,Rt,nr).call(this,e.options),b(this,ae,[]),b(this,Ce,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,Ct,e.state||rn(this.options)),this.state=n(this,Ct),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!n(this,ae).length&&this.state.fetchStatus==="idle"&&n(this,Ce).remove(this)}setData(e,r){const s=kr(this.state.data,e,this.options);return D(this,ke,Le).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){D(this,ke,Le).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s;const r=n(this,Je);return(s=n(this,Ee))==null||s.cancel(e),r?r.then(Oe).catch(Oe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Ct))}isActive(){return n(this,ae).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||n(this,ae).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!As(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=n(this,ae).find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=n(this,Ee))==null||r.continue()}onOnline(){var r;const e=n(this,ae).find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=n(this,Ee))==null||r.continue()}addObserver(e){n(this,ae).includes(e)||(n(this,ae).push(e),this.clearGcTimeout(),n(this,Ce).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){n(this,ae).includes(e)&&(b(this,ae,n(this,ae).filter(r=>r!==e)),n(this,ae).length||(n(this,Ee)&&(n(this,lt)?n(this,Ee).cancel({revert:!0}):n(this,Ee).cancelRetry()),this.scheduleGc()),n(this,Ce).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return n(this,ae).length}invalidate(){this.state.isInvalidated||D(this,ke,Le).call(this,{type:"invalidate"})}fetch(e,r){var p,d,C,x;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(n(this,Je))return(p=n(this,Ee))==null||p.continueRetry(),n(this,Je)}if(e&&D(this,Rt,nr).call(this,e),!this.options.queryFn){const v=n(this,ae).find(P=>P.options.queryFn);v&&D(this,Rt,nr).call(this,v.options)}const s=new AbortController,i={queryKey:this.queryKey,meta:this.meta},a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(b(this,lt,!0),s.signal)})};a(i);const o=()=>this.options.queryFn?(b(this,lt,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),h={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(h),(d=this.options.behavior)==null||d.onFetch(h,this),b(this,Et,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((C=h.fetchOptions)==null?void 0:C.meta))&&D(this,ke,Le).call(this,{type:"fetch",meta:(x=h.fetchOptions)==null?void 0:x.meta});const l=v=>{var P,N,m,R;Er(v)&&v.silent||D(this,ke,Le).call(this,{type:"error",error:v}),Er(v)||((N=(P=n(this,Ce).config).onError)==null||N.call(P,v,this),(R=(m=n(this,Ce).config).onSettled)==null||R.call(m,this.state.data,v,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return b(this,Ee,Bs({fn:h.fetchFn,abort:s.abort.bind(s),onSuccess:v=>{var P,N,m,R;if(typeof v>"u"){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(v),(N=(P=n(this,Ce).config).onSuccess)==null||N.call(P,v,this),(R=(m=n(this,Ce).config).onSettled)==null||R.call(m,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(v,P)=>{D(this,ke,Le).call(this,{type:"failed",failureCount:v,error:P})},onPause:()=>{D(this,ke,Le).call(this,{type:"pause"})},onContinue:()=>{D(this,ke,Le).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode})),b(this,Je,n(this,Ee).promise),n(this,Je)}},Ct=new WeakMap,Et=new WeakMap,Ce=new WeakMap,Je=new WeakMap,Ee=new WeakMap,ae=new WeakMap,qt=new WeakMap,lt=new WeakMap,Rt=new WeakSet,nr=function(e){this.options={...n(this,qt),...e},this.updateGcTime(this.options.gcTime)},ke=new WeakSet,Le=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:vr(this.options.networkMode)?"fetching":"paused",...!s.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Er(i)&&i.revert&&n(this,Et)?{...n(this,Et),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),se.batch(()=>{n(this,ae).forEach(s=>{s.onQueryUpdate()}),n(this,Ce).notify({query:this,type:"updated",action:e})})},Es);function rn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fe,Rs,$s=(Rs=class extends Ut{constructor(e={}){super();E(this,Fe,void 0);this.config=e,b(this,Fe,new Map)}build(e,r,s){const i=r.queryKey,a=r.queryHash??Vr(i,r);let o=this.get(a);return o||(o=new tn({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){n(this,Fe).has(e.queryHash)||(n(this,Fe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=n(this,Fe).get(e.queryHash);r&&(e.destroy(),r===e&&n(this,Fe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){se.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,Fe).get(e)}getAll(){return[...n(this,Fe).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ls(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>ls(e,s)):r}notify(e){se.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){se.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){se.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fe=new WeakMap,Rs),Pe,Bt,me,Ot,je,He,Os,sn=(Os=class extends Qs{constructor(e){super();E(this,je);E(this,Pe,void 0);E(this,Bt,void 0);E(this,me,void 0);E(this,Ot,void 0);this.mutationId=e.mutationId,b(this,Bt,e.defaultOptions),b(this,me,e.mutationCache),b(this,Pe,[]),this.state=e.state||zs(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...n(this,Bt),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,Pe).includes(e)||(n(this,Pe).push(e),this.clearGcTimeout(),n(this,me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,Pe,n(this,Pe).filter(r=>r!==e)),this.scheduleGc(),n(this,me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,Pe).length||(this.state.status==="pending"?this.scheduleGc():n(this,me).remove(this))}continue(){var e;return((e=n(this,Ot))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,h,l,p,d,C,x,v,P,N,m,R,U,A,z,Y,G,j;const r=()=>(b(this,Ot,Bs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{D(this,je,He).call(this,{type:"failed",failureCount:u,error:c})},onPause:()=>{D(this,je,He).call(this,{type:"pause"})},onContinue:()=>{D(this,je,He).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),n(this,Ot).promise),s=this.state.status==="pending";try{if(!s){D(this,je,He).call(this,{type:"pending",variables:e}),await((a=(i=n(this,me).config).onMutate)==null?void 0:a.call(i,e,this));const c=await((h=(o=this.options).onMutate)==null?void 0:h.call(o,e));c!==this.state.context&&D(this,je,He).call(this,{type:"pending",context:c,variables:e})}const u=await r();return await((p=(l=n(this,me).config).onSuccess)==null?void 0:p.call(l,u,e,this.state.context,this)),await((C=(d=this.options).onSuccess)==null?void 0:C.call(d,u,e,this.state.context)),await((v=(x=n(this,me).config).onSettled)==null?void 0:v.call(x,u,null,this.state.variables,this.state.context,this)),await((N=(P=this.options).onSettled)==null?void 0:N.call(P,u,null,e,this.state.context)),D(this,je,He).call(this,{type:"success",data:u}),u}catch(u){try{throw await((R=(m=n(this,me).config).onError)==null?void 0:R.call(m,u,e,this.state.context,this)),await((A=(U=this.options).onError)==null?void 0:A.call(U,u,e,this.state.context)),await((Y=(z=n(this,me).config).onSettled)==null?void 0:Y.call(z,void 0,u,this.state.variables,this.state.context,this)),await((j=(G=this.options).onSettled)==null?void 0:j.call(G,void 0,u,e,this.state.context)),u}finally{D(this,je,He).call(this,{type:"error",error:u})}}}},Pe=new WeakMap,Bt=new WeakMap,me=new WeakMap,Ot=new WeakMap,je=new WeakSet,He=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!vr(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),se.batch(()=>{n(this,Pe).forEach(s=>{s.onMutationUpdate(e)}),n(this,me).notify({mutation:this,type:"updated",action:e})})},Os);function zs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Re,Qt,ct,Ss,nn=(Ss=class extends Ut{constructor(e={}){super();E(this,Re,void 0);E(this,Qt,void 0);E(this,ct,void 0);this.config=e,b(this,Re,[]),b(this,Qt,0)}build(e,r,s){const i=new sn({mutationCache:this,mutationId:++sr(this,Qt)._,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){n(this,Re).push(e),this.notify({type:"added",mutation:e})}remove(e){b(this,Re,n(this,Re).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){se.batch(()=>{n(this,Re).forEach(e=>{this.remove(e)})})}getAll(){return n(this,Re)}find(e){const r={exact:!0,...e};return n(this,Re).find(s=>cs(r,s))}findAll(e={}){return n(this,Re).filter(r=>cs(e,r))}notify(e){se.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return b(this,ct,(n(this,ct)??Promise.resolve()).then(()=>{const e=n(this,Re).filter(r=>r.state.isPaused);return se.batch(()=>e.reduce((r,s)=>r.then(()=>s.continue().catch(Oe)),Promise.resolve()))}).then(()=>{b(this,ct,void 0)})),n(this,ct)}},Re=new WeakMap,Qt=new WeakMap,ct=new WeakMap,Ss);function an(t){return{onFetch:(e,r)=>{const s=async()=>{var P,N,m,R,U;const i=e.options,a=(m=(N=(P=e.fetchOptions)==null?void 0:P.meta)==null?void 0:N.fetchMore)==null?void 0:m.direction,o=((R=e.state.data)==null?void 0:R.pages)||[],h=((U=e.state.data)==null?void 0:U.pageParams)||[],l={pages:[],pageParams:[]};let p=!1;const d=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},C=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),x=async(A,z,Y)=>{if(p)return Promise.reject();if(z==null&&A.pages.length)return Promise.resolve(A);const G={queryKey:e.queryKey,pageParam:z,direction:Y?"backward":"forward",meta:e.options.meta};d(G);const j=await C(G),{maxPages:u}=e.options,c=Y?Ji:Vi;return{pages:c(A.pages,j,u),pageParams:c(A.pageParams,z,u)}};let v;if(a&&o.length){const A=a==="backward",z=A?on:fs,Y={pages:o,pageParams:h},G=z(i,Y);v=await x(Y,G,A)}else{v=await x(l,h[0]??i.initialPageParam);const A=t??o.length;for(let z=1;z<A;z++){const Y=fs(i,v);v=await x(v,Y)}}return v};e.options.persister?e.fetchFn=()=>{var i,a;return(a=(i=e.options).persister)==null?void 0:a.call(i,s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=s}}}function fs(t,{pages:e,pageParams:r}){const s=e.length-1;return t.getNextPageParam(e[s],e,r[s],r)}function on(t,{pages:e,pageParams:r}){var s;return(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r)}var re,Ye,Ze,St,_t,Xe,kt,Tt,_s,un=(_s=class{constructor(t={}){E(this,re,void 0);E(this,Ye,void 0);E(this,Ze,void 0);E(this,St,void 0);E(this,_t,void 0);E(this,Xe,void 0);E(this,kt,void 0);E(this,Tt,void 0);b(this,re,t.queryCache||new $s),b(this,Ye,t.mutationCache||new nn),b(this,Ze,t.defaultOptions||{}),b(this,St,new Map),b(this,_t,new Map),b(this,Xe,0)}mount(){sr(this,Xe)._++,n(this,Xe)===1&&(b(this,kt,fr.subscribe(()=>{fr.isFocused()&&(this.resumePausedMutations(),n(this,re).onFocus())})),b(this,Tt,pr.subscribe(()=>{pr.isOnline()&&(this.resumePausedMutations(),n(this,re).onOnline())})))}unmount(){var t,e;sr(this,Xe)._--,n(this,Xe)===0&&((t=n(this,kt))==null||t.call(this),b(this,kt,void 0),(e=n(this,Tt))==null||e.call(this),b(this,Tt,void 0))}isFetching(t){return n(this,re).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return n(this,Ye).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=n(this,re).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=n(this,re).get(s.queryHash),a=i==null?void 0:i.state.data,o=Wi(e,a);if(!(typeof o>"u"))return n(this,re).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return se.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=n(this,re).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=n(this,re);se.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=n(this,re),s={type:"active",...t};return se.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=se.batch(()=>n(this,re).findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(Oe).catch(Oe)}invalidateQueries(t={},e={}){return se.batch(()=>{if(n(this,re).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=se.batch(()=>n(this,re).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Oe)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Oe)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=n(this,re).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oe).catch(Oe)}fetchInfiniteQuery(t){return t.behavior=an(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oe).catch(Oe)}resumePausedMutations(){return n(this,Ye).resumePausedMutations()}getQueryCache(){return n(this,re)}getMutationCache(){return n(this,Ye)}getDefaultOptions(){return n(this,Ze)}setDefaultOptions(t){b(this,Ze,t)}setQueryDefaults(t,e){n(this,St).set(mt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...n(this,St).values()];let r={};return e.forEach(s=>{Lt(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){n(this,_t).set(mt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...n(this,_t).values()];let r={};return e.forEach(s=>{Lt(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...n(this,Ze).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vr(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...n(this,Ze).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){n(this,re).clear(),n(this,Ye).clear()}},re=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,St=new WeakMap,_t=new WeakMap,Xe=new WeakMap,kt=new WeakMap,Tt=new WeakMap,_s),fe,$,$t,de,ht,Ft,Ie,zt,Pt,jt,dt,ft,et,It,pt,Mt,Kt,Tr,Ht,Fr,Wt,Pr,Gt,jr,Vt,Ir,Jt,Dr,Yt,Nr,gr,Ks,ks,ln=(ks=class extends Ut{constructor(e,r){super();E(this,pt);E(this,Kt);E(this,Ht);E(this,Wt);E(this,Gt);E(this,Vt);E(this,Jt);E(this,Yt);E(this,gr);E(this,fe,void 0);E(this,$,void 0);E(this,$t,void 0);E(this,de,void 0);E(this,ht,void 0);E(this,Ft,void 0);E(this,Ie,void 0);E(this,zt,void 0);E(this,Pt,void 0);E(this,jt,void 0);E(this,dt,void 0);E(this,ft,void 0);E(this,et,void 0);E(this,It,new Set);this.options=r,b(this,fe,e),b(this,Ie,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,$).addObserver(this),ps(n(this,$),this.options)?D(this,pt,Mt).call(this):this.updateResult(),D(this,Gt,jr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ur(n(this,$),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ur(n(this,$),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,D(this,Vt,Ir).call(this),D(this,Jt,Dr).call(this),n(this,$).removeObserver(this)}setOptions(e,r){const s=this.options,i=n(this,$);if(this.options=n(this,fe).defaultQueryOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");D(this,Yt,Nr).call(this),dr(this.options,s)||n(this,fe).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,$),observer:this});const a=this.hasListeners();a&&ms(n(this,$),i,this.options,s)&&D(this,pt,Mt).call(this),this.updateResult(r),a&&(n(this,$)!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&D(this,Kt,Tr).call(this);const o=D(this,Ht,Fr).call(this);a&&(n(this,$)!==i||this.options.enabled!==s.enabled||o!==n(this,et))&&D(this,Wt,Pr).call(this,o)}getOptimisticResult(e){const r=n(this,fe).getQueryCache().build(n(this,fe),e),s=this.createResult(r,e);return hn(this,s)&&(b(this,de,s),b(this,Ft,this.options),b(this,ht,n(this,$).state)),s}getCurrentResult(){return n(this,de)}trackResult(e){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(n(this,It).add(s),e[s])})}),r}getCurrentQuery(){return n(this,$)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=n(this,fe).defaultQueryOptions(e),s=n(this,fe).getQueryCache().build(n(this,fe),r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(e){return D(this,pt,Mt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,de)))}createResult(e,r){var G;const s=n(this,$),i=this.options,a=n(this,de),o=n(this,ht),h=n(this,Ft),p=e!==s?e.state:n(this,$t),{state:d}=e;let{error:C,errorUpdatedAt:x,fetchStatus:v,status:P}=d,N=!1,m;if(r._optimisticResults){const j=this.hasListeners(),u=!j&&ps(e,r),c=j&&ms(e,s,r,i);(u||c)&&(v=vr(e.options.networkMode)?"fetching":"paused",d.dataUpdatedAt||(P="pending")),r._optimisticResults==="isRestoring"&&(v="idle")}if(r.select&&typeof d.data<"u")if(a&&d.data===(o==null?void 0:o.data)&&r.select===n(this,zt))m=n(this,Pt);else try{b(this,zt,r.select),m=r.select(d.data),m=kr(a==null?void 0:a.data,m,r),b(this,Pt,m),b(this,Ie,null)}catch(j){b(this,Ie,j)}else m=d.data;if(typeof r.placeholderData<"u"&&typeof m>"u"&&P==="pending"){let j;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(h==null?void 0:h.placeholderData))j=a.data;else if(j=typeof r.placeholderData=="function"?r.placeholderData((G=n(this,jt))==null?void 0:G.state.data,n(this,jt)):r.placeholderData,r.select&&typeof j<"u")try{j=r.select(j),b(this,Ie,null)}catch(u){b(this,Ie,u)}typeof j<"u"&&(P="success",m=kr(a==null?void 0:a.data,j,r),N=!0)}n(this,Ie)&&(C=n(this,Ie),m=n(this,Pt),x=Date.now(),P="error");const R=v==="fetching",U=P==="pending",A=P==="error",z=U&&R;return{status:P,fetchStatus:v,isPending:U,isSuccess:P==="success",isError:A,isInitialLoading:z,isLoading:z,data:m,dataUpdatedAt:d.dataUpdatedAt,error:C,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>p.dataUpdateCount||d.errorUpdateCount>p.errorUpdateCount,isFetching:R,isRefetching:R&&!U,isLoadingError:A&&d.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:N,isRefetchError:A&&d.dataUpdatedAt!==0,isStale:Jr(e,r),refetch:this.refetch}}updateResult(e){const r=n(this,de),s=this.createResult(n(this,$),this.options);if(b(this,ht,n(this,$).state),b(this,Ft,this.options),n(this,ht).data!==void 0&&b(this,jt,n(this,$)),dr(s,r))return;b(this,de,s);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,h=typeof o=="function"?o():o;if(h==="all"||!h&&!n(this,It).size)return!0;const l=new Set(h??n(this,It));return this.options.throwOnError&&l.add("error"),Object.keys(n(this,de)).some(p=>{const d=p;return n(this,de)[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),D(this,gr,Ks).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&D(this,Gt,jr).call(this)}},fe=new WeakMap,$=new WeakMap,$t=new WeakMap,de=new WeakMap,ht=new WeakMap,Ft=new WeakMap,Ie=new WeakMap,zt=new WeakMap,Pt=new WeakMap,jt=new WeakMap,dt=new WeakMap,ft=new WeakMap,et=new WeakMap,It=new WeakMap,pt=new WeakSet,Mt=function(e){D(this,Yt,Nr).call(this);let r=n(this,$).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Oe)),r},Kt=new WeakSet,Tr=function(){if(D(this,Vt,Ir).call(this),Nt||n(this,de).isStale||!Sr(this.options.staleTime))return;const r=As(n(this,de).dataUpdatedAt,this.options.staleTime)+1;b(this,dt,setTimeout(()=>{n(this,de).isStale||this.updateResult()},r))},Ht=new WeakSet,Fr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,$)):this.options.refetchInterval)??!1},Wt=new WeakSet,Pr=function(e){D(this,Jt,Dr).call(this),b(this,et,e),!(Nt||this.options.enabled===!1||!Sr(n(this,et))||n(this,et)===0)&&b(this,ft,setInterval(()=>{(this.options.refetchIntervalInBackground||fr.isFocused())&&D(this,pt,Mt).call(this)},n(this,et)))},Gt=new WeakSet,jr=function(){D(this,Kt,Tr).call(this),D(this,Wt,Pr).call(this,D(this,Ht,Fr).call(this))},Vt=new WeakSet,Ir=function(){n(this,dt)&&(clearTimeout(n(this,dt)),b(this,dt,void 0))},Jt=new WeakSet,Dr=function(){n(this,ft)&&(clearInterval(n(this,ft)),b(this,ft,void 0))},Yt=new WeakSet,Nr=function(){const e=n(this,fe).getQueryCache().build(n(this,fe),this.options);if(e===n(this,$))return;const r=n(this,$);b(this,$,e),b(this,$t,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},gr=new WeakSet,Ks=function(e){se.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(n(this,de))}),n(this,fe).getQueryCache().notify({query:n(this,$),type:"observerResultsUpdated"})})},ks);function cn(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ps(t,e){return cn(t,e)||t.state.dataUpdatedAt>0&&Ur(t,e,e.refetchOnMount)}function Ur(t,e,r){if(e.enabled!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Jr(t,e)}return!1}function ms(t,e,r,s){return r.enabled!==!1&&(t!==e||s.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Jr(t,r)}function Jr(t,e){return t.isStaleByTime(e.staleTime)}function hn(t,e){return!dr(t.getCurrentResult(),e)}var tt,rt,ge,qe,Dt,ar,Zt,Mr,Ts,dn=(Ts=class extends Ut{constructor(r,s){super();E(this,Dt);E(this,Zt);E(this,tt,void 0);E(this,rt,void 0);E(this,ge,void 0);E(this,qe,void 0);b(this,tt,r),this.setOptions(s),this.bindMethods(),D(this,Dt,ar).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const s=this.options;this.options=n(this,tt).defaultMutationOptions(r),dr(this.options,s)||n(this,tt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,ge),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&mt(s.mutationKey)!==mt(this.options.mutationKey)?this.reset():(i=n(this,ge))==null||i.setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=n(this,ge))==null||r.removeObserver(this)}onMutationUpdate(r){D(this,Dt,ar).call(this),D(this,Zt,Mr).call(this,r)}getCurrentResult(){return n(this,rt)}reset(){var r;(r=n(this,ge))==null||r.removeObserver(this),b(this,ge,void 0),D(this,Dt,ar).call(this),D(this,Zt,Mr).call(this)}mutate(r,s){var i;return b(this,qe,s),(i=n(this,ge))==null||i.removeObserver(this),b(this,ge,n(this,tt).getMutationCache().build(n(this,tt),this.options)),n(this,ge).addObserver(this),n(this,ge).execute(r)}},tt=new WeakMap,rt=new WeakMap,ge=new WeakMap,qe=new WeakMap,Dt=new WeakSet,ar=function(){var s;const r=((s=n(this,ge))==null?void 0:s.state)??zs();b(this,rt,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Zt=new WeakSet,Mr=function(r){se.batch(()=>{var s,i,a,o,h,l,p,d;if(n(this,qe)&&this.hasListeners()){const C=n(this,rt).variables,x=n(this,rt).context;(r==null?void 0:r.type)==="success"?((i=(s=n(this,qe)).onSuccess)==null||i.call(s,r.data,C,x),(o=(a=n(this,qe)).onSettled)==null||o.call(a,r.data,null,C,x)):(r==null?void 0:r.type)==="error"&&((l=(h=n(this,qe)).onError)==null||l.call(h,r.error,C,x),(d=(p=n(this,qe)).onSettled)==null||d.call(p,void 0,r.error,C,x))}this.listeners.forEach(C=>{C(n(this,rt))})})},Ts),Hs=y.createContext(void 0),Ws=t=>{const e=y.useContext(Hs);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fn=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Hs.Provider,{value:t,children:e})),Gs=y.createContext(!1),pn=()=>y.useContext(Gs);Gs.Provider;function mn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gn=y.createContext(mn()),yn=()=>y.useContext(gn);function Vs(t,e){return typeof t=="function"?t(...e):!!t}var vn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},bn=t=>{y.useEffect(()=>{t.clearReset()},[t])},xn=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&Vs(r,[t.error,s]),wn=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Cn=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,En=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Rn(t,e,r){const s=Ws(r),i=pn(),a=yn(),o=s.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",wn(o),vn(o,a),bn(a);const[h]=y.useState(()=>new e(s,o)),l=h.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(p=>{const d=i?()=>{}:h.subscribe(se.batchCalls(p));return h.updateResult(),d},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),y.useEffect(()=>{h.setOptions(o,{listeners:!1})},[o,h]),Cn(o,l))throw En(o,h,a);if(xn({result:l,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:h.trackResult(l)}function Js(t,e){return Rn(t,ln,e)}function Ys(t,e){const r=Ws(e),[s]=y.useState(()=>new dn(r,t));y.useEffect(()=>{s.setOptions(t)},[s,t]);const i=y.useSyncExternalStore(y.useCallback(o=>s.subscribe(se.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=y.useCallback((o,h)=>{s.mutate(o,h).catch(On)},[s]);if(i.error&&Vs(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function On(){}var Sn=function(){return null};function Xt({children:t,disabled:e,type:r,className:s,onClick:i,variant:a}){return f.jsx("button",{className:`
        inline-flex w-fit items-center justify-center rounded-md shadow-sm transition-buttons duration-200 px-4 py-2 text-sm font-medium

        ${e?"":`
              hover:shadow-lg
              focus:outline-none focus:ring-2 focus:ring-offset-2`}

        ${a==="primary"?`
              bg-oxford-600 text-white
              hover:bg-oxford-700
              focus:bg-oxford-700 focus:ring-oxford-500 focus:ring-offset-white
            `:""}
        ${a==="secondary"?`
              bg-slate-500 text-white
              hover:bg-slate-600
              focus:bg-slate-600 focus:ring-slate-500 focus:ring-offset-white
            `:""}

        ${s}
      `,disabled:e,onClick:i,type:r,children:t})}Xt.propTypes={children:w.node.isRequired,className:w.string,disabled:w.bool,onClick:w.func,type:w.string,variant:w.string};Xt.defaultProps={className:null,disabled:!1,onClick:()=>null,type:"button",variant:"primary"};function _n(t){let e=[],r=[];return t.map((s,i)=>{const a=s.name.split("/");return i===0?(e=[],e=a):(r=[],a.map((o,h)=>o===e[h]?r.push(o):null))}),r.join("/")}function kn(t){const e=new Intl.Collator("en"),r=[...t].sort((i,a)=>a.date.localeCompare(i.date)).map((i,a)=>({dateOrder:a,...i})).sort((i,a)=>e.compare(i.name.toUpperCase(),a.name.toUpperCase())).map((i,a)=>({nameOrder:a,...i}));if(r.length<2)return r.map(i=>({...i,shortName:i.name,visible:!0}));const s=_n(r);return r.map(i=>({...i,shortName:i.name.replace(`${s}/`,""),visible:!0}))}function Zs({authToken:t,filesUrl:e}){return Js({queryKey:["FILE_LIST"],queryFn:async()=>{const r=await fetch(e,{headers:{Authorization:t}});if(!r.ok)throw new Error("File list not found");return r.json()},select:r=>kn(r.files),meta:{errorMessage:"Unable to load files",id:e}})}const pe={authToken:w.string,basePath:w.string,csrfToken:w.string,filesUrl:w.string,prepareUrl:w.string,publishUrl:w.string},De={date:w.string,id:w.string,is_deleted:w.bool,name:w.string,sha256:w.string,size:w.number,url:w.string,user:w.string};let Tn={data:""},Fn=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Tn,Pn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jn=/\/\*[^]*?\*\/|  +/g,gs=/\n+/g,We=(t,e)=>{let r="",s="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":s+=a[1]=="f"?We(o,a):a+"{"+We(o,a[1]=="k"?"":e)+"}":typeof o=="object"?s+=We(o,e?e.replace(/([^,])+/g,h=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,h):h?h+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=We.p?We.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+s},Ae={},Xs=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Xs(t[r]);return e}return t},In=(t,e,r,s,i)=>{let a=Xs(t),o=Ae[a]||(Ae[a]=(l=>{let p=0,d=11;for(;p<l.length;)d=101*d+l.charCodeAt(p++)>>>0;return"go"+d})(a));if(!Ae[o]){let l=a!==t?t:(p=>{let d,C,x=[{}];for(;d=Pn.exec(p.replace(jn,""));)d[4]?x.shift():d[3]?(C=d[3].replace(gs," ").trim(),x.unshift(x[0][C]=x[0][C]||{})):x[0][d[1]]=d[2].replace(gs," ").trim();return x[0]})(t);Ae[o]=We(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let h=r&&Ae.g?Ae.g:null;return r&&(Ae.g=Ae[o]),((l,p,d,C)=>{C?p.data=p.data.replace(C,l):p.data.indexOf(l)===-1&&(p.data=d?l+p.data:p.data+l)})(Ae[o],e,s,h),o},Dn=(t,e,r)=>t.reduce((s,i,a)=>{let o=e[a];if(o&&o.call){let h=o(r),l=h&&h.props&&h.props.className||/^go/.test(h)&&h;o=l?"."+l:h&&typeof h=="object"?h.props?"":We(h,""):h===!1?"":h}return s+i+(o??"")},"");function br(t){let e=this||{},r=t.call?t(e.p):t;return In(r.unshift?r.raw?Dn(r,[].slice.call(arguments,1),e.p):r.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):r,Fn(e.target),e.g,e.o,e.k)}let ei,Ar,Lr;br.bind({g:1});let Be=br.bind({k:1});function Nn(t,e,r,s){We.p=e,ei=t,Ar=r,Lr=s}function st(t,e){let r=this||{};return function(){let s=arguments;function i(a,o){let h=Object.assign({},a),l=h.className||i.className;r.p=Object.assign({theme:Ar&&Ar()},h),r.o=/ *go\d+/.test(l),h.className=br.apply(r,s)+(l?" "+l:""),e&&(h.ref=o);let p=t;return t[0]&&(p=h.as||t,delete h.as),Lr&&p[0]&&Lr(h),ei(p,h)}return e?e(i):i}}var Un=t=>typeof t=="function",mr=(t,e)=>Un(t)?t(e):t,Mn=(()=>{let t=0;return()=>(++t).toString()})(),ti=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),An=20,or=new Map,Ln=1e3,ys=t=>{if(or.has(t))return;let e=setTimeout(()=>{or.delete(t),gt({type:4,toastId:t})},Ln);or.set(t,e)},qn=t=>{let e=or.get(t);e&&clearTimeout(e)},qr=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,An)};case 1:return e.toast.id&&qn(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?qr(t,{type:1,toast:r}):qr(t,{type:0,toast:r});case 3:let{toastId:s}=e;return s?ys(s):t.toasts.forEach(a=>{ys(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},ur=[],lr={toasts:[],pausedAt:void 0},gt=t=>{lr=qr(lr,t),ur.forEach(e=>{e(lr)})},Bn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Qn=(t={})=>{let[e,r]=y.useState(lr);y.useEffect(()=>(ur.push(r),()=>{let i=ur.indexOf(r);i>-1&&ur.splice(i,1)}),[e]);let s=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||Bn[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:s}},$n=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Mn()}),er=t=>(e,r)=>{let s=$n(e,t,r);return gt({type:2,toast:s}),s.id},ye=(t,e)=>er("blank")(t,e);ye.error=er("error");ye.success=er("success");ye.loading=er("loading");ye.custom=er("custom");ye.dismiss=t=>{gt({type:3,toastId:t})};ye.remove=t=>gt({type:4,toastId:t});ye.promise=(t,e,r)=>{let s=ye.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(ye.success(mr(e.success,i),{id:s,...r,...r==null?void 0:r.success}),i)).catch(i=>{ye.error(mr(e.error,i),{id:s,...r,...r==null?void 0:r.error})}),t};var zn=(t,e)=>{gt({type:1,toast:{id:t,height:e}})},Kn=()=>{gt({type:5,time:Date.now()})},Hn=t=>{let{toasts:e,pausedAt:r}=Qn(t);y.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(h=>{if(h.duration===1/0)return;let l=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(l<0){h.visible&&ye.dismiss(h.id);return}return setTimeout(()=>ye.dismiss(h.id),l)});return()=>{o.forEach(h=>h&&clearTimeout(h))}},[e,r]);let s=y.useCallback(()=>{r&&gt({type:6,time:Date.now()})},[r]),i=y.useCallback((a,o)=>{let{reverseOrder:h=!1,gutter:l=8,defaultPosition:p}=o||{},d=e.filter(v=>(v.position||p)===(a.position||p)&&v.height),C=d.findIndex(v=>v.id===a.id),x=d.filter((v,P)=>P<C&&v.visible).length;return d.filter(v=>v.visible).slice(...h?[x+1]:[0,x]).reduce((v,P)=>v+(P.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:zn,startPause:Kn,endPause:s,calculateOffset:i}}},Wn=Be`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gn=Be`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vn=Be`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Jn=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yn=Be`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Zn=st("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Yn} 1s linear infinite;
`,Xn=Be`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ea=Be`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ta=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ea} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ra=st("div")`
  position: absolute;
`,sa=st("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ia=Be`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,na=st("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ia} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aa=({toast:t})=>{let{icon:e,type:r,iconTheme:s}=t;return e!==void 0?typeof e=="string"?y.createElement(na,null,e):e:r==="blank"?null:y.createElement(sa,null,y.createElement(Zn,{...s}),r!=="loading"&&y.createElement(ra,null,r==="error"?y.createElement(Jn,{...s}):y.createElement(ta,{...s})))},oa=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ua=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,la="0%{opacity:0;} 100%{opacity:1;}",ca="0%{opacity:1;} 100%{opacity:0;}",ha=st("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,da=st("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fa=(t,e)=>{let r=t.includes("top")?1:-1,[s,i]=ti()?[la,ca]:[oa(r),ua(r)];return{animation:e?`${Be(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Be(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ri=y.memo(({toast:t,position:e,style:r,children:s})=>{let i=t.height?fa(t.position||e||"top-center",t.visible):{opacity:0},a=y.createElement(aa,{toast:t}),o=y.createElement(da,{...t.ariaProps},mr(t.message,t));return y.createElement(ha,{className:t.className,style:{...i,...r,...t.style}},typeof s=="function"?s({icon:a,message:o}):y.createElement(y.Fragment,null,a,o))});Nn(y.createElement);var pa=({id:t,className:e,style:r,onHeightUpdate:s,children:i})=>{let a=y.useCallback(o=>{if(o){let h=()=>{let l=o.getBoundingClientRect().height;s(t,l)};h(),new MutationObserver(h).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return y.createElement("div",{ref:a,className:e,style:r},i)},ma=(t,e)=>{let r=t.includes("top"),s=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ti()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...s,...i}},ga=br`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ir=16,ya=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:s,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:h,handlers:l}=Hn(r);return y.createElement("div",{style:{position:"fixed",zIndex:9999,top:ir,left:ir,right:ir,bottom:ir,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},h.map(p=>{let d=p.position||e,C=l.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),x=ma(d,C);return y.createElement(pa,{id:p.id,key:p.id,onHeightUpdate:l.updateHeight,className:p.visible?ga:"",style:x},p.type==="custom"?mr(p.message,p):i?i(p):y.createElement(ri,{toast:p,position:d}))}))},Yr=ye;function si({toastId:t}){Yr.dismiss(t)}function Zr({toastId:t,message:e,...r}){console.error(e,{...r}),Yr.error(e,{id:t})}function ii({authToken:t,csrfToken:e,filesUrl:r,prepareUrl:s}){const{data:i}=Zs({authToken:t,filesUrl:r}),a="PrepareButton",o=Ys({mutationFn:async l=>{const p=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({file_ids:l})});if(!p.ok){const d=await p.json();throw new Error(d.detail)}return p.json()},onMutate:()=>{si({toastId:a})},onSuccess:l=>{window.location.href=l.url},onError:l=>{Zr({message:`${l}`,toastId:a,prepareUrl:s,url:document.location.href})}});if(!(i!=null&&i.length))return null;const h=i.map(l=>l.id);return f.jsx(Xt,{disabled:o.isPending,onClick:l=>(l.preventDefault(),o.mutate(h)),type:"button",variant:o.isPending?"secondary":"primary",children:o.isPending?"Creating…":"Create a draft publication"})}ii.propTypes={authToken:pe.authToken.isRequired,csrfToken:pe.csrfToken.isRequired,filesUrl:pe.filesUrl.isRequired,prepareUrl:pe.prepareUrl.isRequired};function ni({csrfToken:t,publishUrl:e}){const r="PublishButton",s=Ys({mutationFn:async()=>{const i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:""});if(!i.ok){const a=await i.json();throw new Error(a.detail)}return i.text()},onMutate:()=>{si({toastId:r})},onSuccess:()=>{window.location.reload()},onError:i=>{Zr({message:`${i}`,toastId:r,publishUrl:e,url:document.location.href})}});return f.jsx(Xt,{disabled:s.isPending,onClick:i=>(i.preventDefault(),s.mutate()),type:"button",variant:s.isPending?"secondary":"primary",children:s.isPending?"Creating…":"Create a public published output"})}ni.propTypes={csrfToken:pe.csrfToken.isRequired,publishUrl:pe.publishUrl.isRequired};function vt({className:t,container:e,header:r,innerClassName:s,children:i}){return f.jsxs("div",{className:`bg-white shadow ${t}`,children:[r?f.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-between px-4 py-2 sm:px-6 sm:py-4 sm:flex-nowrap bg-slate-50",children:r}):null,f.jsx("div",{className:`
          ${s}
          ${e?"px-4 py-3 md:px-6 md:py-5":""}
          ${r&&e?"border-t border-slate-200":""}
        `,children:i})]})}vt.propTypes={children:w.element.isRequired,className:w.string,container:w.bool,header:w.element,innerClassName:w.string};vt.defaultProps={className:"",container:!1,header:null,innerClassName:""};const va=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ba=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],xa=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],wa=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],vs=(t,e,r)=>{let s=t;return typeof e=="string"||Array.isArray(e)?s=t.toLocaleString(e,r):(e===!0||r!==void 0)&&(s=t.toLocaleString(void 0,r)),s};function Ca(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const r=e.bits?e.binary?wa:xa:e.binary?ba:va,s=e.space?" ":"";if(e.signed&&t===0)return` 0${s}${r[0]}`;const i=t<0,a=i?"-":e.signed?"+":"";i&&(t=-t);let o;if(e.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(o={maximumFractionDigits:e.maximumFractionDigits,...o}),t<1){const d=vs(t,e.locale,o);return a+d+s+r[0]}const h=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),r.length-1);t/=(e.binary?1024:1e3)**h,o||(t=t.toPrecision(3));const l=vs(Number(t),e.locale,o),p=r[h];return a+l+s+p}function ai(t){return t?Ca(t,{locale:"en-gb"}):"unknown"}function Xr({autocapitalize:t,autocomplete:e,autocorrect:r,className:s,hideLabel:i,hintText:a,id:o,inputClassName:h,inputmode:l,label:p,labelClass:d,onChange:C,placeholder:x,required:v,type:P,value:N}){return f.jsxs("div",{className:s,children:[f.jsxs("label",{className:`inline-block font-semibold text-lg text-slate-900 cursor-pointer ${d} ${i?"sr-only":"null"}`,htmlFor:o,children:[p,v?f.jsx("span",{"aria-hidden":"true",className:"text-bn-ribbon-700 font-bold",children:"*"}):null]}),a?f.jsx("p",{className:"mb-2 text-sm text-gray-700",children:{hintText:a}}):null,f.jsx("div",{className:"relative",children:f.jsx("input",{autoCapitalize:t,autoComplete:e,autoCorrect:r,className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
            [&:not(:placeholder-shown):not(:focus)]:invalid:border-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-1
            ${h}
            ${i?"":"mt-1"}
          `,id:o,inputMode:l,onChange:C,placeholder:x,required:v,type:P,value:N})})]})}Xr.propTypes={autocapitalize:w.string,autocomplete:w.oneOf(["none","off","characters","words","sentences"]),autocorrect:w.oneOf(["on","off"]),className:w.string,hideLabel:w.bool,hintText:w.string,id:w.string,inputClassName:w.string,inputmode:w.string,label:w.string,labelClass:w.string,onChange:w.func,placeholder:w.string,required:w.bool,type:w.string,value:w.string};Xr.defaultProps={autocapitalize:null,autocomplete:null,autocorrect:null,className:null,hideLabel:!1,hintText:null,id:"inputID",inputClassName:null,inputmode:null,label:null,labelClass:null,onChange:()=>null,placeholder:null,required:null,type:"text",value:null};function oi({files:t,listRef:e,setFiles:r}){const[s,i]=y.useState("");y.useEffect(()=>{const o=[...t].map(h=>({...h,visible:h.shortName.toLowerCase().includes(s.toLowerCase())}));r(o)},[s]);function a(o){var h;(h=e==null?void 0:e.current)==null||h.scrollToItem(0),i(o.target.value)}return f.jsx(Xr,{autocapitalize:"off",autocomplete:"off",autocorrect:"off",className:"mb-1",hideLabel:!0,id:"filterFiles",label:"Find a file…",onChange:o=>a(o),placeholder:"Find a file…",type:"search",value:s})}oi.propTypes={files:w.arrayOf(w.shape()).isRequired,listRef:w.oneOfType([w.func,w.shape({current:w.instanceOf(Element)})]).isRequired,setFiles:w.func.isRequired};function ui({authToken:t,filesUrl:e,listVisible:r,setSelectedFile:s}){const[i,a]=y.useState([]),[o,h]=y.useState("nameOrder"),{data:l,isError:p,isLoading:d,isSuccess:C}=Zs({authToken:t,filesUrl:e}),x=Mi(),v=Ds(),P=y.createRef();if(y.useEffect(()=>{const m=l==null?void 0:l.find(R=>`/${R.name}`===v.pathname);s(m),l&&a(l)},[C]),d)return f.jsx(vt,{container:!0,children:f.jsx("p",{children:"Loading…"})});if(p)return f.jsx(vt,{container:!0,header:f.jsx("h2",{className:"font-semibold text-lg",children:"Error"}),children:f.jsx("p",{children:"Unable to load files"})});const N=({e:m,item:R})=>{m.preventDefault();const U=`/${R.name}`;return x(U),s(R)};return f.jsxs("div",{className:r?"block md:sticky md:top-2":"hidden",children:[f.jsxs("div",{className:"flex flex-row items-center gap-2 mb-1",children:[f.jsx("label",{className:"inline-block font-semibold text-sm text-slate-900 cursor-pointer flex-shrink-0",htmlFor:"fileSort",children:"Sort files by"}),f.jsxs("select",{className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
          `,id:"fileSort",name:"file-sort",onChange:m=>h(m.target.value),value:o,children:[f.jsx("option",{value:"nameOrder",children:"File name"}),f.jsx("option",{value:"dateOrder",children:"Created date"})]})]}),f.jsx(oi,{files:l,listRef:P,setFiles:a}),f.jsx(vt,{className:"py-2 md:max-h-screen md:h-full overflow-x-auto md:overflow-y-auto",container:!1,children:f.jsx("ul",{className:"text-sm text-oxford-600 flex flex-col gap-y-1 items-start",children:i.sort((m,R)=>m[o]-R[o]).map(m=>f.jsx(Fs.Fragment,{children:m.visible&&f.jsx("li",{className:`leading-tight px-4 ${`/${m.name}`===v.pathname?"font-bold text-oxford-800":""}`,children:`/${m.name}`===v.pathname?f.jsx("span",{children:m.shortName}):f.jsx("a",{disabled:`/${m.name}`===v.pathname,href:m.url,onClick:R=>N({e:R,item:m}),title:`File size: ${ai(m.size)}`,children:m.shortName})})},m.id))})})]})}ui.propTypes={authToken:pe.authToken.isRequired,filesUrl:pe.filesUrl.isRequired,listVisible:w.bool.isRequired,setSelectedFile:w.func.isRequired};function tr({className:t,children:e,href:r,newTab:s}){return f.jsx("a",{className:`
        font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
        hover:decoration-transparent hover:text-oxford
        focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
        ${t}
      `,href:r,rel:s?"noreferrer noopener":void 0,target:s?"filePreview":void 0,children:e})}tr.propTypes={children:w.oneOfType([w.element,w.string]),className:w.string,href:w.string.isRequired,newTab:w.bool};tr.defaultProps={children:null,className:null,newTab:!1};function li({fileDate:t,fileName:e,fileSize:r,fileUrl:s}){const i=()=>{if(Date.parse(t)){const a=new Date(t);return{absolute:a.toISOString(),formatted:new Intl.DateTimeFormat("en-GB",{timeZone:"UTC",dateStyle:"short",timeStyle:"short"}).format(a)}}return!1};return f.jsxs("ul",{className:"flex flex-row gap-2 items-center w-full flex-wrap",children:[f.jsx("li",{className:"mr-auto pr-4",children:f.jsx(tr,{className:`
            font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
            hover:decoration-transparent hover:text-oxford
            focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
            after:content-['↗'] after:text-sm after:ml-1 after:absolute after:mt-0.5
          `,href:s,newTab:!0,children:e})}),i()&&f.jsxs("li",{className:"font-mono text-sm text-right whitespace-nowrap",children:[f.jsx("div",{className:"sr-only",children:"Last modified at: "}),f.jsx("time",{className:"",dateTime:i().absolute,title:i().absolute,children:i().formatted})]}),f.jsx("li",{className:"font-mono text-sm text-right whitespace-nowrap ml-4",children:ai(r)})]})}li.propTypes={fileDate:De.date.isRequired,fileName:De.name.isRequired,fileSize:De.size.isRequired,fileUrl:De.url.isRequired};function Ea(){return f.jsx(ya,{position:"top-right",toastOptions:{duration:1/0,style:{whiteSpace:"pre-line",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},error:{style:{color:"#721c24",backgroundColor:"#f8d7da"}}},children:t=>f.jsx(ri,{id:"ToastBar",toast:t,children:({icon:e,message:r})=>f.jsxs(f.Fragment,{children:[e,r,t.type!=="loading"&&f.jsxs("button",{className:"border border-current rounded p-1 hover:bg-current hover:fill-white",onClick:()=>Yr.dismiss(t.id),type:"button",children:[f.jsx("span",{className:"sr-only",children:"Dismiss"}),f.jsx("svg",{className:"h-4 w-4",fill:"currentFill",viewBox:"0 0 20 20",width:"12",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{clipRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",fillRule:"evenodd"})})]})]})})})}const Br=t=>t.toLowerCase().match(/.*\.(?:csv)$/i),ci=t=>t.toLowerCase().match(/.*\.(?:html)$/i),Qr=t=>t.toLowerCase().match(/.*\.(?:gif|jpg|jpeg|png|svg)$/i),hi=t=>t.toLowerCase().match(/.*\.(?:txt)$/i),di=t=>t.toLowerCase().match(/.*\.(?:json)$/i),bs=t=>Br(t)||ci(t)||Qr(t)||hi(t)||di(t),Rr='"File not yet uploaded"';var Ra=Oa;function Oa(t,e,r){var s=null,i=null,a=function(){s&&(clearTimeout(s),i=null,s=null)},o=function(){var l=i;a(),l&&l()},h=function(){if(!e)return t.apply(this,arguments);var l=this,p=arguments,d=r&&!s;if(a(),i=function(){t.apply(l,p)},s=setTimeout(function(){if(s=null,!d){var C=i;return i=null,C()}},e),d)return i()};return h.cancel=a,h.flush=o,h}function Sa(t=100){const[e,r]=y.useState({width:void 0,height:void 0});return y.useEffect(()=>{function s(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",Ra(s,t)),s(),()=>window.removeEventListener("resize",s)},[t]),e}function fi({data:t,fileName:e,fileUrl:r}){const s=Sa(),[i,a]=y.useState(0),o=encodeURIComponent(r).replace(/\W/g,"");return y.useLayoutEffect(()=>{var l;if(document.getElementById(o)&&window.innerWidth>991){const p=Math.round((l=document==null?void 0:document.getElementById("outputsSPA"))==null?void 0:l.offsetHeight);if(!p||p<1e3)return a(1e3)}return a(1e3)},[s,o]),f.jsx("iframe",{className:"-mx-4 -my-3 w-[calc(100%+2rem)] md:-mx-6 md:-my-5 md:w-[calc(100%+3rem)]",frameBorder:"0",height:i,id:o,src:r,srcDoc:t,title:e,width:"100%"})}fi.propTypes={data:w.string.isRequired,fileName:De.name.isRequired,fileUrl:De.url.isRequired};function pi({data:t}){return f.jsx("img",{alt:"",className:"h-auto max-w-full",src:t})}pi.propTypes={data:w.string.isRequired};function es({error:t,fileUrl:e}){return f.jsxs(f.Fragment,{children:[t?f.jsx("p",{children:"Error: Unable to load file"}):f.jsx("p",{children:"We cannot show a preview of this file."}),f.jsx("p",{className:"mt-3",children:f.jsx(tr,{href:e,newTab:!0,children:"Open file in a new tab ↗"})})]})}es.propTypes={error:w.shape({message:w.string}),fileUrl:De.url.isRequired};es.defaultProps={error:null};var mi={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(r,s){t.exports=s()})(Ci,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},i=!s.document&&!!s.postMessage,a=s.IS_PAPA_WORKER||!1,o={},h=0,l={parse:function(u,c){var g=(c=c||{}).dynamicTyping||!1;if(j(g)&&(c.dynamicTypingFunction=g,g={}),c.dynamicTyping=g,c.transform=!!j(c.transform)&&c.transform,c.worker&&l.WORKERS_SUPPORTED){var O=function(){if(!l.WORKERS_SUPPORTED)return!1;var I=(oe=s.URL||s.webkitURL||null,V=r.toString(),l.BLOB_URL||(l.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))),M=new s.Worker(I),oe,V;return M.onmessage=U,M.id=h++,o[M.id]=M}();return O.userStep=c.step,O.userChunk=c.chunk,O.userComplete=c.complete,O.userError=c.error,c.step=j(c.step),c.chunk=j(c.chunk),c.complete=j(c.complete),c.error=j(c.error),delete c.worker,void O.postMessage({input:u,config:c,workerId:O.id})}var _=null;return l.NODE_STREAM_INPUT,typeof u=="string"?(u=function(I){return I.charCodeAt(0)===65279?I.slice(1):I}(u),_=c.download?new C(c):new v(c)):u.readable===!0&&j(u.read)&&j(u.on)?_=new P(c):(s.File&&u instanceof File||u instanceof Object)&&(_=new x(c)),_.stream(u)},unparse:function(u,c){var g=!1,O=!0,_=",",I=`\r
`,M='"',oe=M+M,V=!1,k=null,Z=!1;(function(){if(typeof c=="object"){if(typeof c.delimiter!="string"||l.BAD_DELIMITERS.filter(function(S){return c.delimiter.indexOf(S)!==-1}).length||(_=c.delimiter),(typeof c.quotes=="boolean"||typeof c.quotes=="function"||Array.isArray(c.quotes))&&(g=c.quotes),typeof c.skipEmptyLines!="boolean"&&typeof c.skipEmptyLines!="string"||(V=c.skipEmptyLines),typeof c.newline=="string"&&(I=c.newline),typeof c.quoteChar=="string"&&(M=c.quoteChar),typeof c.header=="boolean"&&(O=c.header),Array.isArray(c.columns)){if(c.columns.length===0)throw new Error("Option columns is empty");k=c.columns}c.escapeChar!==void 0&&(oe=c.escapeChar+M),(typeof c.escapeFormulae=="boolean"||c.escapeFormulae instanceof RegExp)&&(Z=c.escapeFormulae instanceof RegExp?c.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(m(M),"g");if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return Se(null,u,V);if(typeof u[0]=="object")return Se(k||Object.keys(u[0]),u,V)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||k),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),Se(u.fields||[],u.data||[],V);throw new Error("Unable to serialize unrecognized input");function Se(S,K,ce){var J="";typeof S=="string"&&(S=JSON.parse(S)),typeof K=="string"&&(K=JSON.parse(K));var ue=Array.isArray(S)&&0<S.length,ie=!Array.isArray(K[0]);if(ue&&O){for(var ne=0;ne<S.length;ne++)0<ne&&(J+=_),J+=le(S[ne],ne);0<K.length&&(J+=I)}for(var T=0;T<K.length;T++){var L=ue?S.length:K[T].length,H=!1,te=ue?Object.keys(K[T]).length===0:K[T].length===0;if(ce&&!ue&&(H=ce==="greedy"?K[T].join("").trim()==="":K[T].length===1&&K[T][0].length===0),ce==="greedy"&&ue){for(var B=[],he=0;he<L;he++){var X=ie?S[he]:he;B.push(K[T][X])}H=B.join("").trim()===""}if(!H){for(var Q=0;Q<L;Q++){0<Q&&!te&&(J+=_);var _e=ue&&ie?S[Q]:Q;J+=le(K[T][_e],Q)}T<K.length-1&&(!ce||0<L&&!te)&&(J+=I)}}return J}function le(S,K){if(S==null)return"";if(S.constructor===Date)return JSON.stringify(S).slice(1,25);var ce=!1;Z&&typeof S=="string"&&Z.test(S)&&(S="'"+S,ce=!0);var J=S.toString().replace(F,oe);return(ce=ce||g===!0||typeof g=="function"&&g(S,K)||Array.isArray(g)&&g[K]||function(ue,ie){for(var ne=0;ne<ie.length;ne++)if(-1<ue.indexOf(ie[ne]))return!0;return!1}(J,l.BAD_DELIMITERS)||-1<J.indexOf(_)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?M+J+M:J}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!s.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=R,l.ParserHandle=N,l.NetworkStreamer=C,l.FileStreamer=x,l.StringStreamer=v,l.ReadableStreamStreamer=P,s.jQuery){var p=s.jQuery;p.fn.parse=function(u){var c=u.config||{},g=[];return this.each(function(I){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var M=0;M<this.files.length;M++)g.push({file:this.files[M],inputElem:this,instanceConfig:p.extend({},c)})}),O(),this;function O(){if(g.length!==0){var I,M,oe,V,k=g[0];if(j(u.before)){var Z=u.before(k.file,k.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return I="AbortError",M=k.file,oe=k.inputElem,V=Z.reason,void(j(u.error)&&u.error({name:I},M,oe,V));if(Z.action==="skip")return void _();typeof Z.config=="object"&&(k.instanceConfig=p.extend(k.instanceConfig,Z.config))}else if(Z==="skip")return void _()}var F=k.instanceConfig.complete;k.instanceConfig.complete=function(Se){j(F)&&F(Se,k.file,k.inputElem),_()},l.parse(k.file,k.instanceConfig)}else j(u.complete)&&u.complete()}function _(){g.splice(0,1),O()}}}function d(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(c){var g=Y(c);g.chunkSize=parseInt(g.chunkSize),c.step||c.chunk||(g.chunkSize=null),this._handle=new N(g),(this._handle.streamer=this)._config=g}).call(this,u),this.parseChunk=function(c,g){if(this.isFirstChunk&&j(this._config.beforeFirstChunk)){var O=this._config.beforeFirstChunk(c);O!==void 0&&(c=O)}this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+c;this._partialLine="";var I=this._handle.parse(_,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var M=I.meta.cursor;this._finished||(this._partialLine=_.substring(M-this._baseIndex),this._baseIndex=M),I&&I.data&&(this._rowCount+=I.data.length);var oe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)s.postMessage({results:I,workerId:l.WORKER_ID,finished:oe});else if(j(this._config.chunk)&&!g){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);I=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!oe||!j(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),oe||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(c){j(this._config.error)?this._config.error(c):a&&this._config.error&&s.postMessage({workerId:l.WORKER_ID,error:c,finished:!1})}}function C(u){var c;(u=u||{}).chunkSize||(u.chunkSize=l.RemoteChunkSize),d.call(this,u),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(g){this._input=g,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(c=new XMLHttpRequest,this._config.withCredentials&&(c.withCredentials=this._config.withCredentials),i||(c.onload=G(this._chunkLoaded,this),c.onerror=G(this._chunkError,this)),c.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var g=this._config.downloadRequestHeaders;for(var O in g)c.setRequestHeader(O,g[O])}if(this._config.chunkSize){var _=this._start+this._config.chunkSize-1;c.setRequestHeader("Range","bytes="+this._start+"-"+_)}try{c.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}i&&c.status===0&&this._chunkError()}},this._chunkLoaded=function(){c.readyState===4&&(c.status<200||400<=c.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:c.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(g){var O=g.getResponseHeader("Content-Range");return O===null?-1:parseInt(O.substring(O.lastIndexOf("/")+1))}(c),this.parseChunk(c.responseText)))},this._chunkError=function(g){var O=c.statusText||g;this._sendError(new Error(O))}}function x(u){var c,g;(u=u||{}).chunkSize||(u.chunkSize=l.LocalChunkSize),d.call(this,u);var O=typeof FileReader<"u";this.stream=function(_){this._input=_,g=_.slice||_.webkitSlice||_.mozSlice,O?((c=new FileReader).onload=G(this._chunkLoaded,this),c.onerror=G(this._chunkError,this)):c=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input;if(this._config.chunkSize){var I=Math.min(this._start+this._config.chunkSize,this._input.size);_=g.call(_,this._start,I)}var M=c.readAsText(_,this._config.encoding);O||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(c.error)}}function v(u){var c;d.call(this,u=u||{}),this.stream=function(g){return c=g,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var g,O=this._config.chunkSize;return O?(g=c.substring(0,O),c=c.substring(O)):(g=c,c=""),this._finished=!c,this.parseChunk(g)}}}function P(u){d.call(this,u=u||{});var c=[],g=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&c.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),c.length?this.parseChunk(c.shift()):g=!0},this._streamData=G(function(_){try{c.push(typeof _=="string"?_:_.toString(this._config.encoding)),g&&(g=!1,this._checkIsFinished(),this.parseChunk(c.shift()))}catch(I){this._streamError(I)}},this),this._streamError=G(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=G(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(u){var c,g,O,_=Math.pow(2,53),I=-_,M=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,k=0,Z=0,F=!1,Se=!1,le=[],S={data:[],errors:[],meta:{}};if(j(u.step)){var K=u.step;u.step=function(T){if(S=T,ue())J();else{if(J(),S.data.length===0)return;k+=T.data.length,u.preview&&k>u.preview?g.abort():(S.data=S.data[0],K(S,V))}}}function ce(T){return u.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function J(){return S&&O&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),O=!1),u.skipEmptyLines&&(S.data=S.data.filter(function(T){return!ce(T)})),ue()&&function(){if(!S)return;function T(H,te){j(u.transformHeader)&&(H=u.transformHeader(H,te)),le.push(H)}if(Array.isArray(S.data[0])){for(var L=0;ue()&&L<S.data.length;L++)S.data[L].forEach(T);S.data.splice(0,1)}else S.data.forEach(T)}(),function(){if(!S||!u.header&&!u.dynamicTyping&&!u.transform)return S;function T(H,te){var B,he=u.header?{}:[];for(B=0;B<H.length;B++){var X=B,Q=H[B];u.header&&(X=B>=le.length?"__parsed_extra":le[B]),u.transform&&(Q=u.transform(Q,X)),Q=ie(X,Q),X==="__parsed_extra"?(he[X]=he[X]||[],he[X].push(Q)):he[X]=Q}return u.header&&(B>le.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+le.length+" fields but parsed "+B,Z+te):B<le.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+le.length+" fields but parsed "+B,Z+te)),he}var L=1;return!S.data.length||Array.isArray(S.data[0])?(S.data=S.data.map(T),L=S.data.length):S.data=T(S.data,0),u.header&&S.meta&&(S.meta.fields=le),Z+=L,S}()}function ue(){return u.header&&le.length===0}function ie(T,L){return H=T,u.dynamicTypingFunction&&u.dynamicTyping[H]===void 0&&(u.dynamicTyping[H]=u.dynamicTypingFunction(H)),(u.dynamicTyping[H]||u.dynamicTyping)===!0?L==="true"||L==="TRUE"||L!=="false"&&L!=="FALSE"&&(function(te){if(M.test(te)){var B=parseFloat(te);if(I<B&&B<_)return!0}return!1}(L)?parseFloat(L):oe.test(L)?new Date(L):L===""?null:L):L;var H}function ne(T,L,H,te){var B={type:T,code:L,message:H};te!==void 0&&(B.row=te),S.errors.push(B)}this.parse=function(T,L,H){var te=u.quoteChar||'"';if(u.newline||(u.newline=function(X,Q){X=X.substring(0,1048576);var _e=new RegExp(m(Q)+"([^]*?)"+m(Q),"gm"),ve=(X=X.replace(_e,"")).split("\r"),Te=X.split(`
`),Ue=1<Te.length&&Te[0].length<ve[0].length;if(ve.length===1||Ue)return`
`;for(var be=0,W=0;W<ve.length;W++)ve[W][0]===`
`&&be++;return be>=ve.length/2?`\r
`:"\r"}(T,te)),O=!1,u.delimiter)j(u.delimiter)&&(u.delimiter=u.delimiter(T),S.meta.delimiter=u.delimiter);else{var B=function(X,Q,_e,ve,Te){var Ue,be,W,ee;Te=Te||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var it=0;it<Te.length;it++){var q=Te[it],yt=0,Me=0,nt=0;W=void 0;for(var $e=new R({comments:ve,delimiter:q,newline:Q,preview:10}).parse(X),ze=0;ze<$e.data.length;ze++)if(_e&&ce($e.data[ze]))nt++;else{var Ke=$e.data[ze].length;Me+=Ke,W!==void 0?0<Ke&&(yt+=Math.abs(Ke-W),W=Ke):W=Ke}0<$e.data.length&&(Me/=$e.data.length-nt),(be===void 0||yt<=be)&&(ee===void 0||ee<Me)&&1.99<Me&&(be=yt,Ue=q,ee=Me)}return{successful:!!(u.delimiter=Ue),bestDelimiter:Ue}}(T,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess);B.successful?u.delimiter=B.bestDelimiter:(O=!0,u.delimiter=l.DefaultDelimiter),S.meta.delimiter=u.delimiter}var he=Y(u);return u.preview&&u.header&&he.preview++,c=T,g=new R(he),S=g.parse(c,L,H),J(),F?{meta:{paused:!0}}:S||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,g.abort(),c=j(u.chunk)?"":c.substring(g.getCharIndex())},this.resume=function(){V.streamer._halted?(F=!1,V.streamer.parseChunk(c,!0)):setTimeout(V.resume,3)},this.aborted=function(){return Se},this.abort=function(){Se=!0,g.abort(),S.meta.aborted=!0,j(u.complete)&&u.complete(S),c=""}}function m(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(u){var c,g=(u=u||{}).delimiter,O=u.newline,_=u.comments,I=u.step,M=u.preview,oe=u.fastMode,V=c=u.quoteChar===void 0||u.quoteChar===null?'"':u.quoteChar;if(u.escapeChar!==void 0&&(V=u.escapeChar),(typeof g!="string"||-1<l.BAD_DELIMITERS.indexOf(g))&&(g=","),_===g)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<l.BAD_DELIMITERS.indexOf(_))&&(_=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var k=0,Z=!1;this.parse=function(F,Se,le){if(typeof F!="string")throw new Error("Input must be a string");var S=F.length,K=g.length,ce=O.length,J=_.length,ue=j(I),ie=[],ne=[],T=[],L=k=0;if(!F)return xe();if(u.header&&!Se){var H=F.split(O)[0].split(g),te=[],B={},he=!1;for(var X in H){var Q=H[X];j(u.transformHeader)&&(Q=u.transformHeader(Q,X));var _e=Q,ve=B[Q]||0;for(0<ve&&(he=!0,_e=Q+"_"+ve),B[Q]=ve+1;te.includes(_e);)_e=_e+"_"+ve;te.push(_e)}if(he){var Te=F.split(O);Te[0]=te.join(g),F=Te.join(O)}}if(oe||oe!==!1&&F.indexOf(c)===-1){for(var Ue=F.split(O),be=0;be<Ue.length;be++){if(T=Ue[be],k+=T.length,be!==Ue.length-1)k+=O.length;else if(le)return xe();if(!_||T.substring(0,J)!==_){if(ue){if(ie=[],nt(T.split(g)),rr(),Z)return xe()}else nt(T.split(g));if(M&&M<=be)return ie=ie.slice(0,M),xe(!0)}}return xe()}for(var W=F.indexOf(g,k),ee=F.indexOf(O,k),it=new RegExp(m(V)+m(c),"g"),q=F.indexOf(c,k);;)if(F[k]!==c)if(_&&T.length===0&&F.substring(k,k+J)===_){if(ee===-1)return xe();k=ee+ce,ee=F.indexOf(O,k),W=F.indexOf(g,k)}else if(W!==-1&&(W<ee||ee===-1))T.push(F.substring(k,W)),k=W+K,W=F.indexOf(g,k);else{if(ee===-1)break;if(T.push(F.substring(k,ee)),Ke(ee+ce),ue&&(rr(),Z))return xe();if(M&&ie.length>=M)return xe(!0)}else for(q=k,k++;;){if((q=F.indexOf(c,q+1))===-1)return le||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:k}),ze();if(q===S-1)return ze(F.substring(k,q).replace(it,c));if(c!==V||F[q+1]!==V){if(c===V||q===0||F[q-1]!==V){W!==-1&&W<q+1&&(W=F.indexOf(g,q+1)),ee!==-1&&ee<q+1&&(ee=F.indexOf(O,q+1));var yt=$e(ee===-1?W:Math.min(W,ee));if(F.substr(q+1+yt,K)===g){T.push(F.substring(k,q).replace(it,c)),F[k=q+1+yt+K]!==c&&(q=F.indexOf(c,k)),W=F.indexOf(g,k),ee=F.indexOf(O,k);break}var Me=$e(ee);if(F.substring(q+1+Me,q+1+Me+ce)===O){if(T.push(F.substring(k,q).replace(it,c)),Ke(q+1+Me+ce),W=F.indexOf(g,k),q=F.indexOf(c,k),ue&&(rr(),Z))return xe();if(M&&ie.length>=M)return xe(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:k}),q++}}else q++}return ze();function nt(we){ie.push(we),L=k}function $e(we){var rs=0;if(we!==-1){var xr=F.substring(q+1,we);xr&&xr.trim()===""&&(rs=xr.length)}return rs}function ze(we){return le||(we===void 0&&(we=F.substring(k)),T.push(we),k=S,nt(T),ue&&rr()),xe()}function Ke(we){k=we,nt(T),T=[],ee=F.indexOf(O,k)}function xe(we){return{data:ie,errors:ne,meta:{delimiter:g,linebreak:O,aborted:Z,truncated:!!we,cursor:L+(Se||0)}}}function rr(){I(xe()),ie=[],ne=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return k}}function U(u){var c=u.data,g=o[c.workerId],O=!1;if(c.error)g.userError(c.error,c.file);else if(c.results&&c.results.data){var _={abort:function(){O=!0,A(c.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(j(g.userStep)){for(var I=0;I<c.results.data.length&&(g.userStep({data:c.results.data[I],errors:c.results.errors,meta:c.results.meta},_),!O);I++);delete c.results}else j(g.userChunk)&&(g.userChunk(c.results,_,c.file),delete c.results)}c.finished&&!O&&A(c.workerId,c.results)}function A(u,c){var g=o[u];j(g.userComplete)&&g.userComplete(c),g.terminate(),delete o[u]}function z(){throw new Error("Not implemented.")}function Y(u){if(typeof u!="object"||u===null)return u;var c=Array.isArray(u)?[]:{};for(var g in u)c[g]=Y(u[g]);return c}function G(u,c){return function(){u.apply(c,arguments)}}function j(u){return typeof u=="function"}return a&&(s.onmessage=function(u){var c=u.data;if(l.WORKER_ID===void 0&&c&&(l.WORKER_ID=c.workerId),typeof c.input=="string")s.postMessage({workerId:l.WORKER_ID,results:l.parse(c.input,c.config),finished:!0});else if(s.File&&c.input instanceof File||c.input instanceof Object){var g=l.parse(c.input,c.config);g&&s.postMessage({workerId:l.WORKER_ID,results:g,finished:!0})}}),(C.prototype=Object.create(d.prototype)).constructor=C,(x.prototype=Object.create(d.prototype)).constructor=x,(v.prototype=Object.create(v.prototype)).constructor=v,(P.prototype=Object.create(d.prototype)).constructor=P,l})})(mi);var _a=mi.exports;const Qe=Ei(_a);function ka(t,e){return Qe.parse(t,e)}function Ta(t,e){Qe.parse(t,Object.assign({},{download:!0},e))}function Fa(t,e){return e===void 0&&(e={}),Qe.unparse(t,e)}function Pa(){return{readString:ka,readRemoteFile:Ta,jsonToCSV:Fa}}Qe.BAD_DELIMITERS;Qe.RECORD_SEP;Qe.UNIT_SEP;Qe.WORKERS_SUPPORTED;Qe.LocalChunkSize;Qe.DefaultDelimiter;function gi({cell:t}){return f.jsx("td",{className:"py-2 px-2 text-sm text-gray-900",children:t})}function $r({row:t}){return f.jsx("tr",{className:"divide-x divide-gray-200 even:bg-gray-50",children:t.map((e,r)=>f.jsx(gi,{cell:e},r))})}function yi({data:t}){const{readString:e}=Pa(),r=e(t,{chunk:!0,complete:s=>s}).data;return r.length>=1e3?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"font-bold mb-2",role:"alert",children:"This is a preview of the first 1000 rows"}),f.jsx("div",{className:"flow-root",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsx("div",{className:"inline-block min-w-full align-middle",children:f.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.slice(0,1e3).map((s,i)=>f.jsx($r,{row:s},i))})})})})})]}):f.jsx("div",{className:"flow-root",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsx("div",{className:"inline-block min-w-full align-middle",children:f.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.map((s,i)=>f.jsx($r,{row:s},i))})})})})})}gi.propTypes={cell:w.string.isRequired};$r.propTypes={row:w.arrayOf(w.string).isRequired};yi.propTypes={data:w.string.isRequired};function zr({data:t}){return f.jsx("pre",{className:"whitespace-break-spaces break-words",children:t})}zr.propTypes={data:w.string.isRequired};function vi({authToken:t,fileName:e,fileSize:r,fileUrl:s,uuid:i}){const{data:a,error:o,isLoading:h,isError:l}=Js({queryKey:["FILE",s],queryFn:async()=>{if(!bs(e)||r>2e7||Br(e)&&r>5e6)return!1;const p=`${s}?${i}`;let d=await fetch(p,{headers:{Authorization:t}});if(!d.ok)throw new Error;if(d.headers.has("Location")&&d.headers.has("Authorization")&&(d=await fetch(d.headers.get("Location"),{headers:{Authorization:d.headers.get("Authorization")}}),!d.ok))throw new Error;const C=await d.clone().text();if(C===Rr)return Rr;if(Qr(e)){const x=await d.blob();return URL.createObjectURL(x)}return C},meta:{errorMessage:`${e} - Unable to load file`,id:s}});return h?f.jsx("span",{children:"Loading..."}):a===Rr?f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"This file has not been uploaded yet. This is likely due to do an error that occurred during release."}),f.jsx("p",{className:"mt-3",children:f.jsx(tr,{href:"https://docs.opensafely.org/how-to-get-help/#slack",newTab:!0,children:"Contact tech support in Slack for more information."})})]}):l||!a||!bs(e)?f.jsx(es,{error:o,fileUrl:s}):f.jsxs(f.Fragment,{children:[Br(e)?f.jsx(yi,{data:a}):null,ci(e)&&f.jsx(fi,{data:a,fileName:e,fileUrl:s}),Qr(e)?f.jsx(pi,{data:a}):null,hi(e)?f.jsx(zr,{data:a}):null,di(e)?f.jsx(zr,{data:a}):null]})}vi.propTypes={authToken:pe.authToken.isRequired,fileName:De.name.isRequired,fileSize:De.size.isRequired,fileUrl:De.url.isRequired,uuid:w.number.isRequired};const ja=new un({defaultOptions:{queries:{refetchOnWindowFocus:!1}},queryCache:new $s({onError:(t,e)=>{e.meta.errorMessage&&Zr({message:e.meta.errorMessage,toastId:e.meta.id,filesUrl:e.meta.id,url:document.location.href})}})});function ts({authToken:t,csrfToken:e,filesUrl:r,prepareUrl:s,publishUrl:i}){const a=Date.now(),[o,h]=y.useState(!0),[l,p]=y.useState();return f.jsxs(fn,{client:ja,children:[f.jsxs("div",{className:"py-6",children:[(s||i)&&f.jsxs("div",{className:"mb-3 -mt-3 px-1 md:px-6",children:[s&&f.jsx(ii,{authToken:t,csrfToken:e,filesUrl:r,prepareUrl:s}),i&&f.jsx(ni,{csrfToken:e,publishUrl:i})]}),f.jsxs("div",{className:"grid gap-6 grid-cols-1 px-1 md:grid-cols-3 md:px-6 lg:grid-cols-4",children:[f.jsxs("div",{className:"flex flex-col gap-y-1 md:col-span-1",children:[f.jsxs(Xt,{className:"block md:hidden mb-3",onClick:()=>h(!o),type:"button",variant:"secondary",children:[o?"Hide":"Show"," file list"]}),f.jsx(ui,{authToken:t,filesUrl:r,listVisible:o,setListVisible:h,setSelectedFile:p})]}),f.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:l&&f.jsx(vt,{container:!0,header:f.jsx(li,{fileDate:l.date,fileName:l.shortName,fileSize:l.size,fileUrl:l.url}),children:f.jsx(vi,{authToken:t,fileName:l.shortName,fileSize:l.size,fileUrl:l.url,uuid:a})})})]})]}),f.jsx(Ea,{}),f.jsx(Sn,{initialIsOpen:!1})]})}ts.propTypes={authToken:pe.authToken.isRequired,csrfToken:pe.csrfToken.isRequired,filesUrl:pe.filesUrl.isRequired,prepareUrl:pe.prepareUrl,publishUrl:pe.publishUrl};ts.defaultProps={prepareUrl:null,publishUrl:null};var Ia={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};xi({dsn:Ia.VITE_SENTRY_DSN,tracesSampleRate:1});const cr=document.getElementById("outputsSPA"),Da=wi(cr);document.getElementById("content")&&document.getElementById("content").remove();Da.render(f.jsx(Fs.StrictMode,{children:f.jsx(Hi,{basename:cr.dataset.basePath,children:f.jsx(ts,{...cr.dataset,element:cr})})}));
