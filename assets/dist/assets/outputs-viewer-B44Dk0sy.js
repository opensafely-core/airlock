var gs=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var n=(t,e,s)=>(gs(t,e,"read from private field"),s?s.call(t):e.get(t)),E=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},x=(t,e,s,r)=>(gs(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var ts=(t,e,s,r)=>({set _(i){x(t,e,i,s)},get _(){return n(t,e,r)}}),P=(t,e,s)=>(gs(t,e,"access private method"),s);import{r as b,e as vi,j as d,P as C,R as kr,i as bi,c as xi}from"./index-tdSqgQf3.js";import{c as wi,g as Ci}from"./_commonjsHelpers-BosuxZz1.js";/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Mt.apply(this,arguments)}var nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nt||(nt={}));const tr="popstate";function Ei(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:u,hash:h}=r.location;return xs("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Tr(i)}return Ri(e,s,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Si(){return Math.random().toString(36).substr(2,8)}function sr(t,e){return{usr:t.state,key:t.key,idx:e}}function xs(t,e,s,r){return s===void 0&&(s=null),Mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fs(e):e,{state:s,key:e&&e.key||r||Si()})}function Tr(t){let{pathname:e="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fs(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ri(t,e,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,h=nt.Pop,c=null,f=p();f==null&&(f=0,u.replaceState(Mt({},u.state,{idx:f}),""));function p(){return(u.state||{idx:null}).idx}function v(){h=nt.Pop;let m=p(),O=m==null?null:m-f;f=m,c&&c({action:h,location:I.location,delta:O})}function g(m,O){h=nt.Push;let N=xs(I.location,m,O);s&&s(N,m),f=p()+1;let L=sr(N,f),z=I.createHref(N);try{u.pushState(L,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(z)}a&&c&&c({action:h,location:I.location,delta:1})}function w(m,O){h=nt.Replace;let N=xs(I.location,m,O);s&&s(N,m),f=p();let L=sr(N,f),z=I.createHref(N);u.replaceState(L,"",z),a&&c&&c({action:h,location:I.location,delta:0})}function D(m){let O=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof m=="string"?m:Tr(m);return N=N.replace(/ $/,"%20"),Ne(O,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,O)}let I={get action(){return h},get location(){return t(i,u)},listen(m){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(tr,v),c=m,()=>{i.removeEventListener(tr,v),c=null}},createHref(m){return e(i,m)},createURL:D,encodeLocation(m){let O=D(m);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:g,replace:w,go(m){return u.go(m)}};return I}var rr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rr||(rr={}));function Oi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function _i(t,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?fs(t):t;return{pathname:s?s.startsWith("/")?s:ki(s,e):e,search:Ii(r),hash:Di(i)}}function ki(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function ys(t,e,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ti(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Fi(t,e){let s=Ti(t);return e?s.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function ji(t,e,s,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fs(t):(i=Mt({},t),Ne(!i.pathname||!i.pathname.includes("?"),ys("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),ys("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),ys("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=s;else{let v=e.length-1;if(!r&&u.startsWith("..")){let g=u.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}h=v>=0?e[v]:"/"}let c=_i(i,h),f=u&&u!=="/"&&u.endsWith("/"),p=(a||u===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const Pi=t=>t.join("/").replace(/\/\/+/g,"/"),Ii=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Di=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Fr=["post","put","patch","delete"];new Set(Fr);const Ni=["get",...Fr];new Set(Ni);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},us.apply(this,arguments)}const jr=b.createContext(null),qs=b.createContext(null),Bs=b.createContext(null),Qs=b.createContext({outlet:null,matches:[],isDataRoute:!1});function $s(){return b.useContext(Bs)!=null}function Pr(){return $s()||Ne(!1),b.useContext(Bs).location}function Ir(t){b.useContext(qs).static||b.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=b.useContext(Qs);return t?Bi():Ui()}function Ui(){$s()||Ne(!1);let t=b.useContext(jr),{basename:e,future:s,navigator:r}=b.useContext(qs),{matches:i}=b.useContext(Qs),{pathname:a}=Pr(),u=JSON.stringify(Fi(i,s.v7_relativeSplatPath)),h=b.useRef(!1);return Ir(()=>{h.current=!0}),b.useCallback(function(f,p){if(p===void 0&&(p={}),!h.current)return;if(typeof f=="number"){r.go(f);return}let v=ji(f,JSON.parse(u),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Pi([e,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[e,r,u,a,t])}var Dr=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Dr||{}),Nr=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nr||{});function Li(t){let e=b.useContext(jr);return e||Ne(!1),e}function Ai(t){let e=b.useContext(Qs);return e||Ne(!1),e}function qi(t){let e=Ai(),s=e.matches[e.matches.length-1];return s.route.id||Ne(!1),s.route.id}function Bi(){let{router:t}=Li(Dr.UseNavigateStable),e=qi(Nr.UseNavigateStable),s=b.useRef(!1);return Ir(()=>{s.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,us({fromRouteId:e},a)))},[t,e])}function Qi(t){let{basename:e="/",children:s=null,location:r,navigationType:i=nt.Pop,navigator:a,static:u=!1,future:h}=t;$s()&&Ne(!1);let c=e.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:c,navigator:a,static:u,future:us({v7_relativeSplatPath:!1},h)}),[c,h,a,u]);typeof r=="string"&&(r=fs(r));let{pathname:p="/",search:v="",hash:g="",state:w=null,key:D="default"}=r,I=b.useMemo(()=>{let m=Oi(p,c);return m==null?null:{location:{pathname:m,search:v,hash:g,state:w,key:D},navigationType:i}},[c,p,v,g,w,D,i]);return I==null?null:b.createElement(qs.Provider,{value:f},b.createElement(Bs.Provider,{children:s,value:I}))}new Promise(()=>{});/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $i="6";try{window.__reactRouterVersion=$i}catch{}const zi="startTransition",ir=vi[zi];function Ki(t){let{basename:e,children:s,future:r,window:i}=t,a=b.useRef();a.current==null&&(a.current=Ei({window:i,v5Compat:!0}));let u=a.current,[h,c]=b.useState({action:u.action,location:u.location}),{v7_startTransition:f}=r||{},p=b.useCallback(v=>{f&&ir?ir(()=>c(v)):c(v)},[c,f]);return b.useLayoutEffect(()=>u.listen(p),[u,p]),b.createElement(Qi,{basename:e,children:s,location:h.location,navigationType:h.action,navigator:u,future:r})}var nr;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nr||(nr={}));var ar;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ar||(ar={}));var Dt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},It=typeof window>"u"||"Deno"in globalThis;function Re(){}function Hi(t,e){return typeof t=="function"?t(e):t}function ws(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function or(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==zs(u,e.options))return!1}else if(!Ut(e.queryKey,u))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function ur(t,e){const{exact:s,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(pt(e.options.mutationKey)!==pt(a))return!1}else if(!Ut(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function zs(t,e){return((e==null?void 0:e.queryKeyHashFn)||pt)(t)}function pt(t){return JSON.stringify(t,(e,s)=>Cs(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function Ut(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Ut(t[s],e[s])):!1}function Ur(t,e){if(t===e)return t;const s=lr(t)&&lr(e);if(s||Cs(t)&&Cs(e)){const r=s?t:Object.keys(t),i=r.length,a=s?e:Object.keys(e),u=a.length,h=s?[]:{};let c=0;for(let f=0;f<u;f++){const p=s?f:a[f];!s&&t[p]===void 0&&e[p]===void 0&&r.includes(p)?(h[p]=void 0,c++):(h[p]=Ur(t[p],e[p]),h[p]===t[p]&&t[p]!==void 0&&c++)}return i===u&&c===i?t:h}return e}function ls(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function lr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cs(t){if(!cr(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!cr(s)||!s.hasOwnProperty("isPrototypeOf"))}function cr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wi(t){return new Promise(e=>{setTimeout(e,t)})}function Es(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Ur(t,e):e}function Gi(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Vi(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Ks=Symbol(),at,Ge,vt,vr,Ji=(vr=class extends Dt{constructor(){super();E(this,at,void 0);E(this,Ge,void 0);E(this,vt,void 0);x(this,vt,e=>{if(!It&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){n(this,Ge)||this.setEventListener(n(this,vt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ge))==null||e.call(this),x(this,Ge,void 0))}setEventListener(e){var s;x(this,vt,e),(s=n(this,Ge))==null||s.call(this),x(this,Ge,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){n(this,at)!==e&&(x(this,at,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof n(this,at)=="boolean"?n(this,at):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},at=new WeakMap,Ge=new WeakMap,vt=new WeakMap,vr),Hs=new Ji,bt,Ve,xt,br,Yi=(br=class extends Dt{constructor(){super();E(this,bt,!0);E(this,Ve,void 0);E(this,xt,void 0);x(this,xt,e=>{if(!It&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){n(this,Ve)||this.setEventListener(n(this,xt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ve))==null||e.call(this),x(this,Ve,void 0))}setEventListener(e){var s;x(this,xt,e),(s=n(this,Ve))==null||s.call(this),x(this,Ve,e(this.setOnline.bind(this)))}setOnline(e){n(this,bt)!==e&&(x(this,bt,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return n(this,bt)}},bt=new WeakMap,Ve=new WeakMap,xt=new WeakMap,br),cs=new Yi;function Zi(t){return Math.min(1e3*2**t,3e4)}function Ws(t){return(t??"online")==="online"?cs.isOnline():!0}var Lr=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vs(t){return t instanceof Lr}function Ar(t){let e=!1,s=0,r=!1,i,a,u;const h=new Promise((m,O)=>{a=m,u=O}),c=m=>{var O;r||(w(new Lr(m)),(O=t.abort)==null||O.call(t))},f=()=>{e=!0},p=()=>{e=!1},v=()=>!Hs.isFocused()||t.networkMode!=="always"&&!cs.isOnline(),g=m=>{var O;r||(r=!0,(O=t.onSuccess)==null||O.call(t,m),i==null||i(),a(m))},w=m=>{var O;r||(r=!0,(O=t.onError)==null||O.call(t,m),i==null||i(),u(m))},D=()=>new Promise(m=>{var O;i=N=>{const L=r||!v();return L&&m(N),L},(O=t.onPause)==null||O.call(t)}).then(()=>{var m;i=void 0,r||(m=t.onContinue)==null||m.call(t)}),I=()=>{if(r)return;let m;try{m=t.fn()}catch(O){m=Promise.reject(O)}Promise.resolve(m).then(g).catch(O=>{var ee;if(r)return;const N=t.retry??(It?0:3),L=t.retryDelay??Zi,z=typeof L=="function"?L(s,O):L,H=N===!0||typeof N=="number"&&s<N||typeof N=="function"&&N(s,O);if(e||!H){w(O);return}s++,(ee=t.onFail)==null||ee.call(t,s,O),Wi(z).then(()=>{if(v())return D()}).then(()=>{e?w(O):I()})})};return Ws(t.networkMode)?I():D().then(I),{promise:h,cancel:c,continue:()=>(i==null?void 0:i())?h:Promise.resolve(),cancelRetry:f,continueRetry:p}}function Xi(){let t=[],e=0,s=g=>{g()},r=g=>{g()},i=g=>setTimeout(g,0);const a=g=>{i=g},u=g=>{let w;e++;try{w=g()}finally{e--,e||f()}return w},h=g=>{e?t.push(g):i(()=>{s(g)})},c=g=>(...w)=>{h(()=>{g(...w)})},f=()=>{const g=t;t=[],g.length&&i(()=>{r(()=>{g.forEach(w=>{s(w)})})})};return{batch:u,batchCalls:c,schedule:h,setNotifyFunction:g=>{s=g},setBatchNotifyFunction:g=>{r=g},setScheduler:a}}var re=Xi(),ot,xr,qr=(xr=class{constructor(){E(this,ot,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ws(this.gcTime)&&x(this,ot,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(It?1/0:5*60*1e3))}clearGcTimeout(){n(this,ot)&&(clearTimeout(n(this,ot)),x(this,ot,void 0))}},ot=new WeakMap,xr),wt,Ct,Ee,de,ae,Lt,ut,ke,Ae,wr,en=(wr=class extends qr{constructor(e){super();E(this,ke);E(this,wt,void 0);E(this,Ct,void 0);E(this,Ee,void 0);E(this,de,void 0);E(this,ae,void 0);E(this,Lt,void 0);E(this,ut,void 0);x(this,ut,!1),x(this,Lt,e.defaultOptions),this.setOptions(e.options),x(this,ae,[]),x(this,Ee,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,x(this,wt,e.state||tn(this.options)),this.state=n(this,wt),this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...n(this,Lt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!n(this,ae).length&&this.state.fetchStatus==="idle"&&n(this,Ee).remove(this)}setData(e,s){const r=Es(this.state.data,e,this.options);return P(this,ke,Ae).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){P(this,ke,Ae).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=n(this,de))==null?void 0:r.promise;return(i=n(this,de))==null||i.cancel(e),s?s.then(Re).catch(Re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,wt))}isActive(){return n(this,ae).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?n(this,ae).some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Mr(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=n(this,ae).find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=n(this,de))==null||s.continue()}onOnline(){var s;const e=n(this,ae).find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=n(this,de))==null||s.continue()}addObserver(e){n(this,ae).includes(e)||(n(this,ae).push(e),this.clearGcTimeout(),n(this,Ee).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){n(this,ae).includes(e)&&(x(this,ae,n(this,ae).filter(s=>s!==e)),n(this,ae).length||(n(this,de)&&(n(this,ut)?n(this,de).cancel({revert:!0}):n(this,de).cancelRetry()),this.scheduleGc()),n(this,Ee).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return n(this,ae).length}invalidate(){this.state.isInvalidated||P(this,ke,Ae).call(this,{type:"invalidate"})}fetch(e,s){var f,p,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(n(this,de))return n(this,de).continueRetry(),n(this,de).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=n(this,ae).find(w=>w.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},a=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(x(this,ut,!0),r.signal)})};a(i);const u=()=>!this.options.queryFn||this.options.queryFn===Ks?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(x(this,ut,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)),h={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};a(h),(f=this.options.behavior)==null||f.onFetch(h,this),x(this,Ct,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=h.fetchOptions)==null?void 0:p.meta))&&P(this,ke,Ae).call(this,{type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta});const c=g=>{var w,D,I,m;vs(g)&&g.silent||P(this,ke,Ae).call(this,{type:"error",error:g}),vs(g)||((D=(w=n(this,Ee).config).onError)==null||D.call(w,g,this),(m=(I=n(this,Ee).config).onSettled)==null||m.call(I,this.state.data,g,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return x(this,de,Ar({fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var w,D,I,m;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}this.setData(g),(D=(w=n(this,Ee).config).onSuccess)==null||D.call(w,g,this),(m=(I=n(this,Ee).config).onSettled)==null||m.call(I,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(g,w)=>{P(this,ke,Ae).call(this,{type:"failed",failureCount:g,error:w})},onPause:()=>{P(this,ke,Ae).call(this,{type:"pause"})},onContinue:()=>{P(this,ke,Ae).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode})),n(this,de).promise}},wt=new WeakMap,Ct=new WeakMap,Ee=new WeakMap,de=new WeakMap,ae=new WeakMap,Lt=new WeakMap,ut=new WeakMap,ke=new WeakSet,Ae=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Br(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return vs(i)&&i.revert&&n(this,Ct)?{...n(this,Ct),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),re.batch(()=>{n(this,ae).forEach(r=>{r.onQueryUpdate()}),n(this,Ee).notify({query:this,type:"updated",action:e})})},wr);function Br(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ws(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Fe,Cr,Qr=(Cr=class extends Dt{constructor(e={}){super();E(this,Fe,void 0);this.config=e,x(this,Fe,new Map)}build(e,s,r){const i=s.queryKey,a=s.queryHash??zs(i,s);let u=this.get(a);return u||(u=new en({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){n(this,Fe).has(e.queryHash)||(n(this,Fe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=n(this,Fe).get(e.queryHash);s&&(e.destroy(),s===e&&n(this,Fe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){re.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,Fe).get(e)}getAll(){return[...n(this,Fe).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>or(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>or(e,r)):s}notify(e){re.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){re.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){re.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fe=new WeakMap,Cr),je,At,ye,Et,Pe,He,Er,sn=(Er=class extends qr{constructor(e){super();E(this,Pe);E(this,je,void 0);E(this,At,void 0);E(this,ye,void 0);E(this,Et,void 0);this.mutationId=e.mutationId,x(this,At,e.defaultOptions),x(this,ye,e.mutationCache),x(this,je,[]),this.state=e.state||$r(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...n(this,At),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,je).includes(e)||(n(this,je).push(e),this.clearGcTimeout(),n(this,ye).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){x(this,je,n(this,je).filter(s=>s!==e)),this.scheduleGc(),n(this,ye).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,je).length||(this.state.status==="pending"?this.scheduleGc():n(this,ye).remove(this))}continue(){var e;return((e=n(this,Et))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,u,h,c,f,p,v,g,w,D,I,m,O,N,L,z,H,ee,M;const s=()=>(x(this,Et,Ar({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{P(this,Pe,He).call(this,{type:"failed",failureCount:o,error:l})},onPause:()=>{P(this,Pe,He).call(this,{type:"pause"})},onContinue:()=>{P(this,Pe,He).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),n(this,Et).promise),r=this.state.status==="pending";try{if(!r){P(this,Pe,He).call(this,{type:"pending",variables:e}),await((a=(i=n(this,ye).config).onMutate)==null?void 0:a.call(i,e,this));const l=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e));l!==this.state.context&&P(this,Pe,He).call(this,{type:"pending",context:l,variables:e})}const o=await s();return await((f=(c=n(this,ye).config).onSuccess)==null?void 0:f.call(c,o,e,this.state.context,this)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,o,e,this.state.context)),await((w=(g=n(this,ye).config).onSettled)==null?void 0:w.call(g,o,null,this.state.variables,this.state.context,this)),await((I=(D=this.options).onSettled)==null?void 0:I.call(D,o,null,e,this.state.context)),P(this,Pe,He).call(this,{type:"success",data:o}),o}catch(o){try{throw await((O=(m=n(this,ye).config).onError)==null?void 0:O.call(m,o,e,this.state.context,this)),await((L=(N=this.options).onError)==null?void 0:L.call(N,o,e,this.state.context)),await((H=(z=n(this,ye).config).onSettled)==null?void 0:H.call(z,void 0,o,this.state.variables,this.state.context,this)),await((M=(ee=this.options).onSettled)==null?void 0:M.call(ee,void 0,o,e,this.state.context)),o}finally{P(this,Pe,He).call(this,{type:"error",error:o})}}}},je=new WeakMap,At=new WeakMap,ye=new WeakMap,Et=new WeakMap,Pe=new WeakSet,He=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Ws(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),re.batch(()=>{n(this,je).forEach(r=>{r.onMutationUpdate(e)}),n(this,ye).notify({mutation:this,type:"updated",action:e})})},Er);function $r(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Se,qt,lt,Sr,rn=(Sr=class extends Dt{constructor(e={}){super();E(this,Se,void 0);E(this,qt,void 0);E(this,lt,void 0);this.config=e,x(this,Se,[]),x(this,qt,0)}build(e,s,r){const i=new sn({mutationCache:this,mutationId:++ts(this,qt)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){n(this,Se).push(e),this.notify({type:"added",mutation:e})}remove(e){x(this,Se,n(this,Se).filter(s=>s!==e)),this.notify({type:"removed",mutation:e})}clear(){re.batch(()=>{n(this,Se).forEach(e=>{this.remove(e)})})}getAll(){return n(this,Se)}find(e){const s={exact:!0,...e};return n(this,Se).find(r=>ur(s,r))}findAll(e={}){return n(this,Se).filter(s=>ur(e,s))}notify(e){re.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){return x(this,lt,(n(this,lt)??Promise.resolve()).then(()=>{const e=n(this,Se).filter(s=>s.state.isPaused);return re.batch(()=>e.reduce((s,r)=>s.then(()=>r.continue().catch(Re)),Promise.resolve()))}).then(()=>{x(this,lt,void 0)})),n(this,lt)}},Se=new WeakMap,qt=new WeakMap,lt=new WeakMap,Sr);function nn(t){return{onFetch:(e,s)=>{const r=async()=>{var D,I,m,O,N;const i=e.options,a=(m=(I=(D=e.fetchOptions)==null?void 0:D.meta)==null?void 0:I.fetchMore)==null?void 0:m.direction,u=((O=e.state.data)==null?void 0:O.pages)||[],h=((N=e.state.data)==null?void 0:N.pageParams)||[],c={pages:[],pageParams:[]};let f=!1;const p=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},v=e.options.queryFn&&e.options.queryFn!==Ks?e.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`)),g=async(L,z,H)=>{if(f)return Promise.reject();if(z==null&&L.pages.length)return Promise.resolve(L);const ee={queryKey:e.queryKey,pageParam:z,direction:H?"backward":"forward",meta:e.options.meta};p(ee);const M=await v(ee),{maxPages:o}=e.options,l=H?Vi:Gi;return{pages:l(L.pages,M,o),pageParams:l(L.pageParams,z,o)}};let w;if(a&&u.length){const L=a==="backward",z=L?an:hr,H={pages:u,pageParams:h},ee=z(i,H);w=await g(H,ee,L)}else{w=await g(c,h[0]??i.initialPageParam);const L=t??u.length;for(let z=1;z<L;z++){const H=hr(i,w);w=await g(w,H)}}return w};e.options.persister?e.fetchFn=()=>{var i,a;return(a=(i=e.options).persister)==null?void 0:a.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function hr(t,{pages:e,pageParams:s}){const r=e.length-1;return t.getNextPageParam(e[r],e,s[r],s)}function an(t,{pages:e,pageParams:s}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s)}var Y,Je,Ye,St,Rt,Ze,Ot,_t,Rr,on=(Rr=class{constructor(t={}){E(this,Y,void 0);E(this,Je,void 0);E(this,Ye,void 0);E(this,St,void 0);E(this,Rt,void 0);E(this,Ze,void 0);E(this,Ot,void 0);E(this,_t,void 0);x(this,Y,t.queryCache||new Qr),x(this,Je,t.mutationCache||new rn),x(this,Ye,t.defaultOptions||{}),x(this,St,new Map),x(this,Rt,new Map),x(this,Ze,0)}mount(){ts(this,Ze)._++,n(this,Ze)===1&&(x(this,Ot,Hs.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,Y).onFocus())})),x(this,_t,cs.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,Y).onOnline())})))}unmount(){var t,e;ts(this,Ze)._--,n(this,Ze)===0&&((t=n(this,Ot))==null||t.call(this),x(this,Ot,void 0),(e=n(this,_t))==null||e.call(this),x(this,_t,void 0))}isFetching(t){return n(this,Y).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return n(this,Je).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=n(this,Y).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=n(this,Y).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(s.staleTime)&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return n(this,Y).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=n(this,Y).get(r.queryHash),a=i==null?void 0:i.state.data,u=Hi(e,a);if(u!==void 0)return n(this,Y).build(this,r).setData(u,{...s,manual:!0})}setQueriesData(t,e,s){return re.batch(()=>n(this,Y).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=n(this,Y).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=n(this,Y);re.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=n(this,Y),r={type:"active",...t};return re.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=re.batch(()=>n(this,Y).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(Re).catch(Re)}invalidateQueries(t={},e={}){return re.batch(()=>{if(n(this,Y).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=re.batch(()=>n(this,Y).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Re)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Re)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=n(this,Y).build(this,e);return s.isStaleByTime(e.staleTime)?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Re).catch(Re)}fetchInfiniteQuery(t){return t.behavior=nn(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Re).catch(Re)}resumePausedMutations(){return cs.isOnline()?n(this,Je).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,Y)}getMutationCache(){return n(this,Je)}getDefaultOptions(){return n(this,Ye)}setDefaultOptions(t){x(this,Ye,t)}setQueryDefaults(t,e){n(this,St).set(pt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...n(this,St).values()];let s={};return e.forEach(r=>{Ut(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){n(this,Rt).set(pt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...n(this,Rt).values()];let s={};return e.forEach(r=>{Ut(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...n(this,Ye).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Ks&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...n(this,Ye).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){n(this,Y).clear(),n(this,Je).clear()}},Y=new WeakMap,Je=new WeakMap,Ye=new WeakMap,St=new WeakMap,Rt=new WeakMap,Ze=new WeakMap,Ot=new WeakMap,_t=new WeakMap,Rr),pe,Q,Bt,fe,ct,kt,Ie,Qt,Tt,Ft,ht,dt,Xe,jt,ft,Nt,$t,Ss,zt,Rs,Kt,Os,Ht,_s,Wt,ks,Gt,Ts,Vt,Fs,ds,zr,Or,un=(Or=class extends Dt{constructor(e,s){super();E(this,ft);E(this,$t);E(this,zt);E(this,Kt);E(this,Ht);E(this,Wt);E(this,Gt);E(this,Vt);E(this,ds);E(this,pe,void 0);E(this,Q,void 0);E(this,Bt,void 0);E(this,fe,void 0);E(this,ct,void 0);E(this,kt,void 0);E(this,Ie,void 0);E(this,Qt,void 0);E(this,Tt,void 0);E(this,Ft,void 0);E(this,ht,void 0);E(this,dt,void 0);E(this,Xe,void 0);E(this,jt,new Set);this.options=s,x(this,pe,e),x(this,Ie,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,Q).addObserver(this),dr(n(this,Q),this.options)?P(this,ft,Nt).call(this):this.updateResult(),P(this,Ht,_s).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return js(n(this,Q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return js(n(this,Q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,P(this,Wt,ks).call(this),P(this,Gt,Ts).call(this),n(this,Q).removeObserver(this)}setOptions(e,s){const r=this.options,i=n(this,Q);if(this.options=n(this,pe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");P(this,Vt,Fs).call(this),n(this,Q).setOptions(this.options),r._defaulted&&!ls(this.options,r)&&n(this,pe).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,Q),observer:this});const a=this.hasListeners();a&&fr(n(this,Q),i,this.options,r)&&P(this,ft,Nt).call(this),this.updateResult(s),a&&(n(this,Q)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&P(this,$t,Ss).call(this);const u=P(this,zt,Rs).call(this);a&&(n(this,Q)!==i||this.options.enabled!==r.enabled||u!==n(this,Xe))&&P(this,Kt,Os).call(this,u)}getOptimisticResult(e){const s=n(this,pe).getQueryCache().build(n(this,pe),e),r=this.createResult(s,e);return cn(this,r)&&(x(this,fe,r),x(this,kt,this.options),x(this,ct,n(this,Q).state)),r}getCurrentResult(){return n(this,fe)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){n(this,jt).add(e)}getCurrentQuery(){return n(this,Q)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=n(this,pe).defaultQueryOptions(e),r=n(this,pe).getQueryCache().build(n(this,pe),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return P(this,ft,Nt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,fe)))}createResult(e,s){var M;const r=n(this,Q),i=this.options,a=n(this,fe),u=n(this,ct),h=n(this,kt),f=e!==r?e.state:n(this,Bt),{state:p}=e;let v={...p},g=!1,w;if(s._optimisticResults){const o=this.hasListeners(),l=!o&&dr(e,s),y=o&&fr(e,r,s,i);(l||y)&&(v={...v,...Br(p.data,e.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:D,errorUpdatedAt:I,status:m}=v;if(s.select&&v.data!==void 0)if(a&&v.data===(u==null?void 0:u.data)&&s.select===n(this,Qt))w=n(this,Tt);else try{x(this,Qt,s.select),w=s.select(v.data),w=Es(a==null?void 0:a.data,w,s),x(this,Tt,w),x(this,Ie,null)}catch(o){x(this,Ie,o)}else w=v.data;if(s.placeholderData!==void 0&&w===void 0&&m==="pending"){let o;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))o=a.data;else if(o=typeof s.placeholderData=="function"?s.placeholderData((M=n(this,Ft))==null?void 0:M.state.data,n(this,Ft)):s.placeholderData,s.select&&o!==void 0)try{o=s.select(o),x(this,Ie,null)}catch(l){x(this,Ie,l)}o!==void 0&&(m="success",w=Es(a==null?void 0:a.data,o,s),g=!0)}n(this,Ie)&&(D=n(this,Ie),w=n(this,Tt),I=Date.now(),m="error");const O=v.fetchStatus==="fetching",N=m==="pending",L=m==="error",z=N&&O,H=w!==void 0;return{status:m,fetchStatus:v.fetchStatus,isPending:N,isSuccess:m==="success",isError:L,isInitialLoading:z,isLoading:z,data:w,dataUpdatedAt:v.dataUpdatedAt,error:D,errorUpdatedAt:I,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:O,isRefetching:O&&!N,isLoadingError:L&&!H,isPaused:v.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:L&&H,isStale:Gs(e,s),refetch:this.refetch}}updateResult(e){const s=n(this,fe),r=this.createResult(n(this,Q),this.options);if(x(this,ct,n(this,Q).state),x(this,kt,this.options),n(this,ct).data!==void 0&&x(this,Ft,n(this,Q)),ls(r,s))return;x(this,fe,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:u}=this.options,h=typeof u=="function"?u():u;if(h==="all"||!h&&!n(this,jt).size)return!0;const c=new Set(h??n(this,jt));return this.options.throwOnError&&c.add("error"),Object.keys(n(this,fe)).some(f=>{const p=f;return n(this,fe)[p]!==s[p]&&c.has(p)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),P(this,ds,zr).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&P(this,Ht,_s).call(this)}},pe=new WeakMap,Q=new WeakMap,Bt=new WeakMap,fe=new WeakMap,ct=new WeakMap,kt=new WeakMap,Ie=new WeakMap,Qt=new WeakMap,Tt=new WeakMap,Ft=new WeakMap,ht=new WeakMap,dt=new WeakMap,Xe=new WeakMap,jt=new WeakMap,ft=new WeakSet,Nt=function(e){P(this,Vt,Fs).call(this);let s=n(this,Q).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Re)),s},$t=new WeakSet,Ss=function(){if(P(this,Wt,ks).call(this),It||n(this,fe).isStale||!ws(this.options.staleTime))return;const s=Mr(n(this,fe).dataUpdatedAt,this.options.staleTime)+1;x(this,ht,setTimeout(()=>{n(this,fe).isStale||this.updateResult()},s))},zt=new WeakSet,Rs=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,Q)):this.options.refetchInterval)??!1},Kt=new WeakSet,Os=function(e){P(this,Gt,Ts).call(this),x(this,Xe,e),!(It||this.options.enabled===!1||!ws(n(this,Xe))||n(this,Xe)===0)&&x(this,dt,setInterval(()=>{(this.options.refetchIntervalInBackground||Hs.isFocused())&&P(this,ft,Nt).call(this)},n(this,Xe)))},Ht=new WeakSet,_s=function(){P(this,$t,Ss).call(this),P(this,Kt,Os).call(this,P(this,zt,Rs).call(this))},Wt=new WeakSet,ks=function(){n(this,ht)&&(clearTimeout(n(this,ht)),x(this,ht,void 0))},Gt=new WeakSet,Ts=function(){n(this,dt)&&(clearInterval(n(this,dt)),x(this,dt,void 0))},Vt=new WeakSet,Fs=function(){const e=n(this,pe).getQueryCache().build(n(this,pe),this.options);if(e===n(this,Q))return;const s=n(this,Q);x(this,Q,e),x(this,Bt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},ds=new WeakSet,zr=function(e){re.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(n(this,fe))}),n(this,pe).getQueryCache().notify({query:n(this,Q),type:"observerResultsUpdated"})})},Or);function ln(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function dr(t,e){return ln(t,e)||t.state.data!==void 0&&js(t,e,e.refetchOnMount)}function js(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Gs(t,e)}return!1}function fr(t,e,s,r){return(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&Gs(t,s)}function Gs(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function cn(t,e){return!ls(t.getCurrentResult(),e)}var et,tt,me,qe,Pt,rs,Jt,Ps,_r,hn=(_r=class extends Dt{constructor(s,r){super();E(this,Pt);E(this,Jt);E(this,et,void 0);E(this,tt,void 0);E(this,me,void 0);E(this,qe,void 0);x(this,et,s),this.setOptions(r),this.bindMethods(),P(this,Pt,rs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=n(this,et).defaultMutationOptions(s),ls(this.options,r)||n(this,et).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,me),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&pt(r.mutationKey)!==pt(this.options.mutationKey)?this.reset():((i=n(this,me))==null?void 0:i.state.status)==="pending"&&n(this,me).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=n(this,me))==null||s.removeObserver(this)}onMutationUpdate(s){P(this,Pt,rs).call(this),P(this,Jt,Ps).call(this,s)}getCurrentResult(){return n(this,tt)}reset(){var s;(s=n(this,me))==null||s.removeObserver(this),x(this,me,void 0),P(this,Pt,rs).call(this),P(this,Jt,Ps).call(this)}mutate(s,r){var i;return x(this,qe,r),(i=n(this,me))==null||i.removeObserver(this),x(this,me,n(this,et).getMutationCache().build(n(this,et),this.options)),n(this,me).addObserver(this),n(this,me).execute(s)}},et=new WeakMap,tt=new WeakMap,me=new WeakMap,qe=new WeakMap,Pt=new WeakSet,rs=function(){var r;const s=((r=n(this,me))==null?void 0:r.state)??$r();x(this,tt,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Jt=new WeakSet,Ps=function(s){re.batch(()=>{var r,i,a,u,h,c,f,p;if(n(this,qe)&&this.hasListeners()){const v=n(this,tt).variables,g=n(this,tt).context;(s==null?void 0:s.type)==="success"?((i=(r=n(this,qe)).onSuccess)==null||i.call(r,s.data,v,g),(u=(a=n(this,qe)).onSettled)==null||u.call(a,s.data,null,v,g)):(s==null?void 0:s.type)==="error"&&((c=(h=n(this,qe)).onError)==null||c.call(h,s.error,v,g),(p=(f=n(this,qe)).onSettled)==null||p.call(f,void 0,s.error,v,g))}this.listeners.forEach(v=>{v(n(this,tt))})})},_r),Kr=b.createContext(void 0),Hr=t=>{const e=b.useContext(Kr);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dn=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Kr.Provider,{value:t,children:e})),Wr=b.createContext(!1),fn=()=>b.useContext(Wr);Wr.Provider;function pn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mn=b.createContext(pn()),gn=()=>b.useContext(mn);function Gr(t,e){return typeof t=="function"?t(...e):!!t}function yn(){}var vn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},bn=t=>{b.useEffect(()=>{t.clearReset()},[t])},xn=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Gr(s,[t.error,r]),wn=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Cn=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,En=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Sn(t,e,s){const r=Hr(s),i=fn(),a=gn(),u=r.defaultQueryOptions(t);u._optimisticResults=i?"isRestoring":"optimistic",wn(u),vn(u,a),bn(a);const[h]=b.useState(()=>new e(r,u)),c=h.getOptimisticResult(u);if(b.useSyncExternalStore(b.useCallback(f=>{const p=i?()=>{}:h.subscribe(re.batchCalls(f));return h.updateResult(),p},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),Cn(u,c))throw En(u,h,a);if(xn({result:c,errorResetBoundary:a,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw c.error;return u.notifyOnChangeProps?c:h.trackResult(c)}function Vr(t,e){return Sn(t,un,e)}function Jr(t,e){const s=Hr(e),[r]=b.useState(()=>new hn(s,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const i=b.useSyncExternalStore(b.useCallback(u=>r.subscribe(re.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=b.useCallback((u,h)=>{r.mutate(u,h).catch(yn)},[r]);if(i.error&&Gr(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var Rn=function(){return null};function Yt({children:t,disabled:e,type:s,className:r,onClick:i,variant:a}){return d.jsx("button",{className:`
        inline-flex w-fit items-center justify-center rounded-md shadow-sm transition-buttons duration-200 px-4 py-2 text-sm font-medium

        ${e?"":`
              hover:shadow-lg
              focus:outline-none focus:ring-2 focus:ring-offset-2`}

        ${a==="primary"?`
              bg-oxford-600 text-white
              hover:bg-oxford-700
              focus:bg-oxford-700 focus:ring-oxford-500 focus:ring-offset-white
            `:""}
        ${a==="secondary"?`
              bg-slate-500 text-white
              hover:bg-slate-600
              focus:bg-slate-600 focus:ring-slate-500 focus:ring-offset-white
            `:""}

        ${r}
      `,disabled:e,onClick:i,type:s,children:t})}Yt.propTypes={children:C.node.isRequired,className:C.string,disabled:C.bool,onClick:C.func,type:C.string,variant:C.string};Yt.defaultProps={className:null,disabled:!1,onClick:()=>null,type:"button",variant:"primary"};function On(t){let e=[],s=[];return t.map((r,i)=>{const a=r.name.split("/");return i===0?(e=[],e=a):(s=[],a.map((u,h)=>u===e[h]?s.push(u):null))}),s.join("/")}function _n(t){const e=new Intl.Collator("en"),s=[...t].sort((i,a)=>a.date.localeCompare(i.date)).map((i,a)=>({dateOrder:a,...i})).sort((i,a)=>e.compare(i.name.toUpperCase(),a.name.toUpperCase())).map((i,a)=>({nameOrder:a,...i}));if(s.length<2)return s.map(i=>({...i,shortName:i.name,visible:!0}));const r=On(s);return s.map(i=>({...i,shortName:i.name.replace(`${r}/`,""),visible:!0}))}function Yr({authToken:t,filesUrl:e}){return Vr({queryKey:["FILE_LIST"],queryFn:async()=>{const s=await fetch(e,{headers:{Authorization:t}});if(!s.ok)throw new Error("File list not found");return s.json()},select:s=>_n(s.files),meta:{errorMessage:"Unable to load files",id:e}})}const ge={authToken:C.string,basePath:C.string,csrfToken:C.string,filesUrl:C.string,prepareUrl:C.string,publishUrl:C.string},De={date:C.string,id:C.string,is_deleted:C.bool,name:C.string,sha256:C.string,size:C.number,url:C.string,user:C.string};let kn={data:""},Tn=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||kn,Fn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jn=/\/\*[^]*?\*\/|  +/g,pr=/\n+/g,We=(t,e)=>{let s="",r="",i="";for(let a in t){let u=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+u+";":r+=a[1]=="f"?We(u,a):a+"{"+We(u,a[1]=="k"?"":e)+"}":typeof u=="object"?r+=We(u,e?e.replace(/([^,])+/g,h=>a.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,h):h?h+" "+c:c)):a):u!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=We.p?We.p(a,u):a+":"+u+";")}return s+(e&&i?e+"{"+i+"}":i)+r},Le={},Zr=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+Zr(t[s]);return e}return t},Pn=(t,e,s,r,i)=>{let a=Zr(t),u=Le[a]||(Le[a]=(c=>{let f=0,p=11;for(;f<c.length;)p=101*p+c.charCodeAt(f++)>>>0;return"go"+p})(a));if(!Le[u]){let c=a!==t?t:(f=>{let p,v,g=[{}];for(;p=Fn.exec(f.replace(jn,""));)p[4]?g.shift():p[3]?(v=p[3].replace(pr," ").trim(),g.unshift(g[0][v]=g[0][v]||{})):g[0][p[1]]=p[2].replace(pr," ").trim();return g[0]})(t);Le[u]=We(i?{["@keyframes "+u]:c}:c,s?"":"."+u)}let h=s&&Le.g?Le.g:null;return s&&(Le.g=Le[u]),((c,f,p,v)=>{v?f.data=f.data.replace(v,c):f.data.indexOf(c)===-1&&(f.data=p?c+f.data:f.data+c)})(Le[u],e,r,h),u},In=(t,e,s)=>t.reduce((r,i,a)=>{let u=e[a];if(u&&u.call){let h=u(s),c=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=c?"."+c:h&&typeof h=="object"?h.props?"":We(h,""):h===!1?"":h}return r+i+(u??"")},"");function ps(t){let e=this||{},s=t.call?t(e.p):t;return Pn(s.unshift?s.raw?In(s,[].slice.call(arguments,1),e.p):s.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):s,Tn(e.target),e.g,e.o,e.k)}let Xr,Is,Ds;ps.bind({g:1});let Be=ps.bind({k:1});function Dn(t,e,s,r){We.p=e,Xr=t,Is=s,Ds=r}function st(t,e){let s=this||{};return function(){let r=arguments;function i(a,u){let h=Object.assign({},a),c=h.className||i.className;s.p=Object.assign({theme:Is&&Is()},h),s.o=/ *go\d+/.test(c),h.className=ps.apply(s,r)+(c?" "+c:""),e&&(h.ref=u);let f=t;return t[0]&&(f=h.as||t,delete h.as),Ds&&f[0]&&Ds(h),Xr(f,h)}return e?e(i):i}}var Nn=t=>typeof t=="function",hs=(t,e)=>Nn(t)?t(e):t,Mn=(()=>{let t=0;return()=>(++t).toString()})(),ei=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Un=20,is=new Map,Ln=1e3,mr=t=>{if(is.has(t))return;let e=setTimeout(()=>{is.delete(t),mt({type:4,toastId:t})},Ln);is.set(t,e)},An=t=>{let e=is.get(t);e&&clearTimeout(e)},Ns=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Un)};case 1:return e.toast.id&&An(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return t.toasts.find(a=>a.id===s.id)?Ns(t,{type:1,toast:s}):Ns(t,{type:0,toast:s});case 3:let{toastId:r}=e;return r?mr(r):t.toasts.forEach(a=>{mr(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},ns=[],as={toasts:[],pausedAt:void 0},mt=t=>{as=Ns(as,t),ns.forEach(e=>{e(as)})},qn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bn=(t={})=>{let[e,s]=b.useState(as);b.useEffect(()=>(ns.push(s),()=>{let i=ns.indexOf(s);i>-1&&ns.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var a,u;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||qn[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:r}},Qn=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Mn()}),Zt=t=>(e,s)=>{let r=Qn(e,t,s);return mt({type:2,toast:r}),r.id},ve=(t,e)=>Zt("blank")(t,e);ve.error=Zt("error");ve.success=Zt("success");ve.loading=Zt("loading");ve.custom=Zt("custom");ve.dismiss=t=>{mt({type:3,toastId:t})};ve.remove=t=>mt({type:4,toastId:t});ve.promise=(t,e,s)=>{let r=ve.loading(e.loading,{...s,...s==null?void 0:s.loading});return t.then(i=>(ve.success(hs(e.success,i),{id:r,...s,...s==null?void 0:s.success}),i)).catch(i=>{ve.error(hs(e.error,i),{id:r,...s,...s==null?void 0:s.error})}),t};var $n=(t,e)=>{mt({type:1,toast:{id:t,height:e}})},zn=()=>{mt({type:5,time:Date.now()})},Kn=t=>{let{toasts:e,pausedAt:s}=Bn(t);b.useEffect(()=>{if(s)return;let a=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let c=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(c<0){h.visible&&ve.dismiss(h.id);return}return setTimeout(()=>ve.dismiss(h.id),c)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,s]);let r=b.useCallback(()=>{s&&mt({type:6,time:Date.now()})},[s]),i=b.useCallback((a,u)=>{let{reverseOrder:h=!1,gutter:c=8,defaultPosition:f}=u||{},p=e.filter(w=>(w.position||f)===(a.position||f)&&w.height),v=p.findIndex(w=>w.id===a.id),g=p.filter((w,D)=>D<v&&w.visible).length;return p.filter(w=>w.visible).slice(...h?[g+1]:[0,g]).reduce((w,D)=>w+(D.height||0)+c,0)},[e]);return{toasts:e,handlers:{updateHeight:$n,startPause:zn,endPause:r,calculateOffset:i}}},Hn=Be`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Wn=Be`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gn=Be`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Vn=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Wn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Jn=Be`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Yn=st("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Jn} 1s linear infinite;
`,Zn=Be`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xn=Be`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ea=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ta=st("div")`
  position: absolute;
`,sa=st("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ra=Be`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ia=st("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ra} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,na=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(ia,null,e):e:s==="blank"?null:b.createElement(sa,null,b.createElement(Yn,{...r}),s!=="loading"&&b.createElement(ta,null,s==="error"?b.createElement(Vn,{...r}):b.createElement(ea,{...r})))},aa=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oa=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ua="0%{opacity:0;} 100%{opacity:1;}",la="0%{opacity:1;} 100%{opacity:0;}",ca=st("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ha=st("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,da=(t,e)=>{let s=t.includes("top")?1:-1,[r,i]=ei()?[ua,la]:[aa(s),oa(s)];return{animation:e?`${Be(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Be(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ti=b.memo(({toast:t,position:e,style:s,children:r})=>{let i=t.height?da(t.position||e||"top-center",t.visible):{opacity:0},a=b.createElement(na,{toast:t}),u=b.createElement(ha,{...t.ariaProps},hs(t.message,t));return b.createElement(ca,{className:t.className,style:{...i,...s,...t.style}},typeof r=="function"?r({icon:a,message:u}):b.createElement(b.Fragment,null,a,u))});Dn(b.createElement);var fa=({id:t,className:e,style:s,onHeightUpdate:r,children:i})=>{let a=b.useCallback(u=>{if(u){let h=()=>{let c=u.getBoundingClientRect().height;r(t,c)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return b.createElement("div",{ref:a,className:e,style:s},i)},pa=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ei()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...i}},ma=ps`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ss=16,ga=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:i,containerStyle:a,containerClassName:u})=>{let{toasts:h,handlers:c}=Kn(s);return b.createElement("div",{style:{position:"fixed",zIndex:9999,top:ss,left:ss,right:ss,bottom:ss,pointerEvents:"none",...a},className:u,onMouseEnter:c.startPause,onMouseLeave:c.endPause},h.map(f=>{let p=f.position||e,v=c.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),g=pa(p,v);return b.createElement(fa,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?ma:"",style:g},f.type==="custom"?hs(f.message,f):i?i(f):b.createElement(ti,{toast:f,position:p}))}))},Vs=ve;function si({toastId:t}){Vs.dismiss(t)}function Js({toastId:t,message:e,...s}){console.error(e,{...s}),Vs.error(e,{id:t})}function ri({authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r}){const{data:i}=Yr({authToken:t,filesUrl:s}),a="PrepareButton",u=Jr({mutationFn:async c=>{const f=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({file_ids:c})});if(!f.ok){const p=await f.json();throw new Error(p.detail)}return f.json()},onMutate:()=>{si({toastId:a})},onSuccess:c=>{window.location.href=c.url},onError:c=>{Js({message:`${c}`,toastId:a,prepareUrl:r,url:document.location.href})}});if(!(i!=null&&i.length))return null;const h=i.map(c=>c.id);return d.jsx(Yt,{disabled:u.isPending,onClick:c=>(c.preventDefault(),u.mutate(h)),type:"button",variant:u.isPending?"secondary":"primary",children:u.isPending?"Creating":"Create a draft publication"})}ri.propTypes={authToken:ge.authToken.isRequired,csrfToken:ge.csrfToken.isRequired,filesUrl:ge.filesUrl.isRequired,prepareUrl:ge.prepareUrl.isRequired};function ii({csrfToken:t,publishUrl:e}){const s="PublishButton",r=Jr({mutationFn:async()=>{const i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:""});if(!i.ok){const a=await i.json();throw new Error(a.detail)}return i.text()},onMutate:()=>{si({toastId:s})},onSuccess:()=>{window.location.reload()},onError:i=>{Js({message:`${i}`,toastId:s,publishUrl:e,url:document.location.href})}});return d.jsx(Yt,{disabled:r.isPending,onClick:i=>(i.preventDefault(),r.mutate()),type:"button",variant:r.isPending?"secondary":"primary",children:r.isPending?"Creating":"Create a public published output"})}ii.propTypes={csrfToken:ge.csrfToken.isRequired,publishUrl:ge.publishUrl.isRequired};function yt({className:t,container:e,header:s,innerClassName:r,children:i}){return d.jsxs("div",{className:`bg-white shadow ${t}`,children:[s?d.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-between px-4 py-2 sm:px-6 sm:py-4 sm:flex-nowrap bg-slate-50",children:s}):null,d.jsx("div",{className:`
          ${r}
          ${e?"px-4 py-3 md:px-6 md:py-5":""}
          ${s&&e?"border-t border-slate-200":""}
        `,children:i})]})}yt.propTypes={children:C.element.isRequired,className:C.string,container:C.bool,header:C.element,innerClassName:C.string};yt.defaultProps={className:"",container:!1,header:null,innerClassName:""};const ya=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],va=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],ba=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],xa=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],gr=(t,e,s)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,s):(e===!0||s!==void 0)&&(r=t.toLocaleString(void 0,s)),r};function wa(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const s=e.bits?e.binary?xa:ba:e.binary?va:ya,r=e.space?" ":"";if(e.signed&&t===0)return` 0${r}${s[0]}`;const i=t<0,a=i?"-":e.signed?"+":"";i&&(t=-t);let u;if(e.minimumFractionDigits!==void 0&&(u={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(u={maximumFractionDigits:e.maximumFractionDigits,...u}),t<1){const p=gr(t,e.locale,u);return a+p+r+s[0]}const h=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),s.length-1);t/=(e.binary?1024:1e3)**h,u||(t=t.toPrecision(3));const c=gr(Number(t),e.locale,u),f=s[h];return a+c+r+f}function ni(t){return t?wa(t,{locale:"en-gb"}):"unknown"}function Ys({autocapitalize:t,autocomplete:e,autocorrect:s,className:r,hideLabel:i,hintText:a,id:u,inputClassName:h,inputmode:c,label:f,labelClass:p,onChange:v,placeholder:g,required:w,type:D,value:I}){return d.jsxs("div",{className:r,children:[d.jsxs("label",{className:`inline-block font-semibold text-lg text-slate-900 cursor-pointer ${p} ${i?"sr-only":"null"}`,htmlFor:u,children:[f,w?d.jsx("span",{"aria-hidden":"true",className:"text-bn-ribbon-700 font-bold",children:"*"}):null]}),a?d.jsx("p",{className:"mb-2 text-sm text-gray-700",children:{hintText:a}}):null,d.jsx("div",{className:"relative",children:d.jsx("input",{autoCapitalize:t,autoComplete:e,autoCorrect:s,className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
            [&:not(:placeholder-shown):not(:focus)]:invalid:border-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-1
            ${h}
            ${i?"":"mt-1"}
          `,id:u,inputMode:c,onChange:v,placeholder:g,required:w,type:D,value:I})})]})}Ys.propTypes={autocapitalize:C.string,autocomplete:C.oneOf(["none","off","characters","words","sentences"]),autocorrect:C.oneOf(["on","off"]),className:C.string,hideLabel:C.bool,hintText:C.string,id:C.string,inputClassName:C.string,inputmode:C.string,label:C.string,labelClass:C.string,onChange:C.func,placeholder:C.string,required:C.bool,type:C.string,value:C.string};Ys.defaultProps={autocapitalize:null,autocomplete:null,autocorrect:null,className:null,hideLabel:!1,hintText:null,id:"inputID",inputClassName:null,inputmode:null,label:null,labelClass:null,onChange:()=>null,placeholder:null,required:null,type:"text",value:null};function ai({files:t,listRef:e,setFiles:s}){const[r,i]=b.useState("");b.useEffect(()=>{const u=[...t].map(h=>({...h,visible:h.shortName.toLowerCase().includes(r.toLowerCase())}));s(u)},[r]);function a(u){var h;(h=e==null?void 0:e.current)==null||h.scrollToItem(0),i(u.target.value)}return d.jsx(Ys,{autocapitalize:"off",autocomplete:"off",autocorrect:"off",className:"mb-1",hideLabel:!0,id:"filterFiles",label:"Find a file",onChange:u=>a(u),placeholder:"Find a file",type:"search",value:r})}ai.propTypes={files:C.arrayOf(C.shape()).isRequired,listRef:C.oneOfType([C.func,C.shape({current:C.instanceOf(Element)})]).isRequired,setFiles:C.func.isRequired};function oi({authToken:t,filesUrl:e,listVisible:s,setSelectedFile:r}){const[i,a]=b.useState([]),[u,h]=b.useState("nameOrder"),{data:c,isError:f,isLoading:p,isSuccess:v}=Yr({authToken:t,filesUrl:e}),g=Mi(),w=Pr(),D=b.createRef();if(b.useEffect(()=>{const m=c==null?void 0:c.find(O=>`/${O.name}`===w.pathname);r(m),c&&a(c)},[v]),p)return d.jsx(yt,{container:!0,children:d.jsx("p",{children:"Loading"})});if(f)return d.jsx(yt,{container:!0,header:d.jsx("h2",{className:"font-semibold text-lg",children:"Error"}),children:d.jsx("p",{children:"Unable to load files"})});const I=({e:m,item:O})=>{m.preventDefault();const N=`/${O.name}`;return g(N),r(O)};return d.jsxs("div",{className:s?"block md:sticky md:top-2":"hidden",children:[d.jsxs("div",{className:"flex flex-row items-center gap-2 mb-1",children:[d.jsx("label",{className:"inline-block font-semibold text-sm text-slate-900 cursor-pointer flex-shrink-0",htmlFor:"fileSort",children:"Sort files by"}),d.jsxs("select",{className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
          `,id:"fileSort",name:"file-sort",onChange:m=>h(m.target.value),value:u,children:[d.jsx("option",{value:"nameOrder",children:"File name"}),d.jsx("option",{value:"dateOrder",children:"Created date"})]})]}),d.jsx(ai,{files:c,listRef:D,setFiles:a}),d.jsx(yt,{className:"py-2 md:max-h-screen md:h-full overflow-x-auto md:overflow-y-auto",container:!1,children:d.jsx("ul",{className:"text-sm text-oxford-600 flex flex-col gap-y-1 items-start",children:i.sort((m,O)=>m[u]-O[u]).map(m=>d.jsx(kr.Fragment,{children:m.visible&&d.jsx("li",{className:`leading-tight px-4 ${`/${m.name}`===w.pathname?"font-bold text-oxford-800":""}`,children:`/${m.name}`===w.pathname?d.jsx("span",{children:m.shortName}):d.jsx("a",{disabled:`/${m.name}`===w.pathname,href:m.url,onClick:O=>I({e:O,item:m}),title:`File size: ${ni(m.size)}`,children:m.shortName})})},m.id))})})]})}oi.propTypes={authToken:ge.authToken.isRequired,filesUrl:ge.filesUrl.isRequired,listVisible:C.bool.isRequired,setSelectedFile:C.func.isRequired};function Xt({className:t,children:e,href:s,newTab:r}){return d.jsx("a",{className:`
        font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
        hover:decoration-transparent hover:text-oxford
        focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
        ${t}
      `,href:s,rel:r?"noreferrer noopener":void 0,target:r?"filePreview":void 0,children:e})}Xt.propTypes={children:C.oneOfType([C.element,C.string]),className:C.string,href:C.string.isRequired,newTab:C.bool};Xt.defaultProps={children:null,className:null,newTab:!1};function ui({fileDate:t,fileName:e,fileSize:s,fileUrl:r}){const i=()=>{if(Date.parse(t)){const a=new Date(t);return{absolute:a.toISOString(),formatted:new Intl.DateTimeFormat("en-GB",{timeZone:"UTC",dateStyle:"short",timeStyle:"short"}).format(a)}}return!1};return d.jsxs("ul",{className:"flex flex-row gap-2 items-center w-full flex-wrap",children:[d.jsx("li",{className:"mr-auto pr-4",children:d.jsx(Xt,{className:`
            font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
            hover:decoration-transparent hover:text-oxford
            focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
            after:content-[''] after:text-sm after:ml-1 after:absolute after:mt-0.5
          `,href:r,newTab:!0,children:e})}),i()&&d.jsxs("li",{className:"font-mono text-sm text-right whitespace-nowrap",children:[d.jsx("div",{className:"sr-only",children:"Last modified at: "}),d.jsx("time",{className:"",dateTime:i().absolute,title:i().absolute,children:i().formatted})]}),d.jsx("li",{className:"font-mono text-sm text-right whitespace-nowrap ml-4",children:ni(s)})]})}ui.propTypes={fileDate:De.date.isRequired,fileName:De.name.isRequired,fileSize:De.size.isRequired,fileUrl:De.url.isRequired};function Ca(){return d.jsx(ga,{position:"top-right",toastOptions:{duration:1/0,style:{whiteSpace:"pre-line",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},error:{style:{color:"#721c24",backgroundColor:"#f8d7da"}}},children:t=>d.jsx(ti,{id:"ToastBar",toast:t,children:({icon:e,message:s})=>d.jsxs(d.Fragment,{children:[e,s,t.type!=="loading"&&d.jsxs("button",{className:"border border-current rounded p-1 hover:bg-current hover:fill-white",onClick:()=>Vs.dismiss(t.id),type:"button",children:[d.jsx("span",{className:"sr-only",children:"Dismiss"}),d.jsx("svg",{className:"h-4 w-4",fill:"currentFill",viewBox:"0 0 20 20",width:"12",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{clipRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",fillRule:"evenodd"})})]})]})})})}const Ms=t=>t.toLowerCase().match(/.*\.(?:csv)$/i),li=t=>t.toLowerCase().match(/.*\.(?:html)$/i),Us=t=>t.toLowerCase().match(/.*\.(?:gif|jpg|jpeg|png|svg)$/i),ci=t=>t.toLowerCase().match(/.*\.(?:txt)$/i),hi=t=>t.toLowerCase().match(/.*\.(?:json)$/i),yr=t=>Ms(t)||li(t)||Us(t)||ci(t)||hi(t),bs='"File not yet uploaded"';var Ea=Sa;function Sa(t,e,s){var r=null,i=null,a=function(){r&&(clearTimeout(r),i=null,r=null)},u=function(){var c=i;a(),c&&c()},h=function(){if(!e)return t.apply(this,arguments);var c=this,f=arguments,p=s&&!r;if(a(),i=function(){t.apply(c,f)},r=setTimeout(function(){if(r=null,!p){var v=i;return i=null,v()}},e),p)return i()};return h.cancel=a,h.flush=u,h}function Ra(t=100){const[e,s]=b.useState({width:void 0,height:void 0});return b.useEffect(()=>{function r(){s({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",Ea(r,t)),r(),()=>window.removeEventListener("resize",r)},[t]),e}function di({data:t,fileName:e,fileUrl:s}){const r=Ra(),[i,a]=b.useState(0),u=encodeURIComponent(s).replace(/\W/g,"");return b.useLayoutEffect(()=>{var c;if(document.getElementById(u)&&window.innerWidth>991){const f=Math.round((c=document==null?void 0:document.getElementById("outputsSPA"))==null?void 0:c.offsetHeight);if(!f||f<1e3)return a(1e3)}return a(1e3)},[r,u]),d.jsx("iframe",{className:"-mx-4 -my-3 w-[calc(100%+2rem)] md:-mx-6 md:-my-5 md:w-[calc(100%+3rem)]",frameBorder:"0",height:i,id:u,src:s,srcDoc:t,title:e,width:"100%"})}di.propTypes={data:C.string.isRequired,fileName:De.name.isRequired,fileUrl:De.url.isRequired};function fi({data:t}){return d.jsx("img",{alt:"",className:"h-auto max-w-full",src:t})}fi.propTypes={data:C.string.isRequired};function Zs({error:t,fileUrl:e}){return d.jsxs(d.Fragment,{children:[t?d.jsx("p",{children:"Error: Unable to load file"}):d.jsx("p",{children:"We cannot show a preview of this file."}),d.jsx("p",{className:"mt-3",children:d.jsx(Xt,{href:e,newTab:!0,children:"Open file in a new tab "})})]})}Zs.propTypes={error:C.shape({message:C.string}),fileUrl:De.url.isRequired};Zs.defaultProps={error:null};var pi={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(s,r){t.exports=r()})(wi,function s(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,u={},h=0,c={parse:function(o,l){var y=(l=l||{}).dynamicTyping||!1;if(M(y)&&(l.dynamicTypingFunction=y,y={}),l.dynamicTyping=y,l.transform=!!M(l.transform)&&l.transform,l.worker&&c.WORKERS_SUPPORTED){var S=function(){if(!c.WORKERS_SUPPORTED)return!1;var j=(oe=r.URL||r.webkitURL||null,V=s.toString(),c.BLOB_URL||(c.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))),U=new r.Worker(j),oe,V;return U.onmessage=N,U.id=h++,u[U.id]=U}();return S.userStep=l.step,S.userChunk=l.chunk,S.userComplete=l.complete,S.userError=l.error,l.step=M(l.step),l.chunk=M(l.chunk),l.complete=M(l.complete),l.error=M(l.error),delete l.worker,void S.postMessage({input:o,config:l,workerId:S.id})}var _=null;return c.NODE_STREAM_INPUT,typeof o=="string"?(o=function(j){return j.charCodeAt(0)===65279?j.slice(1):j}(o),_=l.download?new v(l):new w(l)):o.readable===!0&&M(o.read)&&M(o.on)?_=new D(l):(r.File&&o instanceof File||o instanceof Object)&&(_=new g(l)),_.stream(o)},unparse:function(o,l){var y=!1,S=!0,_=",",j=`\r
`,U='"',oe=U+U,V=!1,k=null,Z=!1;(function(){if(typeof l=="object"){if(typeof l.delimiter!="string"||c.BAD_DELIMITERS.filter(function(R){return l.delimiter.indexOf(R)!==-1}).length||(_=l.delimiter),(typeof l.quotes=="boolean"||typeof l.quotes=="function"||Array.isArray(l.quotes))&&(y=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(V=l.skipEmptyLines),typeof l.newline=="string"&&(j=l.newline),typeof l.quoteChar=="string"&&(U=l.quoteChar),typeof l.header=="boolean"&&(S=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");k=l.columns}l.escapeChar!==void 0&&(oe=l.escapeChar+U),(typeof l.escapeFormulae=="boolean"||l.escapeFormulae instanceof RegExp)&&(Z=l.escapeFormulae instanceof RegExp?l.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(m(U),"g");if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return Oe(null,o,V);if(typeof o[0]=="object")return Oe(k||Object.keys(o[0]),o,V)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||k),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),Oe(o.fields||[],o.data||[],V);throw new Error("Unable to serialize unrecognized input");function Oe(R,K,ce){var J="";typeof R=="string"&&(R=JSON.parse(R)),typeof K=="string"&&(K=JSON.parse(K));var ue=Array.isArray(R)&&0<R.length,ie=!Array.isArray(K[0]);if(ue&&S){for(var ne=0;ne<R.length;ne++)0<ne&&(J+=_),J+=le(R[ne],ne);0<K.length&&(J+=j)}for(var T=0;T<K.length;T++){var A=ue?R.length:K[T].length,W=!1,se=ue?Object.keys(K[T]).length===0:K[T].length===0;if(ce&&!ue&&(W=ce==="greedy"?K[T].join("").trim()==="":K[T].length===1&&K[T][0].length===0),ce==="greedy"&&ue){for(var B=[],he=0;he<A;he++){var X=ie?R[he]:he;B.push(K[T][X])}W=B.join("").trim()===""}if(!W){for(var $=0;$<A;$++){0<$&&!se&&(J+=_);var _e=ue&&ie?R[$]:$;J+=le(K[T][_e],$)}T<K.length-1&&(!ce||0<A&&!se)&&(J+=j)}}return J}function le(R,K){if(R==null)return"";if(R.constructor===Date)return JSON.stringify(R).slice(1,25);var ce=!1;Z&&typeof R=="string"&&Z.test(R)&&(R="'"+R,ce=!0);var J=R.toString().replace(F,oe);return(ce=ce||y===!0||typeof y=="function"&&y(R,K)||Array.isArray(y)&&y[K]||function(ue,ie){for(var ne=0;ne<ie.length;ne++)if(-1<ue.indexOf(ie[ne]))return!0;return!1}(J,c.BAD_DELIMITERS)||-1<J.indexOf(_)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?U+J+U:J}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=O,c.ParserHandle=I,c.NetworkStreamer=v,c.FileStreamer=g,c.StringStreamer=w,c.ReadableStreamStreamer=D,r.jQuery){var f=r.jQuery;f.fn.parse=function(o){var l=o.config||{},y=[];return this.each(function(j){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)y.push({file:this.files[U],inputElem:this,instanceConfig:f.extend({},l)})}),S(),this;function S(){if(y.length!==0){var j,U,oe,V,k=y[0];if(M(o.before)){var Z=o.before(k.file,k.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return j="AbortError",U=k.file,oe=k.inputElem,V=Z.reason,void(M(o.error)&&o.error({name:j},U,oe,V));if(Z.action==="skip")return void _();typeof Z.config=="object"&&(k.instanceConfig=f.extend(k.instanceConfig,Z.config))}else if(Z==="skip")return void _()}var F=k.instanceConfig.complete;k.instanceConfig.complete=function(Oe){M(F)&&F(Oe,k.file,k.inputElem),_()},c.parse(k.file,k.instanceConfig)}else M(o.complete)&&o.complete()}function _(){y.splice(0,1),S()}}}function p(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var y=H(l);y.chunkSize=parseInt(y.chunkSize),l.step||l.chunk||(y.chunkSize=null),this._handle=new I(y),(this._handle.streamer=this)._config=y}).call(this,o),this.parseChunk=function(l,y){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var S=this._config.beforeFirstChunk(l);S!==void 0&&(l=S)}this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+l;this._partialLine="";var j=this._handle.parse(_,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var U=j.meta.cursor;this._finished||(this._partialLine=_.substring(U-this._baseIndex),this._baseIndex=U),j&&j.data&&(this._rowCount+=j.data.length);var oe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:j,workerId:c.WORKER_ID,finished:oe});else if(M(this._config.chunk)&&!y){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);j=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!oe||!M(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),oe||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(l){M(this._config.error)?this._config.error(l):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:l,finished:!1})}}function v(o){var l;(o=o||{}).chunkSize||(o.chunkSize=c.RemoteChunkSize),p.call(this,o),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(y){this._input=y,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),i||(l.onload=ee(this._chunkLoaded,this),l.onerror=ee(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var y=this._config.downloadRequestHeaders;for(var S in y)l.setRequestHeader(S,y[S])}if(this._config.chunkSize){var _=this._start+this._config.chunkSize-1;l.setRequestHeader("Range","bytes="+this._start+"-"+_)}try{l.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}i&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:l.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(y){var S=y.getResponseHeader("Content-Range");return S===null?-1:parseInt(S.substring(S.lastIndexOf("/")+1))}(l),this.parseChunk(l.responseText)))},this._chunkError=function(y){var S=l.statusText||y;this._sendError(new Error(S))}}function g(o){var l,y;(o=o||{}).chunkSize||(o.chunkSize=c.LocalChunkSize),p.call(this,o);var S=typeof FileReader<"u";this.stream=function(_){this._input=_,y=_.slice||_.webkitSlice||_.mozSlice,S?((l=new FileReader).onload=ee(this._chunkLoaded,this),l.onerror=ee(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input;if(this._config.chunkSize){var j=Math.min(this._start+this._config.chunkSize,this._input.size);_=y.call(_,this._start,j)}var U=l.readAsText(_,this._config.encoding);S||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(l.error)}}function w(o){var l;p.call(this,o=o||{}),this.stream=function(y){return l=y,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var y,S=this._config.chunkSize;return S?(y=l.substring(0,S),l=l.substring(S)):(y=l,l=""),this._finished=!l,this.parseChunk(y)}}}function D(o){p.call(this,o=o||{});var l=[],y=!0,S=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):y=!0},this._streamData=ee(function(_){try{l.push(typeof _=="string"?_:_.toString(this._config.encoding)),y&&(y=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(j){this._streamError(j)}},this),this._streamError=ee(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=ee(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function I(o){var l,y,S,_=Math.pow(2,53),j=-_,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,k=0,Z=0,F=!1,Oe=!1,le=[],R={data:[],errors:[],meta:{}};if(M(o.step)){var K=o.step;o.step=function(T){if(R=T,ue())J();else{if(J(),R.data.length===0)return;k+=T.data.length,o.preview&&k>o.preview?y.abort():(R.data=R.data[0],K(R,V))}}}function ce(T){return o.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function J(){return R&&S&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),S=!1),o.skipEmptyLines&&(R.data=R.data.filter(function(T){return!ce(T)})),ue()&&function(){if(!R)return;function T(W,se){M(o.transformHeader)&&(W=o.transformHeader(W,se)),le.push(W)}if(Array.isArray(R.data[0])){for(var A=0;ue()&&A<R.data.length;A++)R.data[A].forEach(T);R.data.splice(0,1)}else R.data.forEach(T)}(),function(){if(!R||!o.header&&!o.dynamicTyping&&!o.transform)return R;function T(W,se){var B,he=o.header?{}:[];for(B=0;B<W.length;B++){var X=B,$=W[B];o.header&&(X=B>=le.length?"__parsed_extra":le[B]),o.transform&&($=o.transform($,X)),$=ie(X,$),X==="__parsed_extra"?(he[X]=he[X]||[],he[X].push($)):he[X]=$}return o.header&&(B>le.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+le.length+" fields but parsed "+B,Z+se):B<le.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+le.length+" fields but parsed "+B,Z+se)),he}var A=1;return!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(T),A=R.data.length):R.data=T(R.data,0),o.header&&R.meta&&(R.meta.fields=le),Z+=A,R}()}function ue(){return o.header&&le.length===0}function ie(T,A){return W=T,o.dynamicTypingFunction&&o.dynamicTyping[W]===void 0&&(o.dynamicTyping[W]=o.dynamicTypingFunction(W)),(o.dynamicTyping[W]||o.dynamicTyping)===!0?A==="true"||A==="TRUE"||A!=="false"&&A!=="FALSE"&&(function(se){if(U.test(se)){var B=parseFloat(se);if(j<B&&B<_)return!0}return!1}(A)?parseFloat(A):oe.test(A)?new Date(A):A===""?null:A):A;var W}function ne(T,A,W,se){var B={type:T,code:A,message:W};se!==void 0&&(B.row=se),R.errors.push(B)}this.parse=function(T,A,W){var se=o.quoteChar||'"';if(o.newline||(o.newline=function(X,$){X=X.substring(0,1048576);var _e=new RegExp(m($)+"([^]*?)"+m($),"gm"),be=(X=X.replace(_e,"")).split("\r"),Te=X.split(`
`),Me=1<Te.length&&Te[0].length<be[0].length;if(be.length===1||Me)return`
`;for(var xe=0,G=0;G<be.length;G++)be[G][0]===`
`&&xe++;return xe>=be.length/2?`\r
`:"\r"}(T,se)),S=!1,o.delimiter)M(o.delimiter)&&(o.delimiter=o.delimiter(T),R.meta.delimiter=o.delimiter);else{var B=function(X,$,_e,be,Te){var Me,xe,G,te;Te=Te||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var rt=0;rt<Te.length;rt++){var q=Te[rt],gt=0,Ue=0,it=0;G=void 0;for(var $e=new O({comments:be,delimiter:q,newline:$,preview:10}).parse(X),ze=0;ze<$e.data.length;ze++)if(_e&&ce($e.data[ze]))it++;else{var Ke=$e.data[ze].length;Ue+=Ke,G!==void 0?0<Ke&&(gt+=Math.abs(Ke-G),G=Ke):G=Ke}0<$e.data.length&&(Ue/=$e.data.length-it),(xe===void 0||gt<=xe)&&(te===void 0||te<Ue)&&1.99<Ue&&(xe=gt,Me=q,te=Ue)}return{successful:!!(o.delimiter=Me),bestDelimiter:Me}}(T,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);B.successful?o.delimiter=B.bestDelimiter:(S=!0,o.delimiter=c.DefaultDelimiter),R.meta.delimiter=o.delimiter}var he=H(o);return o.preview&&o.header&&he.preview++,l=T,y=new O(he),R=y.parse(l,A,W),J(),F?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,y.abort(),l=M(o.chunk)?"":l.substring(y.getCharIndex())},this.resume=function(){V.streamer._halted?(F=!1,V.streamer.parseChunk(l,!0)):setTimeout(V.resume,3)},this.aborted=function(){return Oe},this.abort=function(){Oe=!0,y.abort(),R.meta.aborted=!0,M(o.complete)&&o.complete(R),l=""}}function m(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function O(o){var l,y=(o=o||{}).delimiter,S=o.newline,_=o.comments,j=o.step,U=o.preview,oe=o.fastMode,V=l=o.quoteChar===void 0||o.quoteChar===null?'"':o.quoteChar;if(o.escapeChar!==void 0&&(V=o.escapeChar),(typeof y!="string"||-1<c.BAD_DELIMITERS.indexOf(y))&&(y=","),_===y)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<c.BAD_DELIMITERS.indexOf(_))&&(_=!1),S!==`
`&&S!=="\r"&&S!==`\r
`&&(S=`
`);var k=0,Z=!1;this.parse=function(F,Oe,le){if(typeof F!="string")throw new Error("Input must be a string");var R=F.length,K=y.length,ce=S.length,J=_.length,ue=M(j),ie=[],ne=[],T=[],A=k=0;if(!F)return we();if(o.header&&!Oe){var W=F.split(S)[0].split(y),se=[],B={},he=!1;for(var X in W){var $=W[X];M(o.transformHeader)&&($=o.transformHeader($,X));var _e=$,be=B[$]||0;for(0<be&&(he=!0,_e=$+"_"+be),B[$]=be+1;se.includes(_e);)_e=_e+"_"+be;se.push(_e)}if(he){var Te=F.split(S);Te[0]=se.join(y),F=Te.join(S)}}if(oe||oe!==!1&&F.indexOf(l)===-1){for(var Me=F.split(S),xe=0;xe<Me.length;xe++){if(T=Me[xe],k+=T.length,xe!==Me.length-1)k+=S.length;else if(le)return we();if(!_||T.substring(0,J)!==_){if(ue){if(ie=[],it(T.split(y)),es(),Z)return we()}else it(T.split(y));if(U&&U<=xe)return ie=ie.slice(0,U),we(!0)}}return we()}for(var G=F.indexOf(y,k),te=F.indexOf(S,k),rt=new RegExp(m(V)+m(l),"g"),q=F.indexOf(l,k);;)if(F[k]!==l)if(_&&T.length===0&&F.substring(k,k+J)===_){if(te===-1)return we();k=te+ce,te=F.indexOf(S,k),G=F.indexOf(y,k)}else if(G!==-1&&(G<te||te===-1))T.push(F.substring(k,G)),k=G+K,G=F.indexOf(y,k);else{if(te===-1)break;if(T.push(F.substring(k,te)),Ke(te+ce),ue&&(es(),Z))return we();if(U&&ie.length>=U)return we(!0)}else for(q=k,k++;;){if((q=F.indexOf(l,q+1))===-1)return le||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:k}),ze();if(q===R-1)return ze(F.substring(k,q).replace(rt,l));if(l!==V||F[q+1]!==V){if(l===V||q===0||F[q-1]!==V){G!==-1&&G<q+1&&(G=F.indexOf(y,q+1)),te!==-1&&te<q+1&&(te=F.indexOf(S,q+1));var gt=$e(te===-1?G:Math.min(G,te));if(F.substr(q+1+gt,K)===y){T.push(F.substring(k,q).replace(rt,l)),F[k=q+1+gt+K]!==l&&(q=F.indexOf(l,k)),G=F.indexOf(y,k),te=F.indexOf(S,k);break}var Ue=$e(te);if(F.substring(q+1+Ue,q+1+Ue+ce)===S){if(T.push(F.substring(k,q).replace(rt,l)),Ke(q+1+Ue+ce),G=F.indexOf(y,k),q=F.indexOf(l,k),ue&&(es(),Z))return we();if(U&&ie.length>=U)return we(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:k}),q++}}else q++}return ze();function it(Ce){ie.push(Ce),A=k}function $e(Ce){var er=0;if(Ce!==-1){var ms=F.substring(q+1,Ce);ms&&ms.trim()===""&&(er=ms.length)}return er}function ze(Ce){return le||(Ce===void 0&&(Ce=F.substring(k)),T.push(Ce),k=R,it(T),ue&&es()),we()}function Ke(Ce){k=Ce,it(T),T=[],te=F.indexOf(S,k)}function we(Ce){return{data:ie,errors:ne,meta:{delimiter:y,linebreak:S,aborted:Z,truncated:!!Ce,cursor:A+(Oe||0)}}}function es(){j(we()),ie=[],ne=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return k}}function N(o){var l=o.data,y=u[l.workerId],S=!1;if(l.error)y.userError(l.error,l.file);else if(l.results&&l.results.data){var _={abort:function(){S=!0,L(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(M(y.userStep)){for(var j=0;j<l.results.data.length&&(y.userStep({data:l.results.data[j],errors:l.results.errors,meta:l.results.meta},_),!S);j++);delete l.results}else M(y.userChunk)&&(y.userChunk(l.results,_,l.file),delete l.results)}l.finished&&!S&&L(l.workerId,l.results)}function L(o,l){var y=u[o];M(y.userComplete)&&y.userComplete(l),y.terminate(),delete u[o]}function z(){throw new Error("Not implemented.")}function H(o){if(typeof o!="object"||o===null)return o;var l=Array.isArray(o)?[]:{};for(var y in o)l[y]=H(o[y]);return l}function ee(o,l){return function(){o.apply(l,arguments)}}function M(o){return typeof o=="function"}return a&&(r.onmessage=function(o){var l=o.data;if(c.WORKER_ID===void 0&&l&&(c.WORKER_ID=l.workerId),typeof l.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(l.input,l.config),finished:!0});else if(r.File&&l.input instanceof File||l.input instanceof Object){var y=c.parse(l.input,l.config);y&&r.postMessage({workerId:c.WORKER_ID,results:y,finished:!0})}}),(v.prototype=Object.create(p.prototype)).constructor=v,(g.prototype=Object.create(p.prototype)).constructor=g,(w.prototype=Object.create(w.prototype)).constructor=w,(D.prototype=Object.create(p.prototype)).constructor=D,c})})(pi);var Oa=pi.exports;const Qe=Ci(Oa);function _a(t,e){return Qe.parse(t,e)}function ka(t,e){Qe.parse(t,Object.assign({},{download:!0},e))}function Ta(t,e){return e===void 0&&(e={}),Qe.unparse(t,e)}function Fa(){return{readString:_a,readRemoteFile:ka,jsonToCSV:Ta}}Qe.BAD_DELIMITERS;Qe.RECORD_SEP;Qe.UNIT_SEP;Qe.WORKERS_SUPPORTED;Qe.LocalChunkSize;Qe.DefaultDelimiter;function mi({cell:t}){return d.jsx("td",{className:"py-2 px-2 text-sm text-gray-900",children:t})}function Ls({row:t}){return d.jsx("tr",{className:"divide-x divide-gray-200 even:bg-gray-50",children:t.map((e,s)=>d.jsx(mi,{cell:e},s))})}function gi({data:t}){const{readString:e}=Fa(),s=e(t,{chunk:!0,complete:r=>r}).data;return s.length>=1e3?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-bold mb-2",role:"alert",children:"This is a preview of the first 1000 rows"}),d.jsx("div",{className:"flow-root",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx("div",{className:"inline-block min-w-full align-middle",children:d.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:d.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.slice(0,1e3).map((r,i)=>d.jsx(Ls,{row:r},i))})})})})})]}):d.jsx("div",{className:"flow-root",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx("div",{className:"inline-block min-w-full align-middle",children:d.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:d.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.map((r,i)=>d.jsx(Ls,{row:r},i))})})})})})}mi.propTypes={cell:C.string.isRequired};Ls.propTypes={row:C.arrayOf(C.string).isRequired};gi.propTypes={data:C.string.isRequired};function As({data:t}){return d.jsx("pre",{className:"whitespace-break-spaces break-words",children:t})}As.propTypes={data:C.string.isRequired};function yi({authToken:t,fileName:e,fileSize:s,fileUrl:r,uuid:i}){const{data:a,error:u,isLoading:h,isError:c}=Vr({queryKey:["FILE",r],queryFn:async()=>{if(!yr(e)||s>2e7||Ms(e)&&s>5e6)return!1;const f=`${r}?${i}`;let p=await fetch(f,{headers:{Authorization:t}});if(!p.ok)throw new Error;if(p.headers.has("Location")&&p.headers.has("Authorization")&&(p=await fetch(p.headers.get("Location"),{headers:{Authorization:p.headers.get("Authorization")}}),!p.ok))throw new Error;const v=await p.clone().text();if(v===bs)return bs;if(Us(e)){const g=await p.blob();return URL.createObjectURL(g)}return v},meta:{errorMessage:`${e} - Unable to load file`,id:r}});return h?d.jsx("span",{children:"Loading..."}):a===bs?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"This file has not been uploaded yet. This is likely due to do an error that occurred during release."}),d.jsx("p",{className:"mt-3",children:d.jsx(Xt,{href:"https://docs.opensafely.org/how-to-get-help/#slack",newTab:!0,children:"Contact tech support in Slack for more information."})})]}):c||!a||!yr(e)?d.jsx(Zs,{error:u,fileUrl:r}):d.jsxs(d.Fragment,{children:[Ms(e)?d.jsx(gi,{data:a}):null,li(e)&&d.jsx(di,{data:a,fileName:e,fileUrl:r}),Us(e)?d.jsx(fi,{data:a}):null,ci(e)?d.jsx(As,{data:a}):null,hi(e)?d.jsx(As,{data:a}):null]})}yi.propTypes={authToken:ge.authToken.isRequired,fileName:De.name.isRequired,fileSize:De.size.isRequired,fileUrl:De.url.isRequired,uuid:C.number.isRequired};const ja=new on({defaultOptions:{queries:{refetchOnWindowFocus:!1}},queryCache:new Qr({onError:(t,e)=>{e.meta.errorMessage&&Js({message:e.meta.errorMessage,toastId:e.meta.id,filesUrl:e.meta.id,url:document.location.href})}})});function Xs({authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r,publishUrl:i}){const a=Date.now(),[u,h]=b.useState(!0),[c,f]=b.useState();return d.jsxs(dn,{client:ja,children:[d.jsxs("div",{className:"py-6",children:[(r||i)&&d.jsxs("div",{className:"mb-3 -mt-3 px-1 md:px-6",children:[r&&d.jsx(ri,{authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r}),i&&d.jsx(ii,{csrfToken:e,publishUrl:i})]}),d.jsxs("div",{className:"grid gap-6 grid-cols-1 px-1 md:grid-cols-3 md:px-6 lg:grid-cols-4",children:[d.jsxs("div",{className:"flex flex-col gap-y-1 md:col-span-1",children:[d.jsxs(Yt,{className:"block md:hidden mb-3",onClick:()=>h(!u),type:"button",variant:"secondary",children:[u?"Hide":"Show"," file list"]}),d.jsx(oi,{authToken:t,filesUrl:s,listVisible:u,setListVisible:h,setSelectedFile:f})]}),d.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:c&&d.jsx(yt,{container:!0,header:d.jsx(ui,{fileDate:c.date,fileName:c.shortName,fileSize:c.size,fileUrl:c.url}),children:d.jsx(yi,{authToken:t,fileName:c.shortName,fileSize:c.size,fileUrl:c.url,uuid:a})})})]})]}),d.jsx(Ca,{}),d.jsx(Rn,{initialIsOpen:!1})]})}Xs.propTypes={authToken:ge.authToken.isRequired,csrfToken:ge.csrfToken.isRequired,filesUrl:ge.filesUrl.isRequired,prepareUrl:ge.prepareUrl,publishUrl:ge.publishUrl};Xs.defaultProps={prepareUrl:null,publishUrl:null};var Pa={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};bi({dsn:Pa.VITE_SENTRY_DSN,tracesSampleRate:1});const os=document.getElementById("outputsSPA"),Ia=xi(os);document.getElementById("content")&&document.getElementById("content").remove();Ia.render(d.jsx(kr.StrictMode,{children:d.jsx(Ki,{basename:os.dataset.basePath,children:d.jsx(Xs,{...os.dataset,element:os})})}));
