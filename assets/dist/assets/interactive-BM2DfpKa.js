var $u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as Cu,b as Ru,r as u,t as Kn,p as P,j as g,P as ju,R as D,w as vo,s as _r,d as bo,c as Fu,i as Au}from"./index-DssVsiTk.js";import{g as ks}from"./_commonjsHelpers-BosuxZz1.js";var F0=$u((je,Fe)=>{var Mr={exports:{}},re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo;function Pu(){if(xo)return re;xo=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function w(y){if(typeof y=="object"&&y!==null){var S=y.$$typeof;switch(S){case t:switch(y=y.type,y){case l:case c:case r:case o:case i:case p:return y;default:switch(y=y&&y.$$typeof,y){case a:case d:case m:case f:case s:return y;default:return S}}case n:return S}}}function $(y){return w(y)===c}return re.AsyncMode=l,re.ConcurrentMode=c,re.ContextConsumer=a,re.ContextProvider=s,re.Element=t,re.ForwardRef=d,re.Fragment=r,re.Lazy=m,re.Memo=f,re.Portal=n,re.Profiler=o,re.StrictMode=i,re.Suspense=p,re.isAsyncMode=function(y){return $(y)||w(y)===l},re.isConcurrentMode=$,re.isContextConsumer=function(y){return w(y)===a},re.isContextProvider=function(y){return w(y)===s},re.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},re.isForwardRef=function(y){return w(y)===d},re.isFragment=function(y){return w(y)===r},re.isLazy=function(y){return w(y)===m},re.isMemo=function(y){return w(y)===f},re.isPortal=function(y){return w(y)===n},re.isProfiler=function(y){return w(y)===o},re.isStrictMode=function(y){return w(y)===i},re.isSuspense=function(y){return w(y)===p},re.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===c||y===o||y===i||y===p||y===h||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===d||y.$$typeof===b||y.$$typeof===x||y.$$typeof===E||y.$$typeof===v)},re.typeOf=w,re}var yo;function Iu(){return yo||(yo=1,Mr.exports=Pu()),Mr.exports}var Dr,wo;function _u(){if(wo)return Dr;wo=1;var e=Iu(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(m){return e.isMemo(m)?i:o[m.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;function f(m,v,b){if(typeof v!="string"){if(h){var x=p(v);x&&x!==h&&f(m,x,b)}var E=l(v);c&&(E=E.concat(c(v)));for(var w=s(m),$=s(v),y=0;y<E.length;++y){var S=E[y];if(!n[S]&&!(b&&b[S])&&!($&&$[S])&&!(w&&w[S])){var O=d(v,S);try{a(m,S,O)}catch{}}}}return m}return Dr=f,Dr}_u();var ve=Cu();function Mu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var kr={exports:{}},Nr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo;function Du(){if(Eo)return Nr;Eo=1;var e=Ru();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(p,h){var f=h(),m=r({inst:{value:f,getSnapshot:h}}),v=m[0].inst,b=m[1];return o(function(){v.value=f,v.getSnapshot=h,l(v)&&b({inst:v})},[p,f,h]),i(function(){return l(v)&&b({inst:v}),p(function(){l(v)&&b({inst:v})})},[p]),s(f),f}function l(p){var h=p.getSnapshot;p=p.value;try{var f=h();return!n(p,f)}catch{return!0}}function c(p,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Nr.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Nr}var So;function ku(){return So||(So=1,kr.exports=Du()),kr.exports}var Nu=ku();const Lu=Kn.useInsertionEffect,Vu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ns=Vu?u.useLayoutEffect:u.useEffect,Bu=Lu||Ns,$i=e=>{const t=u.useRef([e,(...n)=>t[0](...n)]).current;return Bu(()=>{t[0]=e}),t[1]},Hu="popstate",Ci="pushState",Ri="replaceState",zu="hashchange",To=[Hu,Ci,Ri,zu],qu=e=>{for(const t of To)addEventListener(t,e);return()=>{for(const t of To)removeEventListener(t,e)}},Ls=(e,t)=>Nu.useSyncExternalStore(qu,e,t),Uu=()=>location.search,Wu=({ssrSearch:e=""}={})=>Ls(Uu,()=>e),Oo=()=>location.pathname,Gu=({ssrPath:e}={})=>Ls(Oo,e?()=>e:Oo),Ku=(e,{replace:t=!1,state:n=null}={})=>history[t?Ri:Ci](n,"",e),Yu=(e={})=>[Gu(e),Ku],$o=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$o]>"u"){for(const e of[Ci,Ri]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,$o,{value:!0})}const Zu=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Vs=(e="")=>e==="/"?"":e,Xu=(e,t)=>e[0]==="~"?e.slice(1):Vs(t)+e,Qu=(e="",t)=>Zu(Co(Vs(e)),Co(t)),Co=e=>{try{return decodeURI(e)}catch{return e}},Bs={hook:Yu,searchHook:Wu,parser:Mu,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},Hs=u.createContext(Bs),Zt=()=>u.useContext(Hs),zs={},qs=u.createContext(zs),Ju=()=>u.useContext(qs),yn=e=>{const[t,n]=e.hook(e);return[Qu(e.base,t),$i((r,i)=>n(Xu(r,e.base),i))]},Ft=()=>yn(Zt()),Us=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((p,h)=>[p,l[h]])):s.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},Ws=({children:e,...t})=>{var d,p;const n=Zt(),r=t.hook?Bs:n;let i=r;const[o,s]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=o),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let a=u.useRef({}),l=a.current,c=l;for(let h in r){const f=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&f!==c[h]&&(a.current=c={...c}),c[h]=f,f!==r[h]&&(i=c)}return u.createElement(Hs.Provider,{value:i,children:e})},Ro=({children:e,component:t},n)=>t?u.createElement(t,{params:n}):typeof e=="function"?e(n):e,ec=e=>{let t=u.useRef(zs);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},tt=({path:e,nest:t,match:n,...r})=>{const i=Zt(),[o]=yn(i),[s,a,l]=n??Us(i.parser,e,o,t),c=ec({...Ju(),...a});if(!s)return null;const d=l?u.createElement(Ws,{base:l},Ro(r,c)):Ro(r,c);return u.createElement(qs.Provider,{value:c,children:d})},Gs=u.forwardRef((e,t)=>{const n=Zt(),[r,i]=yn(n),{to:o="",href:s=o,onClick:a,asChild:l,children:c,className:d,replace:p,state:h,...f}=e,m=$i(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),i(s,e)))}),v=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&u.isValidElement(c)?u.cloneElement(c,{onClick:m,href:v}):u.createElement("a",{...f,onClick:m,href:v,className:d!=null&&d.call?d(r===s):d,children:c,ref:t})}),Ks=e=>Array.isArray(e)?e.flatMap(t=>Ks(t&&t.type===u.Fragment?t.props.children:t)):[e],tc=({children:e,location:t})=>{const n=Zt(),[r]=yn(n);for(const i of Ks(e)){let o=0;if(u.isValidElement(i)&&(o=Us(n.parser,i.props.path,t||r,i.props.nest))[0])return u.cloneElement(i,{match:o})}return null},wn=e=>{const{to:t,href:n=t}=e,r=Zt(),[,i]=yn(r),o=$i(()=>i(t||n,e)),{ssrContext:s}=r;return Ns(()=>{o()},[]),s&&(s.redirectTo=t),null},ji=u.createContext({basePath:"",csrfToken:"",codelistGroups:[]});ji.displayName="AppData";function Xt(){const e=u.useContext(ji);if(e===void 0)throw new Error("useAppData must be used within a AppData.Provider component");return e}const Fi=u.createContext();Fi.displayName="FormData";function Ys({children:e}){const[t,n]=u.useState({}),r=u.useMemo(()=>({formData:t,setFormData:n}),[t]);return g.jsx(Fi.Provider,{value:r,children:e})}function Ne(){const e=u.useContext(Fi);if(e===void 0)throw new Error("useFormData must be used within a FormData.Provider component");return e}Ys.propTypes={children:P.element.isRequired};const nc=({dateStart:e,dateEnd:t})=>{const n=new Date(e),r=new Date(t),i={year:"numeric",month:"long",day:"numeric"};return{endISO:r.toISOString(),endStr:r.toLocaleDateString("en-GB",i),startISO:n.toISOString(),startStr:n.toLocaleDateString("en-GB",i)}},Zs=[{label:"Weeks",value:"weeks"},{label:"Months",value:"months"},{label:"Years",value:"years"}],Hn={label:"Filter the population",items:[{label:"All people",value:"all"},{label:"Adults only",value:"adults"},{label:"Children only",value:"children"}]},an={label:"Break down the report by demographics",items:[{label:"Sex",value:"sex"},{label:"Age",value:"age"},{label:"Ethnicity",value:"ethnicity"},{label:"Index of Multiple Deprivation (IMD)",value:"imd"},{label:"Region",value:"region"}]};function De(...e){return e.filter(Boolean).join(" ")}function jo(e){const t=document.getElementById(e);return t!=null&&t.textContent?JSON.parse(t==null?void 0:t.textContent).map(i=>({label:i.name,organisation:i.organisation,type:e.slice(9,e.length-1),user:i.user,value:i.slug,updatedDate:i.updated_date})):[]}function En(e){const{formData:t}=Ne(),n=[];return e.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)||n.push(r)}),!!n.length}function rc(e){return!!e&&e.constructor===Object}function ic({dataset:{basePath:e,csrfToken:t,events:n,medications:r,dateStart:i,dateEnd:o}}){return{basePath:e,csrfToken:t,codelistGroups:[{name:"SNOMED CT",id:"event",codelists:jo(n)},{name:"dm+d",id:"medication",codelists:jo(r)}],dates:{...nc({dateStart:i,dateEnd:o})}}}const oc=e=>(Object.keys(e).forEach(t=>e[t]===void 0&&delete e[t]),e);function Xs({children:e}){const[t]=Ft(),n=t==="/",r=t==="/success";return g.jsxs("main",{className:"min-h-[66vh] grow pb-12 bg-gray-100",children:[g.jsxs("div",{className:"mb-6 mt-3 flex flex-col gap-y-2 text-left md:mt-0",children:[g.jsx("h1",{className:"text-3xl tracking-tight break-words md:text-4xl font-bold text-gray-900",children:"Interactive request"}),g.jsx("p",{className:"font-lg text-gray-600",children:"Make a new request for an interactive report."})]}),g.jsx("section",{className:"max-w-3xl relative",children:g.jsxs("div",{className:De("bg-white p-6 shadow-sm rounded-sm",!n&&!r?"pt-12":null),children:[!n&&!r?g.jsx("button",{className:De("absolute top-0 left-0 text-sm font-semibold py-1 pl-2 pr-3 flex text-white bg-oxford-800 rounded-br transition-colors","hover:text-oxford-50 hover:bg-oxford-700","focus-within:text-oxford-50 focus-within:bg-oxford-700"),onClick:()=>window.history.back(),type:"button",children:"← Back"}):null,e]})})]})}Xs.propTypes={children:ju.node.isRequired};var sc=function(t){return ac(t)&&!lc(t)};function ac(e){return!!e&&typeof e=="object"}function lc(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||dc(e)}var uc=typeof Symbol=="function"&&Symbol.for,cc=uc?Symbol.for("react.element"):60103;function dc(e){return e.$$typeof===cc}function fc(e){return Array.isArray(e)?[]:{}}function Yn(e,t){return t.clone!==!1&&t.isMergeableObject(e)?hn(fc(e),e,t):e}function pc(e,t,n){return e.concat(t).map(function(r){return Yn(r,n)})}function hc(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Yn(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Yn(t[i],n):r[i]=hn(e[i],t[i],n)}),r}function hn(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||pc,n.isMergeableObject=n.isMergeableObject||sc;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):hc(e,t,n):Yn(t,n)}hn.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return hn(r,i,n)},{})};var ii=hn,Qs=typeof global=="object"&&global&&global.Object===Object&&global,mc=typeof self=="object"&&self&&self.Object===Object&&self,We=Qs||mc||Function("return this")(),st=We.Symbol,Js=Object.prototype,gc=Js.hasOwnProperty,vc=Js.toString,on=st?st.toStringTag:void 0;function bc(e){var t=gc.call(e,on),n=e[on];try{e[on]=void 0;var r=!0}catch{}var i=vc.call(e);return r&&(t?e[on]=n:delete e[on]),i}var xc=Object.prototype,yc=xc.toString;function wc(e){return yc.call(e)}var Ec="[object Null]",Sc="[object Undefined]",Fo=st?st.toStringTag:void 0;function At(e){return e==null?e===void 0?Sc:Ec:Fo&&Fo in Object(e)?bc(e):wc(e)}function ea(e,t){return function(n){return e(t(n))}}var Ai=ea(Object.getPrototypeOf,Object);function Pt(e){return e!=null&&typeof e=="object"}var Tc="[object Object]",Oc=Function.prototype,$c=Object.prototype,ta=Oc.toString,Cc=$c.hasOwnProperty,Rc=ta.call(Object);function Ao(e){if(!Pt(e)||At(e)!=Tc)return!1;var t=Ai(e);if(t===null)return!0;var n=Cc.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ta.call(n)==Rc}function jc(){this.__data__=[],this.size=0}function na(e,t){return e===t||e!==e&&t!==t}function lr(e,t){for(var n=e.length;n--;)if(na(e[n][0],t))return n;return-1}var Fc=Array.prototype,Ac=Fc.splice;function Pc(e){var t=this.__data__,n=lr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ac.call(t,n,1),--this.size,!0}function Ic(e){var t=this.__data__,n=lr(t,e);return n<0?void 0:t[n][1]}function _c(e){return lr(this.__data__,e)>-1}function Mc(e,t){var n=this.__data__,r=lr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Je(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Je.prototype.clear=jc;Je.prototype.delete=Pc;Je.prototype.get=Ic;Je.prototype.has=_c;Je.prototype.set=Mc;function Dc(){this.__data__=new Je,this.size=0}function kc(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Nc(e){return this.__data__.get(e)}function Lc(e){return this.__data__.has(e)}function Sn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vc="[object AsyncFunction]",Bc="[object Function]",Hc="[object GeneratorFunction]",zc="[object Proxy]";function ra(e){if(!Sn(e))return!1;var t=At(e);return t==Bc||t==Hc||t==Vc||t==zc}var Lr=We["__core-js_shared__"],Po=function(){var e=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qc(e){return!!Po&&Po in e}var Uc=Function.prototype,Wc=Uc.toString;function It(e){if(e!=null){try{return Wc.call(e)}catch{}try{return e+""}catch{}}return""}var Gc=/[\\^$.*+?()[\]{}|]/g,Kc=/^\[object .+?Constructor\]$/,Yc=Function.prototype,Zc=Object.prototype,Xc=Yc.toString,Qc=Zc.hasOwnProperty,Jc=RegExp("^"+Xc.call(Qc).replace(Gc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ed(e){if(!Sn(e)||qc(e))return!1;var t=ra(e)?Jc:Kc;return t.test(It(e))}function td(e,t){return e==null?void 0:e[t]}function _t(e,t){var n=td(e,t);return ed(n)?n:void 0}var mn=_t(We,"Map"),gn=_t(Object,"create");function nd(){this.__data__=gn?gn(null):{},this.size=0}function rd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var id="__lodash_hash_undefined__",od=Object.prototype,sd=od.hasOwnProperty;function ad(e){var t=this.__data__;if(gn){var n=t[e];return n===id?void 0:n}return sd.call(t,e)?t[e]:void 0}var ld=Object.prototype,ud=ld.hasOwnProperty;function cd(e){var t=this.__data__;return gn?t[e]!==void 0:ud.call(t,e)}var dd="__lodash_hash_undefined__";function fd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&t===void 0?dd:t,this}function Ot(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ot.prototype.clear=nd;Ot.prototype.delete=rd;Ot.prototype.get=ad;Ot.prototype.has=cd;Ot.prototype.set=fd;function pd(){this.size=0,this.__data__={hash:new Ot,map:new(mn||Je),string:new Ot}}function hd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ur(e,t){var n=e.__data__;return hd(t)?n[typeof t=="string"?"string":"hash"]:n.map}function md(e){var t=ur(this,e).delete(e);return this.size-=t?1:0,t}function gd(e){return ur(this,e).get(e)}function vd(e){return ur(this,e).has(e)}function bd(e,t){var n=ur(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dt.prototype.clear=pd;dt.prototype.delete=md;dt.prototype.get=gd;dt.prototype.has=vd;dt.prototype.set=bd;var xd=200;function yd(e,t){var n=this.__data__;if(n instanceof Je){var r=n.__data__;if(!mn||r.length<xd-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(r)}return n.set(e,t),this.size=n.size,this}function Qt(e){var t=this.__data__=new Je(e);this.size=t.size}Qt.prototype.clear=Dc;Qt.prototype.delete=kc;Qt.prototype.get=Nc;Qt.prototype.has=Lc;Qt.prototype.set=yd;function wd(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Io=function(){try{var e=_t(Object,"defineProperty");return e({},"",{}),e}catch{}}();function ia(e,t,n){t=="__proto__"&&Io?Io(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ed=Object.prototype,Sd=Ed.hasOwnProperty;function oa(e,t,n){var r=e[t];(!(Sd.call(e,t)&&na(r,n))||n===void 0&&!(t in e))&&ia(e,t,n)}function cr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?ia(n,a,l):oa(n,a,l)}return n}function Td(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Od="[object Arguments]";function _o(e){return Pt(e)&&At(e)==Od}var sa=Object.prototype,$d=sa.hasOwnProperty,Cd=sa.propertyIsEnumerable,Rd=_o(function(){return arguments}())?_o:function(e){return Pt(e)&&$d.call(e,"callee")&&!Cd.call(e,"callee")},Tn=Array.isArray;function jd(){return!1}var aa=typeof je=="object"&&je&&!je.nodeType&&je,Mo=aa&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,Fd=Mo&&Mo.exports===aa,Do=Fd?We.Buffer:void 0,Ad=Do?Do.isBuffer:void 0,la=Ad||jd,Pd=9007199254740991,Id=/^(?:0|[1-9]\d*)$/;function _d(e,t){var n=typeof e;return t=t??Pd,!!t&&(n=="number"||n!="symbol"&&Id.test(e))&&e>-1&&e%1==0&&e<t}var Md=9007199254740991;function ua(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Md}var Dd="[object Arguments]",kd="[object Array]",Nd="[object Boolean]",Ld="[object Date]",Vd="[object Error]",Bd="[object Function]",Hd="[object Map]",zd="[object Number]",qd="[object Object]",Ud="[object RegExp]",Wd="[object Set]",Gd="[object String]",Kd="[object WeakMap]",Yd="[object ArrayBuffer]",Zd="[object DataView]",Xd="[object Float32Array]",Qd="[object Float64Array]",Jd="[object Int8Array]",ef="[object Int16Array]",tf="[object Int32Array]",nf="[object Uint8Array]",rf="[object Uint8ClampedArray]",of="[object Uint16Array]",sf="[object Uint32Array]",ue={};ue[Xd]=ue[Qd]=ue[Jd]=ue[ef]=ue[tf]=ue[nf]=ue[rf]=ue[of]=ue[sf]=!0;ue[Dd]=ue[kd]=ue[Yd]=ue[Nd]=ue[Zd]=ue[Ld]=ue[Vd]=ue[Bd]=ue[Hd]=ue[zd]=ue[qd]=ue[Ud]=ue[Wd]=ue[Gd]=ue[Kd]=!1;function af(e){return Pt(e)&&ua(e.length)&&!!ue[At(e)]}function Pi(e){return function(t){return e(t)}}var ca=typeof je=="object"&&je&&!je.nodeType&&je,un=ca&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,lf=un&&un.exports===ca,Vr=lf&&Qs.process,Wt=function(){try{var e=un&&un.require&&un.require("util").types;return e||Vr&&Vr.binding&&Vr.binding("util")}catch{}}(),ko=Wt&&Wt.isTypedArray,uf=ko?Pi(ko):af,cf=Object.prototype,df=cf.hasOwnProperty;function da(e,t){var n=Tn(e),r=!n&&Rd(e),i=!n&&!r&&la(e),o=!n&&!r&&!i&&uf(e),s=n||r||i||o,a=s?Td(e.length,String):[],l=a.length;for(var c in e)(t||df.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_d(c,l)))&&a.push(c);return a}var ff=Object.prototype;function Ii(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ff;return e===n}var pf=ea(Object.keys,Object),hf=Object.prototype,mf=hf.hasOwnProperty;function gf(e){if(!Ii(e))return pf(e);var t=[];for(var n in Object(e))mf.call(e,n)&&n!="constructor"&&t.push(n);return t}function fa(e){return e!=null&&ua(e.length)&&!ra(e)}function _i(e){return fa(e)?da(e):gf(e)}function vf(e,t){return e&&cr(t,_i(t),e)}function bf(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var xf=Object.prototype,yf=xf.hasOwnProperty;function wf(e){if(!Sn(e))return bf(e);var t=Ii(e),n=[];for(var r in e)r=="constructor"&&(t||!yf.call(e,r))||n.push(r);return n}function Mi(e){return fa(e)?da(e,!0):wf(e)}function Ef(e,t){return e&&cr(t,Mi(t),e)}var pa=typeof je=="object"&&je&&!je.nodeType&&je,No=pa&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,Sf=No&&No.exports===pa,Lo=Sf?We.Buffer:void 0,Vo=Lo?Lo.allocUnsafe:void 0;function Tf(e,t){if(t)return e.slice();var n=e.length,r=Vo?Vo(n):new e.constructor(n);return e.copy(r),r}function ha(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Of(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ma(){return[]}var $f=Object.prototype,Cf=$f.propertyIsEnumerable,Bo=Object.getOwnPropertySymbols,Di=Bo?function(e){return e==null?[]:(e=Object(e),Of(Bo(e),function(t){return Cf.call(e,t)}))}:ma;function Rf(e,t){return cr(e,Di(e),t)}function ga(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var jf=Object.getOwnPropertySymbols,va=jf?function(e){for(var t=[];e;)ga(t,Di(e)),e=Ai(e);return t}:ma;function Ff(e,t){return cr(e,va(e),t)}function ba(e,t,n){var r=t(e);return Tn(e)?r:ga(r,n(e))}function Af(e){return ba(e,_i,Di)}function Pf(e){return ba(e,Mi,va)}var oi=_t(We,"DataView"),si=_t(We,"Promise"),ai=_t(We,"Set"),li=_t(We,"WeakMap"),Ho="[object Map]",If="[object Object]",zo="[object Promise]",qo="[object Set]",Uo="[object WeakMap]",Wo="[object DataView]",_f=It(oi),Mf=It(mn),Df=It(si),kf=It(ai),Nf=It(li),Ze=At;(oi&&Ze(new oi(new ArrayBuffer(1)))!=Wo||mn&&Ze(new mn)!=Ho||si&&Ze(si.resolve())!=zo||ai&&Ze(new ai)!=qo||li&&Ze(new li)!=Uo)&&(Ze=function(e){var t=At(e),n=t==If?e.constructor:void 0,r=n?It(n):"";if(r)switch(r){case _f:return Wo;case Mf:return Ho;case Df:return zo;case kf:return qo;case Nf:return Uo}return t});var Lf=Object.prototype,Vf=Lf.hasOwnProperty;function Bf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Vf.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Go=We.Uint8Array;function ki(e){var t=new e.constructor(e.byteLength);return new Go(t).set(new Go(e)),t}function Hf(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var zf=/\w*$/;function qf(e){var t=new e.constructor(e.source,zf.exec(e));return t.lastIndex=e.lastIndex,t}var Ko=st?st.prototype:void 0,Yo=Ko?Ko.valueOf:void 0;function Uf(e){return Yo?Object(Yo.call(e)):{}}function Wf(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Gf="[object Boolean]",Kf="[object Date]",Yf="[object Map]",Zf="[object Number]",Xf="[object RegExp]",Qf="[object Set]",Jf="[object String]",ep="[object Symbol]",tp="[object ArrayBuffer]",np="[object DataView]",rp="[object Float32Array]",ip="[object Float64Array]",op="[object Int8Array]",sp="[object Int16Array]",ap="[object Int32Array]",lp="[object Uint8Array]",up="[object Uint8ClampedArray]",cp="[object Uint16Array]",dp="[object Uint32Array]";function fp(e,t,n){var r=e.constructor;switch(t){case tp:return ki(e);case Gf:case Kf:return new r(+e);case np:return Hf(e,n);case rp:case ip:case op:case sp:case ap:case lp:case up:case cp:case dp:return Wf(e,n);case Yf:return new r;case Zf:case Jf:return new r(e);case Xf:return qf(e);case Qf:return new r;case ep:return Uf(e)}}var Zo=Object.create,pp=function(){function e(){}return function(t){if(!Sn(t))return{};if(Zo)return Zo(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function hp(e){return typeof e.constructor=="function"&&!Ii(e)?pp(Ai(e)):{}}var mp="[object Map]";function gp(e){return Pt(e)&&Ze(e)==mp}var Xo=Wt&&Wt.isMap,vp=Xo?Pi(Xo):gp,bp="[object Set]";function xp(e){return Pt(e)&&Ze(e)==bp}var Qo=Wt&&Wt.isSet,yp=Qo?Pi(Qo):xp,wp=1,Ep=2,Sp=4,xa="[object Arguments]",Tp="[object Array]",Op="[object Boolean]",$p="[object Date]",Cp="[object Error]",ya="[object Function]",Rp="[object GeneratorFunction]",jp="[object Map]",Fp="[object Number]",wa="[object Object]",Ap="[object RegExp]",Pp="[object Set]",Ip="[object String]",_p="[object Symbol]",Mp="[object WeakMap]",Dp="[object ArrayBuffer]",kp="[object DataView]",Np="[object Float32Array]",Lp="[object Float64Array]",Vp="[object Int8Array]",Bp="[object Int16Array]",Hp="[object Int32Array]",zp="[object Uint8Array]",qp="[object Uint8ClampedArray]",Up="[object Uint16Array]",Wp="[object Uint32Array]",ae={};ae[xa]=ae[Tp]=ae[Dp]=ae[kp]=ae[Op]=ae[$p]=ae[Np]=ae[Lp]=ae[Vp]=ae[Bp]=ae[Hp]=ae[jp]=ae[Fp]=ae[wa]=ae[Ap]=ae[Pp]=ae[Ip]=ae[_p]=ae[zp]=ae[qp]=ae[Up]=ae[Wp]=!0;ae[Cp]=ae[ya]=ae[Mp]=!1;function cn(e,t,n,r,i,o){var s,a=t&wp,l=t&Ep,c=t&Sp;if(s!==void 0)return s;if(!Sn(e))return e;var d=Tn(e);if(d){if(s=Bf(e),!a)return ha(e,s)}else{var p=Ze(e),h=p==ya||p==Rp;if(la(e))return Tf(e,a);if(p==wa||p==xa||h&&!i){if(s=l||h?{}:hp(e),!a)return l?Ff(e,Ef(s,e)):Rf(e,vf(s,e))}else{if(!ae[p])return i?e:{};s=fp(e,p,a)}}o||(o=new Qt);var f=o.get(e);if(f)return f;o.set(e,s),yp(e)?e.forEach(function(b){s.add(cn(b,t,n,b,e,o))}):vp(e)&&e.forEach(function(b,x){s.set(x,cn(b,t,n,x,e,o))});var m=c?l?Pf:Af:l?Mi:_i,v=d?void 0:m(e);return wd(v||e,function(b,x){v&&(x=b,b=e[x]),oa(s,x,cn(b,t,n,x,e,o))}),s}var Gp=1,Kp=4;function Dn(e){return cn(e,Gp|Kp)}var Br,Jo;function Yp(){if(Jo)return Br;Jo=1;var e=Array.isArray,t=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function i(o,s){if(o===s)return!0;if(o&&s&&typeof o=="object"&&typeof s=="object"){var a=e(o),l=e(s),c,d,p;if(a&&l){if(d=o.length,d!=s.length)return!1;for(c=d;c--!==0;)if(!i(o[c],s[c]))return!1;return!0}if(a!=l)return!1;var h=o instanceof Date,f=s instanceof Date;if(h!=f)return!1;if(h&&f)return o.getTime()==s.getTime();var m=o instanceof RegExp,v=s instanceof RegExp;if(m!=v)return!1;if(m&&v)return o.toString()==s.toString();var b=t(o);if(d=b.length,d!==t(s).length)return!1;for(c=d;c--!==0;)if(!n.call(s,b[c]))return!1;if(r&&o instanceof Element&&s instanceof Element)return o===s;for(c=d;c--!==0;)if(p=b[c],!(p==="_owner"&&o.$$typeof)&&!i(o[p],s[p]))return!1;return!0}return o!==o&&s!==s}return Br=function(s,a){try{return i(s,a)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},Br}var Zp=Yp();const gt=ks(Zp);var Xp=4;function es(e){return cn(e,Xp)}function Ea(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Qp="[object Symbol]";function Ni(e){return typeof e=="symbol"||Pt(e)&&At(e)==Qp}var Jp="Expected a function";function Li(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jp);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Li.Cache||dt),n}Li.Cache=dt;var eh=500;function th(e){var t=Li(e,function(r){return n.size===eh&&n.clear(),r}),n=t.cache;return t}var nh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rh=/\\(\\)?/g,ih=th(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nh,function(n,r,i,o){t.push(i?o.replace(rh,"$1"):r||n)}),t});function oh(e){if(typeof e=="string"||Ni(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ts=st?st.prototype:void 0,ns=ts?ts.toString:void 0;function Sa(e){if(typeof e=="string")return e;if(Tn(e))return Ea(e,Sa)+"";if(Ni(e))return ns?ns.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function sh(e){return e==null?"":Sa(e)}function Ta(e){return Tn(e)?Ea(e,oh):Ni(e)?[e]:ha(ih(sh(e)))}function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function zt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dr=u.createContext(void 0);dr.displayName="FormikContext";var ah=dr.Provider;dr.Consumer;function et(){var e=u.useContext(dr);return e}var $e=function(t){return typeof t=="function"},fr=function(t){return t!==null&&typeof t=="object"},lh=function(t){return String(Math.floor(Number(t)))===t},Hr=function(t){return Object.prototype.toString.call(t)==="[object String]"},uh=function(t){return u.Children.count(t)===0},zr=function(t){return fr(t)&&$e(t.then)};function Oe(e,t,n,r){r===void 0&&(r=0);for(var i=Ta(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function Et(e,t,n){for(var r=es(e),i=r,o=0,s=Ta(t);o<s.length-1;o++){var a=s[o],l=Oe(e,s.slice(0,o+1));if(l&&(fr(l)||Array.isArray(l)))i=i[a]=es(l);else{var c=s[o+1];i=i[a]=lh(c)&&Number(c)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Oa(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];fr(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Oa(a,t,n,r[s])):r[s]=t}return r}function ch(e,t){switch(t.type){case"SET_VALUES":return ce({},e,{values:t.payload});case"SET_TOUCHED":return ce({},e,{touched:t.payload});case"SET_ERRORS":return gt(e.errors,t.payload)?e:ce({},e,{errors:t.payload});case"SET_STATUS":return ce({},e,{status:t.payload});case"SET_ISSUBMITTING":return ce({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return ce({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return ce({},e,{values:Et(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return ce({},e,{touched:Et(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return ce({},e,{errors:Et(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return ce({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return ce({},e,{touched:Oa(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return ce({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ce({},e,{isSubmitting:!1});default:return e}}var mt={},kn={};function dh(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,c=l===void 0?!1:l,d=e.onSubmit,p=zt(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=ce({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},p),f=u.useRef(h.initialValues),m=u.useRef(h.initialErrors||mt),v=u.useRef(h.initialTouched||kn),b=u.useRef(h.initialStatus),x=u.useRef(!1),E=u.useRef({});u.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var w=u.useState(0),$=w[1],y=u.useRef({values:Dn(h.initialValues),errors:Dn(h.initialErrors)||mt,touched:Dn(h.initialTouched)||kn,status:Dn(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),S=y.current,O=u.useCallback(function(T){var _=y.current;y.current=ch(_,T),_!==y.current&&$(function(k){return k+1})},[]),M=u.useCallback(function(T,_){return new Promise(function(k,B){var Y=h.validate(T,_);Y==null?k(mt):zr(Y)?Y.then(function(ne){k(ne||mt)},function(ne){B(ne)}):k(Y)})},[h.validate]),I=u.useCallback(function(T,_){var k=h.validationSchema,B=$e(k)?k(_):k,Y=_&&B.validateAt?B.validateAt(_,T):ph(T,B);return new Promise(function(ne,ye){Y.then(function(){ne(mt)},function(Ke){Ke.name==="ValidationError"?ne(fh(Ke)):ye(Ke)})})},[h.validationSchema]),F=u.useCallback(function(T,_){return new Promise(function(k){return k(E.current[T].validate(_))})},[]),C=u.useCallback(function(T){var _=Object.keys(E.current).filter(function(B){return $e(E.current[B].validate)}),k=_.length>0?_.map(function(B){return F(B,Oe(T,B))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(k).then(function(B){return B.reduce(function(Y,ne,ye){return ne==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ne&&(Y=Et(Y,_[ye],ne)),Y},{})})},[F]),H=u.useCallback(function(T){return Promise.all([C(T),h.validationSchema?I(T):{},h.validate?M(T):{}]).then(function(_){var k=_[0],B=_[1],Y=_[2],ne=ii.all([k,B,Y],{arrayMerge:hh});return ne})},[h.validate,h.validationSchema,C,M,I]),L=Ie(function(T){return T===void 0&&(T=S.values),O({type:"SET_ISVALIDATING",payload:!0}),H(T).then(function(_){return x.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:_})),_})});u.useEffect(function(){s&&x.current===!0&&gt(f.current,h.initialValues)&&L(f.current)},[s,L]);var A=u.useCallback(function(T){var _=T&&T.values?T.values:f.current,k=T&&T.errors?T.errors:m.current?m.current:h.initialErrors||{},B=T&&T.touched?T.touched:v.current?v.current:h.initialTouched||{},Y=T&&T.status?T.status:b.current?b.current:h.initialStatus;f.current=_,m.current=k,v.current=B,b.current=Y;var ne=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!T&&!!T.isSubmitting,errors:k,touched:B,status:Y,values:_,isValidating:!!T&&!!T.isValidating,submitCount:T&&T.submitCount&&typeof T.submitCount=="number"?T.submitCount:0}})};if(h.onReset){var ye=h.onReset(S.values,pe);zr(ye)?ye.then(ne):ne()}else ne()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);u.useEffect(function(){x.current===!0&&!gt(f.current,h.initialValues)&&c&&(f.current=h.initialValues,A(),s&&L(f.current))},[c,h.initialValues,A,s,L]),u.useEffect(function(){c&&x.current===!0&&!gt(m.current,h.initialErrors)&&(m.current=h.initialErrors||mt,O({type:"SET_ERRORS",payload:h.initialErrors||mt}))},[c,h.initialErrors]),u.useEffect(function(){c&&x.current===!0&&!gt(v.current,h.initialTouched)&&(v.current=h.initialTouched||kn,O({type:"SET_TOUCHED",payload:h.initialTouched||kn}))},[c,h.initialTouched]),u.useEffect(function(){c&&x.current===!0&&!gt(b.current,h.initialStatus)&&(b.current=h.initialStatus,O({type:"SET_STATUS",payload:h.initialStatus}))},[c,h.initialStatus,h.initialTouched]);var q=Ie(function(T){if(E.current[T]&&$e(E.current[T].validate)){var _=Oe(S.values,T),k=E.current[T].validate(_);return zr(k)?(O({type:"SET_ISVALIDATING",payload:!0}),k.then(function(B){return B}).then(function(B){O({type:"SET_FIELD_ERROR",payload:{field:T,value:B}}),O({type:"SET_ISVALIDATING",payload:!1})})):(O({type:"SET_FIELD_ERROR",payload:{field:T,value:k}}),Promise.resolve(k))}else if(h.validationSchema)return O({type:"SET_ISVALIDATING",payload:!0}),I(S.values,T).then(function(B){return B}).then(function(B){O({type:"SET_FIELD_ERROR",payload:{field:T,value:Oe(B,T)}}),O({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),G=u.useCallback(function(T,_){var k=_.validate;E.current[T]={validate:k}},[]),ee=u.useCallback(function(T){delete E.current[T]},[]),z=Ie(function(T,_){O({type:"SET_TOUCHED",payload:T});var k=_===void 0?i:_;return k?L(S.values):Promise.resolve()}),U=u.useCallback(function(T){O({type:"SET_ERRORS",payload:T})},[]),N=Ie(function(T,_){var k=$e(T)?T(S.values):T;O({type:"SET_VALUES",payload:k});var B=_===void 0?n:_;return B?L(k):Promise.resolve()}),te=u.useCallback(function(T,_){O({type:"SET_FIELD_ERROR",payload:{field:T,value:_}})},[]),X=Ie(function(T,_,k){O({type:"SET_FIELD_VALUE",payload:{field:T,value:_}});var B=k===void 0?n:k;return B?L(Et(S.values,T,_)):Promise.resolve()}),R=u.useCallback(function(T,_){var k=_,B=T,Y;if(!Hr(T)){T.persist&&T.persist();var ne=T.target?T.target:T.currentTarget,ye=ne.type,Ke=ne.name,Pr=ne.id,Ir=ne.value,Tu=ne.checked;ne.outerHTML;var go=ne.options,Ou=ne.multiple;k=_||Ke||Pr,B=/number|range/.test(ye)?(Y=parseFloat(Ir),isNaN(Y)?"":Y):/checkbox/.test(ye)?gh(Oe(S.values,k),Tu,Ir):go&&Ou?mh(go):Ir}k&&X(k,B)},[X,S.values]),J=Ie(function(T){if(Hr(T))return function(_){return R(_,T)};R(T)}),K=Ie(function(T,_,k){_===void 0&&(_=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:T,value:_}});var B=k===void 0?i:k;return B?L(S.values):Promise.resolve()}),ge=u.useCallback(function(T,_){T.persist&&T.persist();var k=T.target,B=k.name,Y=k.id;k.outerHTML;var ne=_||B||Y;K(ne,!0)},[K]),ie=Ie(function(T){if(Hr(T))return function(_){return ge(_,T)};ge(T)}),le=u.useCallback(function(T){$e(T)?O({type:"SET_FORMIK_STATE",payload:T}):O({type:"SET_FORMIK_STATE",payload:function(){return T}})},[]),be=u.useCallback(function(T){O({type:"SET_STATUS",payload:T})},[]),Nt=u.useCallback(function(T){O({type:"SET_ISSUBMITTING",payload:T})},[]),ht=Ie(function(){return O({type:"SUBMIT_ATTEMPT"}),L().then(function(T){var _=T instanceof Error,k=!_&&Object.keys(T).length===0;if(k){var B;try{if(B=V(),B===void 0)return}catch(Y){throw Y}return Promise.resolve(B).then(function(Y){return x.current&&O({type:"SUBMIT_SUCCESS"}),Y}).catch(function(Y){if(x.current)throw O({type:"SUBMIT_FAILURE"}),Y})}else if(x.current&&(O({type:"SUBMIT_FAILURE"}),_))throw T})}),oe=Ie(function(T){T&&T.preventDefault&&$e(T.preventDefault)&&T.preventDefault(),T&&T.stopPropagation&&$e(T.stopPropagation)&&T.stopPropagation(),ht().catch(function(_){console.warn("Warning: An unhandled error was caught from submitForm()",_)})}),pe={resetForm:A,validateForm:L,validateField:q,setErrors:U,setFieldError:te,setFieldTouched:K,setFieldValue:X,setStatus:be,setSubmitting:Nt,setTouched:z,setValues:N,setFormikState:le,submitForm:ht},V=Ie(function(){return d(S.values,pe)}),se=Ie(function(T){T&&T.preventDefault&&$e(T.preventDefault)&&T.preventDefault(),T&&T.stopPropagation&&$e(T.stopPropagation)&&T.stopPropagation(),A()}),Pe=u.useCallback(function(T){return{value:Oe(S.values,T),error:Oe(S.errors,T),touched:!!Oe(S.touched,T),initialValue:Oe(f.current,T),initialTouched:!!Oe(v.current,T),initialError:Oe(m.current,T)}},[S.errors,S.touched,S.values]),Lt=u.useCallback(function(T){return{setValue:function(k,B){return X(T,k,B)},setTouched:function(k,B){return K(T,k,B)},setError:function(k){return te(T,k)}}},[X,K,te]),Mn=u.useCallback(function(T){var _=fr(T),k=_?T.name:T,B=Oe(S.values,k),Y={name:k,value:B,onChange:J,onBlur:ie};if(_){var ne=T.type,ye=T.value,Ke=T.as,Pr=T.multiple;ne==="checkbox"?ye===void 0?Y.checked=!!B:(Y.checked=!!(Array.isArray(B)&&~B.indexOf(ye)),Y.value=ye):ne==="radio"?(Y.checked=B===ye,Y.value=ye):Ke==="select"&&Pr&&(Y.value=Y.value||[],Y.multiple=!0)}return Y},[ie,J,S.values]),Ar=u.useMemo(function(){return!gt(f.current,S.values)},[f.current,S.values]),Eu=u.useMemo(function(){return typeof a<"u"?Ar?S.errors&&Object.keys(S.errors).length===0:a!==!1&&$e(a)?a(h):a:S.errors&&Object.keys(S.errors).length===0},[a,Ar,S.errors,h]),Su=ce({},S,{initialValues:f.current,initialErrors:m.current,initialTouched:v.current,initialStatus:b.current,handleBlur:ie,handleChange:J,handleReset:se,handleSubmit:oe,resetForm:A,setErrors:U,setFormikState:le,setFieldTouched:K,setFieldValue:X,setFieldError:te,setStatus:be,setSubmitting:Nt,setTouched:z,setValues:N,submitForm:ht,validateForm:L,validateField:q,isValid:Eu,dirty:Ar,unregisterField:ee,registerField:G,getFieldProps:Mn,getFieldMeta:Pe,getFieldHelpers:Lt,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Su}function pr(e){var t=dh(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return u.useImperativeHandle(o,function(){return t}),u.createElement(ah,{value:t},n?u.createElement(n,t):i?i(t):r?$e(r)?r(t):uh(r)?null:u.Children.only(r):null)}function fh(e){var t={};if(e.inner){if(e.inner.length===0)return Et(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Oe(t,s.path)||(t=Et(t,s.path,s.message))}}return t}function ph(e,t,n,r){n===void 0&&(n=!1);var i=ui(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function ui(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||Ao(i)?ui(i):i!==""?i:void 0}):Ao(e[r])?t[r]=ui(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function hh(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?ii(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=ii(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function mh(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function gh(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var vh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect;function Ie(e){var t=u.useRef(e);return vh(function(){t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function Gt(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=e.className,l=zt(e,["validate","name","render","children","as","component","className"]),c=et(),d=zt(c,["validate","validationSchema"]),p=d.registerField,h=d.unregisterField;u.useEffect(function(){return p(n,{validate:t}),function(){h(n)}},[p,h,n,t]);var f=d.getFieldProps(ce({name:n},l)),m=d.getFieldMeta(n),v={field:f,form:d};if(r)return r(ce({},v,{meta:m}));if($e(i))return i(ce({},v,{meta:m}));if(s){if(typeof s=="string"){var b=l.innerRef,x=zt(l,["innerRef"]);return u.createElement(s,ce({ref:b},f,x,{className:a}),i)}return u.createElement(s,ce({field:f,form:d},l,{className:a}),i)}var E=o||"input";if(typeof E=="string"){var w=l.innerRef,$=zt(l,["innerRef"]);return u.createElement(E,ce({ref:w},f,$,{className:a}),i)}return u.createElement(E,ce({},f,l,{className:a}),i)}var On=u.forwardRef(function(e,t){var n=e.action,r=zt(e,["action"]),i=n??"#",o=et(),s=o.handleReset,a=o.handleSubmit;return u.createElement("form",ce({onSubmit:a,ref:t,onReset:s,action:i},r))});On.displayName="Form";var qr,rs;function bh(){if(rs)return qr;rs=1;function e(x){this._maxSize=x,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(x){return this._values[x]},e.prototype.set=function(x,E){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=E};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=512,a=new e(s),l=new e(s),c=new e(s);qr={Cache:e,split:p,normalizePath:d,setter:function(x){var E=d(x);return l.get(x)||l.set(x,function($,y){for(var S=0,O=E.length,M=$;S<O-1;){var I=E[S];if(I==="__proto__"||I==="constructor"||I==="prototype")return $;M=M[E[S++]]}M[E[S]]=y})},getter:function(x,E){var w=d(x);return c.get(x)||c.set(x,function(y){for(var S=0,O=w.length;S<O;)if(y!=null||!E)y=y[w[S++]];else return;return y})},join:function(x){return x.reduce(function(E,w){return E+(f(w)||n.test(w)?"["+w+"]":(E?".":"")+w)},"")},forEach:function(x,E,w){h(Array.isArray(x)?x:p(x),E,w)}};function d(x){return a.get(x)||a.set(x,p(x).map(function(E){return E.replace(o,"$2")}))}function p(x){return x.match(t)||[""]}function h(x,E,w){var $=x.length,y,S,O,M;for(S=0;S<$;S++)y=x[S],y&&(b(y)&&(y='"'+y+'"'),M=f(y),O=!M&&/^\d+$/.test(y),E.call(w,y,M,O,S,x))}function f(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function m(x){return x.match(r)&&!x.match(n)}function v(x){return i.test(x)}function b(x){return!f(x)&&(m(x)||v(x))}return qr}var St=bh(),Ur,is;function xh(){if(is)return Ur;is=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=d=>d.match(e)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,p)=>t(d).join(p).toLowerCase(),i=d=>t(d).reduce((p,h)=>`${p}${p?h[0].toUpperCase()+h.slice(1).toLowerCase():h.toLowerCase()}`,"");return Ur={words:t,upperFirst:n,camelCase:i,pascalCase:d=>n(i(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>t(d).map(n).join(" ")},Ur}var Wr=xh(),Nn={exports:{}},os;function yh(){if(os)return Nn.exports;os=1,Nn.exports=function(i){return e(t(i),i)},Nn.exports.array=e;function e(i,o){var s=i.length,a=new Array(s),l={},c=s,d=n(o),p=r(i);for(o.forEach(function(f){if(!p.has(f[0])||!p.has(f[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)l[c]||h(i[c],c,new Set);return a;function h(f,m,v){if(v.has(f)){var b;try{b=", node was:"+JSON.stringify(f)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!p.has(f))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(f));if(!l[m]){l[m]=!0;var x=d.get(f)||new Set;if(x=Array.from(x),m=x.length){v.add(f);do{var E=x[--m];h(E,p.get(E),v)}while(m);v.delete(f)}a[--s]=f}}}function t(i){for(var o=new Set,s=0,a=i.length;s<a;s++){var l=i[s];o.add(l[0]),o.add(l[1])}return Array.from(o)}function n(i){for(var o=new Map,s=0,a=i.length;s<a;s++){var l=i[s];o.has(l[0])||o.set(l[0],new Set),o.has(l[1])||o.set(l[1],new Set),o.get(l[0]).add(l[1])}return o}function r(i){for(var o=new Map,s=0,a=i.length;s<a;s++)o.set(i[s],s);return o}return Nn.exports}var wh=yh();const Eh=ks(wh),Sh=Object.prototype.toString,Th=Error.prototype.toString,Oh=RegExp.prototype.toString,$h=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Ch=/^Symbol\((.*)\)(.*)$/;function Rh(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function ss(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return Rh(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return $h.call(e).replace(Ch,"Symbol($1)");const r=Sh.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+Th.call(e)+"]":r==="RegExp"?Oh.call(e):null}function Qe(e,t){let n=ss(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=ss(this[r],t);return o!==null?o:i},2)}function $a(e){return e==null?[]:[].concat(e)}let Ca,Ra,ja,jh=/\$\{\s*(\w+)\s*\}/g;Ca=Symbol.toStringTag;class as{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ca]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],$a(t).forEach(o=>{if(Te.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Ra=Symbol.hasInstance;ja=Symbol.toStringTag;class Te extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(jh,(i,o)=>Qe(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new as(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[ja]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Te)}static[Ra](t){return as[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ze={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Qe(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Qe(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Qe(n,!0)}\``+i}},Se={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},nt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ci={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Fh={isValue:"${path} field must be ${value}"},zn={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},qn={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ah={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Qe(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Qe(n,!0)}\``}return Te.formatError(ze.notType,e)}};Object.assign(Object.create(null),{mixed:ze,string:Se,number:nt,date:ci,object:zn,array:qn,boolean:Fh,tuple:Ah});const hr=e=>e&&e.__isYupSchema__;class Zn{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Zn(t,(a,l)=>{var c;let d=s(...a)?i:o;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!hr(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Ln={context:"$",value:"."};class Mt{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ln.context,this.isValue=this.key[0]===Ln.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Ln.context:this.isValue?Ln.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&St.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Mt.prototype.__isYupRef=!0;const Xe=e=>e==null;function Vt(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},a,l){const{name:c,test:d,params:p,message:h,skipAbsent:f}=e;let{parent:m,context:v,abortEarly:b=s.spec.abortEarly,disableStackTrace:x=s.spec.disableStackTrace}=i;function E(C){return Mt.isRef(C)?C.getValue(n,m,v):C}function w(C={}){const H=Object.assign({value:n,originalValue:o,label:s.spec.label,path:C.path||r,spec:s.spec,disableStackTrace:C.disableStackTrace||x},p,C.params);for(const A of Object.keys(H))H[A]=E(H[A]);const L=new Te(Te.formatError(C.message||h,H),n,H.path,C.type||c,H.disableStackTrace);return L.params=H,L}const $=b?a:l;let y={path:r,parent:m,type:c,from:i.from,createError:w,resolve:E,options:i,originalValue:o,schema:s};const S=C=>{Te.isError(C)?$(C):C?l(null):$(w())},O=C=>{Te.isError(C)?$(C):a(C)};if(f&&Xe(n))return S(!0);let I;try{var F;if(I=d.call(y,n,y),typeof((F=I)==null?void 0:F.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${y.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(S,O)}}catch(C){O(C);return}S(I)}return t.OPTIONS=e,t}function Ph(e,t,n,r=n){let i,o,s;return t?(St.forEach(t,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let p=e.type==="tuple",h=c?parseInt(d,10):0;if(e.innerType||p){if(p&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[h],e=p?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[d],e=e.fields[d]}o=d,s=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class Xn extends Set{describe(){const t=[];for(const n of this.values())t.push(Mt.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Xn(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function qt(e,t=new Map){if(hr(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=qt(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,qt(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(qt(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=qt(i,t)}else throw Error(`Unable to clone ${e}`);return n}class ke{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Xn,this._blacklist=new Xn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ze.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=qt(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Xe(o))return o;let s=Qe(t),a=Qe(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:o,value:l,originalValue:s,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:o,value:l,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:l,options:c}=t,d=v=>{i||(i=!0,n(v,s))},p=v=>{i||(i=!0,r(v,s))},h=o.length,f=[];if(!h)return p([]);let m={value:s,originalValue:a,path:l,options:c,schema:this};for(let v=0;v<o.length;v++){const b=o[v];b(m,d,function(E){E&&(Array.isArray(E)?f.push(...E):f.push(E)),--h<=0&&p(f)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},s,{strict:!0,parent:r,value:c,originalValue:o[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(p,h,f)=>this.resolve(d)._validate(c,d,h,f)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(t,n,(l,c)=>{Te.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Te(l,c,void 0,void 0,o)):s(c)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(a,l)=>{throw Te.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Te(a,t,void 0,void 0,s);o=l}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Te.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Te.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):qt(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Vt({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Vt({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=ze.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ze.notNull){return this.nullability(!1,t)}required(t=ze.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=ze.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Vt(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=$a(t).map(o=>new Mt(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Zn(i,n):Zn.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Vt({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=ze.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Vt({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=ze.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Vt({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(p=>p.name===l.name)===c)}}}ke.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])ke.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=Ph(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])ke.prototype[e]=ke.prototype.oneOf;for(const e of["not","nope"])ke.prototype[e]=ke.prototype.notOneOf;const Ih=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function _h(e){const t=di(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function di(e){var t,n;const r=Ih.exec(e);return r?{year:Ye(r[1]),month:Ye(r[2],1)-1,day:Ye(r[3],1),hour:Ye(r[4]),minute:Ye(r[5]),second:Ye(r[6]),millisecond:r[7]?Ye(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ye(r[10]),minuteOffset:Ye(r[11])}:null}function Ye(e,t=0){return Number(e)||t}let Mh=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dh=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,kh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Nh="^\\d{4}-\\d{2}-\\d{2}",Lh="\\d{2}:\\d{2}:\\d{2}",Vh="(([+-]\\d{2}(:?\\d{2})?)|Z)",Bh=new RegExp(`${Nh}T${Lh}(\\.\\d+)?${Vh}$`),Hh=e=>Xe(e)||e===e.trim(),zh={}.toString();function Ve(){return new Fa}class Fa extends ke{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===zh?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||ze.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Se.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Se.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Se.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Se.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=Se.email){return this.matches(Mh,{name:"email",message:t,excludeEmptyString:!0})}url(t=Se.url){return this.matches(Dh,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Se.uuid){return this.matches(kh,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(Bh,{name:"datetime",message:n||Se.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Se.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=di(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||Se.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=di(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Se.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Hh})}lowercase(t=Se.lowercase){return this.transform(n=>Xe(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Xe(n)||n===n.toLowerCase()})}uppercase(t=Se.uppercase){return this.transform(n=>Xe(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Xe(n)||n===n.toUpperCase()})}}Ve.prototype=Fa.prototype;let qh=e=>e!=+e;function Aa(){return new Pa}class Pa extends ke{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!qh(t)}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce)return t;let i=t;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(t,n=nt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(t)}})}max(t,n=nt.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(t)}})}lessThan(t,n=nt.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(r){return r<this.resolve(t)}})}moreThan(t,n=nt.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(r){return r>this.resolve(t)}})}positive(t=nt.positive){return this.moreThan(0,t)}negative(t=nt.negative){return this.lessThan(0,t)}integer(t=nt.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Xe(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Xe(i)?i:Math[t](i))}}Aa.prototype=Pa.prototype;let Uh=new Date(""),Wh=e=>Object.prototype.toString.call(e)==="[object Date]";class Vi extends ke{constructor(){super({type:"date",check(t){return Wh(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=_h(t),isNaN(t)?Vi.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(Mt.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=ci.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=ci.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Vi.INVALID_DATE=Uh;function Gh(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=St.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s of Object.keys(e)){let a=e[s];r.add(s),Mt.isRef(a)&&a.isSibling?o(a.path,s):hr(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return Eh.array(Array.from(r),n).reverse()}function ls(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function Ia(e){return(t,n)=>ls(e,t)-ls(e,n)}const _a=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function Un(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=Un(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Un(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Un)}):"optional"in e?e.optional():e}const Kh=(e,t)=>{const n=[...St.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=St.getter(St.join(n),!0)(e);return!!(i&&r in i)};let us=e=>Object.prototype.toString.call(e)==="[object Object]";function cs(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Yh=Ia([]);function Jt(e){return new Ma(e)}class Ma extends ke{constructor(t){super({type:"object",check(n){return us(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Yh,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const p of a){let h=o[p],f=p in i;if(h){let m,v=i[p];c.path=(n.path?`${n.path}.`:"")+p,h=h.resolve({value:v,context:n.context,parent:l});let b=h instanceof ke?h.spec:void 0,x=b==null?void 0:b.strict;if(b!=null&&b.strip){d=d||p in i;continue}m=!n.__validating||!x?h.cast(i[p],c):i[p],m!==void 0&&(l[p]=m)}else f&&!s&&(l[p]=i[p]);(f!==p in l||l[p]!==i[p])&&(d=!0)}return d?l:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(l,c)=>{if(!a||!us(c)){i(l,c);return}s=s||c;let d=[];for(let p of this._nodes){let h=this.fields[p];!h||Mt.isRef(h)||d.push(h.asNestedTest({options:n,key:p,parent:c,parentPath:n.path,originalParent:s}))}this.runTests({tests:d,value:c,originalValue:s,options:n},r,p=>{i(p.sort(this._sortErrors).concat(l),c)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=Gh(t,n),r._sortErrors=Ia(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return Un(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=St.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return Kh(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(_a)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||zn.exact,test(n){if(n==null)return!0;const r=cs(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=zn.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=cs(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=zn.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(Wr.camelCase)}snakeCase(){return this.transformKeys(Wr.snakeCase)}constantCase(){return this.transformKeys(t=>Wr.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}Jt.prototype=Ma.prototype;function Da(e){return new ka(e)}class ka extends ke{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const l=this.innerType.cast(s,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==s&&(i=!0),l});return i?o:r}_validate(t,n={},r,i){var o;let s=this.innerType,a=(o=n.recursive)!=null?o:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,r,(l,c)=>{var d;if(!a||!s||!this._typeCheck(c)){i(l,c);return}let p=new Array(c.length);for(let f=0;f<c.length;f++){var h;p[f]=s.asNestedTest({options:n,index:f,parent:c,parentPath:n.path,originalParent:(h=n.originalValue)!=null?h:t})}this.runTests({value:c,tests:p,originalValue:(d=n.originalValue)!=null?d:t,options:n},r,f=>i(f.concat(l),c))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(_a)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!hr(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Qe(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=qn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n){return n=n||qn.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n){return n=n||qn.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);if(n.innerType){var i;let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[0]})),r.innerType=n.innerType.describe(o)}return r}}Da.prototype=ka.prototype;const Na=e=>(e.preventDefault(),e.returnValue="");function La(){return window.addEventListener("beforeunload",Na,{capture:!0})}function Bi(){return window.removeEventListener("beforeunload",Na,{capture:!0})}function mr(){const{formData:e}=Ne(),{dirty:t}=et();return u.useEffect(()=>t||Object.keys(e).length?La():Bi(),[t,e]),null}function Va(){const{formData:e}=Ne();return u.useEffect(()=>e?La():Bi(),[e]),null}function ft({children:e,className:t="",disabled:n=!1,onClick:r=()=>null,size:i="md",type:o="button",variant:s="primary"}){return g.jsx("button",{className:De("inline-flex w-fit items-center justify-center rounded-sm border-b-2 shadow-sm transition-buttons duration-200 px-4 py-2 font-semibold","hover:shadow-lg","focus:ring-offset-white focus:outline-hidden focus:ring-2 focus:ring-offset-2",s==="primary"?"bg-oxford-600 border-b-oxford-700 text-white hover:bg-oxford-700 focus:bg-oxford-700 focus:ring-oxford-500":null,s==="danger"?"bg-bn-ribbon-600 border-b-bn-ribbon-700 text-white hover:bg-bn-ribbon-700 focus:bg-bn-ribbon-700 focus:ring-bn-ribbon-500":null,s==="danger-outline"?"bg-bn-ribbon-50 border border-bn-ribbon-200 border-b-bn-ribbon-200 text-bn-ribbon-700 hover:bg-bn-ribbon-100 focus:bg-bn-ribbon-100 focus:ring-bn-ribbon-400":null,i==="sm"?"text-sm px-2! py-1.5! font-normal":null,n?"opacity-75 cursor-not-allowed bg-gray-700! border-b-gray-800!":null,t),disabled:n,onClick:r,type:o,children:e})}ft.propTypes={children:P.node.isRequired,className:P.string,disabled:P.bool,onClick:P.func,size:P.oneOf(["sm","md","lg"]),type:P.oneOf(["button","submit","reset"]),variant:P.oneOf(["primary","danger","danger-outline"])};function at({children:e}){return g.jsx("div",{className:"border-l-2 border-l-bn-ribbon-600 bg-bn-ribbon-100 max-w-prose p-2 pl-4 mt-2 text-sm font-semibold text-bn-ribbon-800",children:e})}at.propTypes={children:P.node.isRequired};function Ba({field:e,min:t=null,max:n=null}){const{values:r}=et(),i=r==null?void 0:r[e].length;return i===n?g.jsx("p",{className:"text-sm",children:"No characters remaining"}):i<t?g.jsxs("p",{className:"text-sm",children:[i-t," more characters required"]}):i<n?g.jsxs("p",{className:"text-sm",children:[n-i," characters remaining"]}):i>n?g.jsxs("p",{className:"text-sm",children:["Remove ",i-n," characters"]}):g.jsx("p",{className:"text-sm",children:" chars remaining"})}Ba.propTypes={field:P.string.isRequired,min:P.number,max:P.number};function Hi({children:e}){return g.jsx("div",{className:"-mt-2 mb-0.5 text-sm text-gray-700 flex flex-col gap-y-1",children:e})}Hi.propTypes={children:P.node.isRequired};function fi({characterCount:e=!1,children:t=null,className:n=null,hintText:r=null,id:i,label:o,maxlength:s=null,minlength:a=null,name:l,placeholder:c=null,required:d=!1,resize:p,rows:h=8,value:f=""}){const{setFieldValue:m,values:v}=et();return u.useEffect(()=>{m(i,v[i]||f)},[]),g.jsxs("div",{className:`flex flex-col gap-y-3 text-lg leading-tight ${n}`,children:[g.jsx("label",{className:"font-semibold tracking-tight",htmlFor:i,children:o}),r?g.jsx(Hi,{children:r}):null,g.jsx(Gt,{as:"textarea",className:`
          mt-1 block w-full max-w-prose rounded-md border-gray-400 text-gray-900 shadow-sm
          ${p?"":"resize-none"}
          sm:text-sm
          focus:outline-hidden focus:ring-oxford-500 focus:border-oxford-500
        `,maxLength:s,minLength:a,name:l,placeholder:c,required:d,rows:h}),e&&(a||s)?g.jsx(Ba,{field:i,max:s,min:a}):null,t]})}fi.propTypes={characterCount:P.bool,children:P.node,className:P.string,hintText:P.node,id:P.string.isRequired,label:P.string.isRequired,maxlength:P.number,minlength:P.number,name:P.string.isRequired,placeholder:P.string,required:P.bool,resize:P.bool.isRequired,rows:P.number,value:P.string};function Zh(){const[,e]=Ft(),{formData:t,setFormData:n}=Ne();if(En(["codelistA","codelistB","timeOption","filterPopulation"]))return g.jsx(wn,{to:""});const r=Jt().shape({purpose:Ve().required("Write a purpose for this analysis").min(1,"Add a purpose").max(1e3,"Purpose is too long"),title:Ve().required("Write a title for this analysis").min(1,"Add a title").max(140,"Title is too long")}),i={purpose:t.purpose||"",title:t.title||""};return g.jsx(pr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/review-request")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>g.jsxs(On,{className:"flex flex-col gap-y-4",children:[g.jsx(mr,{}),g.jsx("h1",{className:"text-4xl font-bold",children:"Analysis information"}),g.jsx(fi,{characterCount:!0,className:"mb-6",hintText:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"The title will be shown at the top of the generated report. It should provide a short summary to anyone reading the report about what the analysis shows."}),g.jsx("p",{children:"You will be able to change this after the report is generated."})]}),id:"title",label:"Provide a title for the analysis",maxlength:140,name:"title",placeholder:"",required:!0,resize:!1,rows:2,value:`${t.codelistA.label} & ${t.codelistB.label} during the COVID-19 pandemic`,children:o.title&&a.title?g.jsx(at,{children:o.title}):null}),g.jsx(fi,{characterCount:!0,hintText:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"It must be clear that this analysis request is aligned with your approvals."}),g.jsx("p",{children:"Please refer to the approved version of your project application form, which you were sent by email."})]}),id:"purpose",label:"Explain why this analysis fits with the approved project purpose",maxlength:1e3,name:"purpose",required:!0,resize:!1}),o.purpose&&a.purpose?g.jsx(at,{children:o.purpose}):null,g.jsx("div",{className:"flex flex-row w-full gap-2 mt-4",children:g.jsx(ft,{disabled:!s,type:"submit",children:"Next"})})]})})}const _e=["The number of people who had","added to their health record each month from","to","who have also had","added to their health record in the same month as","or"],Ha="before.",Le="at any time prior.",Wn=e=>`up to ${e.timeValue} ${e.timeScale} before.`;function Qn({children:e,legend:t,hideLegend:n=!1}){return g.jsxs("fieldset",{children:[g.jsx("legend",{className:n?"sr-only":"text-2xl font-bold mb-4",children:g.jsx("h2",{children:t})}),g.jsx("div",{className:"flex flex-col gap-4",children:e})]})}Qn.propTypes={children:P.node.isRequired,hideLegend:P.bool,legend:P.string.isRequired};function Jn({children:e=null,id:t,label:n,labelClassName:r=null,name:i,onClick:o=()=>null,value:s}){return g.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[g.jsx(Gt,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:t,name:i,onClick:o,type:"radio",value:s}),g.jsx("label",{"aria-label":e?n:null,className:`cursor-pointer touch-manipulation tracking-tight ${r||""}`,htmlFor:t,children:e||n})]})}Jn.propTypes={children:P.node,id:P.string.isRequired,label:P.string.isRequired,labelClassName:P.string,name:P.string.isRequired,onClick:P.func,value:P.string.isRequired};const za=typeof document<"u"?D.useLayoutEffect:()=>{};function Xh(e){const t=u.useRef(null);return za(()=>{t.current=e},[e]),u.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const $n=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},yt=e=>e&&"window"in e&&e.window===e?e:$n(e).defaultView||window;function Qh(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Jh(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function qa(e){let t=null;return()=>(t==null&&(t=e()),t)}const em=qa(function(){return Jh(/^Mac/i)}),tm=qa(function(){return Qh(/Android/i)});function nm(e){return e.mozInputSource===0&&e.isTrusted?!0:tm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class rm{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function Ua(e){let t=u.useRef({isFocused:!1,observer:null});za(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Xh(r=>{e==null||e(r)});return u.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{t.current.isFocused=!1,i.disabled&&n(new rm("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function im(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=u.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=Ua(o),a=u.useCallback(l=>{const c=$n(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}let Cn=null,pi=new Set,dn=new Map,$t=!1,hi=!1;const om={Tab:!0,Escape:!0};function zi(e,t){for(let n of pi)n(e,t)}function sm(e){return!(e.metaKey||!em()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function er(e){$t=!0,sm(e)&&(Cn="keyboard",zi("keyboard",e))}function Me(e){Cn="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&($t=!0,zi("pointer",e))}function Wa(e){nm(e)&&($t=!0,Cn="virtual")}function Ga(e){e.target===window||e.target===document||(!$t&&!hi&&(Cn="virtual",zi("virtual",e)),$t=!1,hi=!1)}function Ka(){$t=!1,hi=!0}function mi(e){if(typeof window>"u"||dn.get(yt(e)))return;const t=yt(e),n=$n(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){$t=!0,r.apply(this,arguments)},n.addEventListener("keydown",er,!0),n.addEventListener("keyup",er,!0),n.addEventListener("click",Wa,!0),t.addEventListener("focus",Ga,!0),t.addEventListener("blur",Ka,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Me,!0),n.addEventListener("pointermove",Me,!0),n.addEventListener("pointerup",Me,!0)):(n.addEventListener("mousedown",Me,!0),n.addEventListener("mousemove",Me,!0),n.addEventListener("mouseup",Me,!0)),t.addEventListener("beforeunload",()=>{Ya(e)},{once:!0}),dn.set(t,{focus:r})}const Ya=(e,t)=>{const n=yt(e),r=$n(e);t&&r.removeEventListener("DOMContentLoaded",t),dn.has(n)&&(n.HTMLElement.prototype.focus=dn.get(n).focus,r.removeEventListener("keydown",er,!0),r.removeEventListener("keyup",er,!0),r.removeEventListener("click",Wa,!0),n.removeEventListener("focus",Ga,!0),n.removeEventListener("blur",Ka,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Me,!0),r.removeEventListener("pointermove",Me,!0),r.removeEventListener("pointerup",Me,!0)):(r.removeEventListener("mousedown",Me,!0),r.removeEventListener("mousemove",Me,!0),r.removeEventListener("mouseup",Me,!0)),dn.delete(n))};function am(e){const t=$n(e);let n;return t.readyState!=="loading"?mi(e):(n=()=>{mi(e)},t.addEventListener("DOMContentLoaded",n)),()=>Ya(e,n)}typeof document<"u"&&am();function Za(){return Cn!=="pointer"}const lm=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function um(e,t,n){var r;const i=typeof window<"u"?yt(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?yt(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?yt(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?yt(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!lm.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!om[n.key])}function cm(e,t,n){mi(),u.useEffect(()=>{let r=(i,o)=>{um(!!(n!=null&&n.isTextInput),i,o)&&e(Za())};return pi.add(r),()=>{pi.delete(r)}},t)}function dm(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=u.useRef({isFocusWithin:!1}),s=u.useCallback(c=>{o.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(c),i&&i(!1))},[n,i,o]),a=Ua(s),l=u.useCallback(c=>{!o.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),i&&i(!0),o.current.isFocusWithin=!0,a(c))},[r,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let tr=!1,Gr=0;function gi(){tr=!0,setTimeout(()=>{tr=!1},50)}function ds(e){e.pointerType==="touch"&&gi()}function fm(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ds):document.addEventListener("touchend",gi),Gr++,()=>{Gr--,!(Gr>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ds):document.removeEventListener("touchend",gi))}}function gr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=u.useState(!1),a=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(fm,[]);let{hoverProps:l,triggerHoverEnd:c}=u.useMemo(()=>{let d=(f,m)=>{if(a.pointerType=m,i||m==="touch"||a.isHovered||!f.currentTarget.contains(f.target))return;a.isHovered=!0;let v=f.currentTarget;a.target=v,t&&t({type:"hoverstart",target:v,pointerType:m}),n&&n(!0),s(!0)},p=(f,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let v=f.currentTarget;r&&r({type:"hoverend",target:v,pointerType:m}),n&&n(!1),s(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=f=>{tr&&f.pointerType==="mouse"||d(f,f.pointerType)},h.onPointerLeave=f=>{!i&&f.currentTarget.contains(f.target)&&p(f,f.pointerType)}):(h.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=f=>{!a.ignoreEmulatedMouseEvents&&!tr&&d(f,"mouse"),a.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=f=>{!i&&f.currentTarget.contains(f.target)&&p(f,"mouse")}),{hoverProps:h,triggerHoverEnd:p}},[t,n,r,i,a]);return u.useEffect(()=>{i&&c({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function Rn(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=u.useRef({isFocused:!1,isFocusVisible:t||Za()}),[o,s]=u.useState(!1),[a,l]=u.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=u.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=u.useCallback(f=>{i.current.isFocused=f,s(f),c()},[c]);cm(f=>{i.current.isFocusVisible=f,c()},[],{isTextInput:n});let{focusProps:p}=im({isDisabled:r,onFocusChange:d}),{focusWithinProps:h}=dm({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:a,focusProps:r?h:p}}var pm=Object.defineProperty,hm=(e,t,n)=>t in e?pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kr=(e,t,n)=>(hm(e,typeof t!="symbol"?t+"":t,n),n);let mm=class{constructor(){Kr(this,"current",this.detect()),Kr(this,"handoffState","pending"),Kr(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Tt=new mm;function Dt(e){return Tt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function qi(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Be(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return qi(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Be();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function pt(){let[e]=u.useState(Be);return u.useEffect(()=>()=>e.dispose(),[e]),e}let Q=(e,t)=>{Tt.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function Re(e){let t=u.useRef(e);return Q(()=>{t.current=e},[e]),t}let j=function(e){let t=Re(e);return D.useCallback((...n)=>t.current(...n),[t])};function gm(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function vm(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Ui({disabled:e=!1}={}){let t=u.useRef(null),[n,r]=u.useState(!1),i=pt(),o=j(()=>{t.current=null,r(!1),i.dispose()}),s=j(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=Dt(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",c=>{if(t.current){let d=gm(c);r(vm(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let bm=u.createContext(void 0);function vr(){return u.useContext(bm)}function vi(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function he(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,he),r}var lt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(lt||{}),it=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(it||{});function fe(){let e=ym();return u.useCallback(t=>xm({mergeRefs:e,...t}),[e])}function xm({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??wm;let l=Xa(t,e);if(o)return Vn(l,n,r,s,a);let c=i??0;if(c&2){let{static:d=!1,...p}=l;if(d)return Vn(p,n,r,s,a)}if(c&1){let{unmount:d=!0,...p}=l;return he(d?0:1,{0(){return null},1(){return Vn({...p,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return Vn(l,n,r,s,a)}function Vn(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=Yr(e,["unmount","static"]),c=e.ref!==void 0?{[a]:e.ref}:{},d=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(t){let h=!1,f=[];for(let[m,v]of Object.entries(t))typeof v=="boolean"&&(h=!0),v===!0&&f.push(m.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){p["data-headlessui-state"]=f.join(" ");for(let m of f)p[`data-${m}`]=""}}if(o===u.Fragment&&(Object.keys(rt(l)).length>0||Object.keys(rt(p)).length>0))if(!u.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(rt(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(rt(l)).concat(Object.keys(rt(p))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,f=h==null?void 0:h.className,m=typeof f=="function"?(...x)=>vi(f(...x),l.className):vi(f,l.className),v=m?{className:m}:{},b=Xa(d.props,rt(Yr(l,["ref"])));for(let x in p)x in b&&delete p[x];return u.cloneElement(d,Object.assign({},b,p,c,{ref:i(Em(d),c.ref)},v))}return u.createElement(o,Object.assign({},Yr(l,["ref"]),o!==u.Fragment&&c,o!==u.Fragment&&p),d)}function ym(){let e=u.useRef([]),t=u.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function wm(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Xa(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function kt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function de(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function rt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Yr(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Em(e){return D.version.split(".")[0]>="19"?e.props.ref:e.ref}function Qa(e,t,n){let[r,i]=u.useState(n),o=e!==void 0,s=u.useRef(o),a=u.useRef(!1),l=u.useRef(!1);return o&&!s.current&&!a.current?(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,j(c=>(o||i(c),t==null?void 0:t(c)))]}function Ja(e){let[t]=u.useState(e);return t}function el(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))nl(n,tl(t,r),i);return n}function tl(e,t){return e?e+"["+t+"]":t}function nl(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())nl(e,tl(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):el(n,t,e)}function Sm(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let Tm="span";var br=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(br||{});function Om(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return fe()({ourProps:o,theirProps:i,slot:{},defaultTag:Tm,name:"Hidden"})}let xr=de(Om),$m=u.createContext(null);function Cm({children:e}){let t=u.useContext($m);if(!t)return D.createElement(D.Fragment,null,e);let{target:n}=t;return n?ve.createPortal(D.createElement(D.Fragment,null,e),n):null}function rl({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,s]=u.useState(null),a=pt();return u.useEffect(()=>{if(r&&o)return a.addEventListener(o,"reset",r)},[o,t,r]),D.createElement(Cm,null,D.createElement(Rm,{setForm:s,formId:t}),el(e).map(([l,c])=>D.createElement(xr,{features:br.Hidden,...rt({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:c,...i})})))}function Rm({setForm:e,formId:t}){return u.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:D.createElement(xr,{features:br.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let jm=u.createContext(void 0);function Wi(){return u.useContext(jm)}function il(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Fm(n)?!1:r}function Fm(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let ol=Symbol();function Am(e,t=!0){return Object.assign(e,{[ol]:t})}function me(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let n=j(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[ol]))?void 0:n}let Gi=u.createContext(null);Gi.displayName="DescriptionContext";function sl(){let e=u.useContext(Gi);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,sl),t}return e}function al(){var e,t;return(t=(e=u.useContext(Gi))==null?void 0:e.value)!=null?t:void 0}let Pm="p";function Im(e,t){let n=u.useId(),r=vr(),{id:i=`headlessui-description-${n}`,...o}=e,s=sl(),a=me(t);Q(()=>s.register(i),[i,s.register]);let l=r||!1,c=u.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),d={ref:a,...s.props,id:i};return fe()({ourProps:d,theirProps:o,slot:c,defaultTag:Pm,name:s.name||"Description"})}let _m=de(Im);Object.assign(_m,{});var W=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(W||{});let yr=u.createContext(null);yr.displayName="LabelContext";function ll(){let e=u.useContext(yr);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ll),t}return e}function jn(e){var t,n,r;let i=(n=(t=u.useContext(yr))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function ul({inherit:e=!1}={}){let t=jn(),[n,r]=u.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,u.useMemo(()=>function(o){let s=j(l=>(r(c=>[...c,l]),()=>r(c=>{let d=c.slice(),p=d.indexOf(l);return p!==-1&&d.splice(p,1),d}))),a=u.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return D.createElement(yr.Provider,{value:a},o.children)},[r])]}let Mm="label";function Dm(e,t){var n;let r=u.useId(),i=ll(),o=Wi(),s=vr(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...d}=e,p=me(t);Q(()=>i.register(a),[a,i.register]);let h=j(b=>{let x=b.currentTarget;if(x instanceof HTMLLabelElement&&b.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(b),x instanceof HTMLLabelElement){let E=document.getElementById(x.htmlFor);if(E){let w=E.getAttribute("disabled");if(w==="true"||w==="")return;let $=E.getAttribute("aria-disabled");if($==="true"||$==="")return;(E instanceof HTMLInputElement&&(E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),f=s||!1,m=u.useMemo(()=>({...i.slot,disabled:f}),[i.slot,f]),v={ref:p,...i.props,id:a,htmlFor:l,onClick:h};return c&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),fe()({ourProps:v,theirProps:d,slot:m,defaultTag:l?Mm:"div",name:i.name||"Label"})}let km=de(Dm),cl=Object.assign(km,{});function Bt(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let c;n.key&&((o=n.debug)!=null&&o.call(n))&&(c=Date.now());const d=e();if(!(d.length!==r.length||d.some((f,m)=>r[m]!==f)))return i;r=d;let h;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(h=Date.now()),i=t(...d),n.key&&((a=n.debug)!=null&&a.call(n))){const f=Math.round((Date.now()-c)*100)/100,m=Math.round((Date.now()-h)*100)/100,v=m/16,b=(x,E)=>{for(x=String(x);x.length<E;)x=" "+x;return x};console.info(`%c⏱ ${b(m,5)} /${b(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function Zr(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Nm=(e,t)=>Math.abs(e-t)<1,Lm=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Vm=e=>e,Bm=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Hm=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=()=>{const l=s[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},fs={passive:!0},ps=typeof window>"u"?!0:"onscrollend"in window,zm=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&ps?()=>{}:Lm(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=d=>()=>{const{horizontal:p,isRtl:h}=e.options;i=p?n.scrollLeft*(h&&-1||1):n.scrollTop,o(),t(i,d)},a=s(!0),l=s(!1);l(),n.addEventListener("scroll",a,fs);const c=e.options.useScrollendEvent&&ps;return c&&n.addEventListener("scrollend",l,fs),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},qm=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Um=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Wm{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Vm,rangeExtractor:Bm,onChange:()=>{},measureElement:qm,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Bt(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=Bt(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=Bt(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let d=l;d<n;d++){const p=o(d),h=this.options.lanes===1?c[d-1]:this.getFurthestMeasurement(c,d),f=h?h.end+this.options.gap:r+i,m=a.get(p),v=typeof m=="number"?m:this.options.estimateSize(d),b=f+v,x=h?h.lane:d%this.options.lanes;c[d]={index:d,start:f,size:v,end:b,key:p,lane:x}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Bt(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?Gm({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Bt(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,o,s)=>o===null||s===null?[]:n({startIndex:o,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Bt(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Zr(r[dl(0,r.length-1,i=>Zr(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+i&&(r="end"),r==="end"&&(n-=i);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=i.start-this.options.scrollPaddingStart+(i.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=Zr(this.getOffsetForIndex(n,a));Nm(c,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const dl=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Gm({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=dl(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const hs=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Km(e){const t=u.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?ve.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=u.useState(()=>new Wm(n));return r.setOptions(n),hs(()=>r._didMount(),[]),hs(()=>r._willUpdate()),r}function Ym(e){return Km({observeElementRect:Hm,observeElementOffset:zm,scrollToFn:Um,...e})}function Zm(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function fl(e=Zm){return u.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function Xm(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function bi(e,t=!1){let[n,r]=u.useReducer(()=>({}),{}),i=u.useMemo(()=>Xm(e),[e,n]);return Q(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let Qm=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function pl(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function hl(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Jm=new Qm(()=>pl(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Ki(e,t){let n=Jm.get(t),r=u.useId(),i=hl(n);if(Q(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let xi=new Map,fn=new Map;function ms(e){var t;let n=(t=fn.get(e))!=null?t:0;return fn.set(e,n+1),n!==0?()=>gs(e):(xi.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>gs(e))}function gs(e){var t;let n=(t=fn.get(e))!=null?t:1;if(n===1?fn.delete(e):fn.set(e,n-1),n!==1)return;let r=xi.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,xi.delete(e))}function ml(e,{allowed:t,disallowed:n}={}){let r=Ki(e,"inert-others");Q(()=>{var i,o;if(!r)return;let s=Be();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(ms(l));let a=(o=t==null?void 0:t())!=null?o:[];for(let l of a){if(!l)continue;let c=Dt(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let p of d.children)a.some(h=>p.contains(h))||s.add(ms(p));d=d.parentElement}}return s.dispose},[r,t,n])}function gl(e,t,n){let r=Re(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});u.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=Be();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}let nr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),eg=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ce=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ce||{}),ln=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ln||{}),tg=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(tg||{});function vl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(nr)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function ng(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(eg)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Yi=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Yi||{});function bl(e,t=0){var n;return e===((n=Dt(e))==null?void 0:n.body)?!1:he(t,{0(){return e.matches(nr)},1(){let r=e;for(;r!==null;){if(r.matches(nr))return!0;r=r.parentElement}return!1}})}var rg=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(rg||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let ig=["textarea","input"].join(",");function og(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ig))!=null?n:!1}function ot(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function sg(e,t){return vt(vl(),t,{relativeTo:e})}function vt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?ot(e):e:t&64?ng(e):vl(e);i.length>0&&s.length>1&&(s=s.filter(f=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===f:m===f))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,p=s.length,h;do{if(d>=p||d+p<=0)return 0;let f=l+d;if(t&16)f=(f+p)%p;else{if(f<0)return 3;if(f>=p)return 1}h=s[f],h==null||h.focus(c),d+=a}while(h!==o.activeElement);return t&6&&og(h)&&h.select(),2}function xl(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ag(){return/Android/gi.test(window.navigator.userAgent)}function yl(){return xl()||ag()}function sn(e,t,n,r){let i=Re(n);u.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function lg(e,t,n,r){let i=Re(n);u.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const vs=30;function wl(e,t,n){let r=Ki(e,"outside-click"),i=Re(n),o=u.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let p=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let h of p)if(h!==null&&(h.contains(d)||l.composed&&l.composedPath().includes(h)))return;return!bl(d,Yi.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,t]),s=u.useRef(null);sn(r,"pointerdown",l=>{var c,d;s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),sn(r,"mousedown",l=>{var c,d;s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),sn(r,"click",l=>{yl()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=u.useRef({x:0,y:0});sn(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),sn(r,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=vs||Math.abs(c.y-a.current.y)>=vs))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),lg(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Fn(...e){return u.useMemo(()=>Dt(...e),[...e])}function ug(e,t,n,r){let i=Re(n);u.useEffect(()=>{e=e??window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function El(e){let t=u.useRef({value:"",selectionStart:null,selectionEnd:null});return ug(e,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),j(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Zi(e,t){return u.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function cg(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function dg(){return xl()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Be();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=e.querySelector(c);d&&!r(d)&&(s=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function fg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function pg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let wt=pl(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Be(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:pg(n)},i=[dg(),cg(),fg()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});wt.subscribe(()=>{let e=wt.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&wt.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&wt.dispatch("TEARDOWN",n)}});function hg(e,t,n=()=>({containers:[]})){let r=hl(wt),i=t?r.get(t):void 0,o=i?i.count>0:!1;return Q(()=>{if(!(!t||!e))return wt.dispatch("PUSH",t,n),()=>wt.dispatch("POP",t,n)},[e,t]),o}function Sl(e,t,n=()=>[document.body]){let r=Ki(e,"scroll-lock");hg(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function bs(e){return[e.screenX,e.screenY]}function Tl(){let e=u.useRef([-1,-1]);return{wasMoved(t){let n=bs(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=bs(t)}}}function mg(e=0){let[t,n]=u.useState(e),r=u.useCallback(l=>n(l),[t]),i=u.useCallback(l=>n(c=>c|l),[t]),o=u.useCallback(l=>(t&l)===l,[t]),s=u.useCallback(l=>n(c=>c&~l),[n]),a=u.useCallback(l=>n(c=>c^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var gg={},xs,ys;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((xs=process==null?void 0:gg)==null?void 0:xs.NODE_ENV)==="test"&&typeof((ys=Element==null?void 0:Element.prototype)==null?void 0:ys.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var vg=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(vg||{});function Xi(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Qi(e,t,n,r){let[i,o]=u.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=mg(e&&i?3:0),c=u.useRef(!1),d=u.useRef(!1),p=pt();return Q(()=>{var h;if(e){if(n&&o(!0),!t){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),bg(t,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var f;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,l(7),n||o(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[e,n,t,p]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function bg(e,{prepare:t,run:n,done:r,inFlight:i}){let o=Be();return yg(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(xg(e,r))})}),o.dispose}function xg(e,t){var n,r;let i=Be();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{o||t()}),i.dispose)}function yg(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function wg(e,{container:t,accept:n,walk:r}){let i=u.useRef(n),o=u.useRef(r);u.useEffect(()=>{i.current=n,o.current=r},[n,r]),Q(()=>{if(!t||!e)return;let s=Dt(t);if(!s)return;let a=i.current,l=o.current,c=Object.assign(p=>a(p),{acceptNode:a}),d=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)l(d.currentNode)},[t,e,i,o])}function ws(e,t){let n=u.useRef([]),r=j(e);u.useEffect(()=>{let i=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let a=r(t,i);return n.current=t,a}},[r,...t])}function wr(){return typeof window<"u"}function en(e){return Ol(e)?(e.nodeName||"").toLowerCase():"#document"}function Ae(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ge(e){var t;return(t=(Ol(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ol(e){return wr()?e instanceof Node||e instanceof Ae(e).Node:!1}function we(e){return wr()?e instanceof Element||e instanceof Ae(e).Element:!1}function Ue(e){return wr()?e instanceof HTMLElement||e instanceof Ae(e).HTMLElement:!1}function Es(e){return!wr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ae(e).ShadowRoot}function An(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=He(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Eg(e){return["table","td","th"].includes(en(e))}function Er(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ji(e){const t=eo(),n=we(e)?He(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Sg(e){let t=ut(e);for(;Ue(t)&&!Kt(t);){if(Ji(t))return t;if(Er(t))return null;t=ut(t)}return null}function eo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kt(e){return["html","body","#document"].includes(en(e))}function He(e){return Ae(e).getComputedStyle(e)}function Sr(e){return we(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ut(e){if(en(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Es(e)&&e.host||Ge(e);return Es(t)?t.host:t}function $l(e){const t=ut(e);return Kt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ue(t)&&An(t)?t:$l(t)}function vn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=$l(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ae(i);if(o){const a=yi(s);return t.concat(s,s.visualViewport||[],An(i)?i:[],a&&n?vn(a):[])}return t.concat(i,vn(i,[],n))}function yi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tg(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const Ct=Math.min,xe=Math.max,bn=Math.round,Bn=Math.floor,qe=e=>({x:e,y:e}),Og={left:"right",right:"left",bottom:"top",top:"bottom"},$g={start:"end",end:"start"};function Ss(e,t,n){return xe(e,Ct(t,n))}function tn(e,t){return typeof e=="function"?e(t):e}function ct(e){return e.split("-")[0]}function Pn(e){return e.split("-")[1]}function Cl(e){return e==="x"?"y":"x"}function Rl(e){return e==="y"?"height":"width"}function Rt(e){return["top","bottom"].includes(ct(e))?"y":"x"}function jl(e){return Cl(Rt(e))}function Cg(e,t,n){n===void 0&&(n=!1);const r=Pn(e),i=jl(e),o=Rl(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=rr(s)),[s,rr(s)]}function Rg(e){const t=rr(e);return[wi(e),t,wi(t)]}function wi(e){return e.replace(/start|end/g,t=>$g[t])}function jg(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Fg(e,t,n,r){const i=Pn(e);let o=jg(ct(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(wi)))),o}function rr(e){return e.replace(/left|right|bottom|top/g,t=>Og[t])}function Ag(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pg(e){return typeof e!="number"?Ag(e):{top:e,right:e,bottom:e,left:e}}function ir(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ts(e,t,n){let{reference:r,floating:i}=e;const o=Rt(t),s=jl(t),a=Rl(s),l=ct(t),c=o==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-i.width,y:p};break;default:f={x:r.x,y:r.y}}switch(Pn(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1);break}return f}const Ig=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:p}=Ts(c,r,l),h=r,f={},m=0;for(let v=0;v<a.length;v++){const{name:b,fn:x}=a[v],{x:E,y:w,data:$,reset:y}=await x({x:d,y:p,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});d=E??d,p=w??p,f={...f,[b]:{...f[b],...$}},y&&m<=50&&(m++,typeof y=="object"&&(y.placement&&(h=y.placement),y.rects&&(c=y.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:d,y:p}=Ts(c,h,l)),v=-1)}return{x:d,y:p,placement:h,strategy:i,middlewareData:f}};async function Tr(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:f=0}=tn(t,e),m=Pg(f),b=a[h?p==="floating"?"reference":"floating":p],x=ir(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),E=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),$=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},y=ir(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:w,strategy:l}):E);return{top:(x.top-y.top+m.top)/$.y,bottom:(y.bottom-x.bottom+m.bottom)/$.y,left:(x.left-y.left+m.left)/$.x,right:(y.right-x.right+m.right)/$.x}}const _g=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...b}=tn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ct(i),E=Rt(a),w=ct(a)===a,$=await(l.isRTL==null?void 0:l.isRTL(c.floating)),y=h||(w||!v?[rr(a)]:Rg(a)),S=m!=="none";!h&&S&&y.push(...Fg(a,v,m,$));const O=[a,...y],M=await Tr(t,b),I=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(M[x]),p){const A=Cg(i,s,$);I.push(M[A[0]],M[A[1]])}if(F=[...F,{placement:i,overflows:I}],!I.every(A=>A<=0)){var C,H;const A=(((C=o.flip)==null?void 0:C.index)||0)+1,q=O[A];if(q)return{data:{index:A,overflows:F},reset:{placement:q}};let G=(H=F.filter(ee=>ee.overflows[0]<=0).sort((ee,z)=>ee.overflows[1]-z.overflows[1])[0])==null?void 0:H.placement;if(!G)switch(f){case"bestFit":{var L;const ee=(L=F.filter(z=>{if(S){const U=Rt(z.placement);return U===E||U==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(U=>U>0).reduce((U,N)=>U+N,0)]).sort((z,U)=>z[1]-U[1])[0])==null?void 0:L[0];ee&&(G=ee);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};async function Mg(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ct(n),a=Pn(n),l=Rt(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,p=tn(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}const Dg=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Mg(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},kg=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y:E}=b;return{x,y:E}}},...l}=tn(e,t),c={x:n,y:r},d=await Tr(t,l),p=Rt(ct(i)),h=Cl(p);let f=c[h],m=c[p];if(o){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",E=f+d[b],w=f-d[x];f=Ss(E,f,w)}if(s){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=m+d[b],w=m-d[x];m=Ss(E,m,w)}const v=a.fn({...t,[h]:f,[p]:m});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[p]:s}}}}}},Ng=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...c}=tn(e,t),d=await Tr(t,c),p=ct(i),h=Pn(i),f=Rt(i)==="y",{width:m,height:v}=o.floating;let b,x;p==="top"||p==="bottom"?(b=p,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,b=h==="end"?"top":"bottom");const E=v-d.top-d.bottom,w=m-d.left-d.right,$=Ct(v-d[b],E),y=Ct(m-d[x],w),S=!t.middlewareData.shift;let O=$,M=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=E),S&&!h){const F=xe(d.left,0),C=xe(d.right,0),H=xe(d.top,0),L=xe(d.bottom,0);f?M=m-2*(F!==0||C!==0?F+C:xe(d.left,d.right)):O=v-2*(H!==0||L!==0?H+L:xe(d.top,d.bottom))}await l({...t,availableWidth:M,availableHeight:O});const I=await s.getDimensions(a.floating);return m!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Fl(e){const t=He(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ue(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=bn(n)!==o||bn(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function to(e){return we(e)?e:e.contextElement}function Ut(e){const t=to(e);if(!Ue(t))return qe(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Fl(t);let s=(o?bn(n.width):n.width)/r,a=(o?bn(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Lg=qe(0);function Al(e){const t=Ae(e);return!eo()||!t.visualViewport?Lg:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Vg(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ae(e)?!1:t}function jt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=to(e);let s=qe(1);t&&(r?we(r)&&(s=Ut(r)):s=Ut(e));const a=Vg(o,n,r)?Al(o):qe(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,p=i.height/s.y;if(o){const h=Ae(o),f=r&&we(r)?Ae(r):r;let m=h,v=yi(m);for(;v&&r&&f!==m;){const b=Ut(v),x=v.getBoundingClientRect(),E=He(v),w=x.left+(v.clientLeft+parseFloat(E.paddingLeft))*b.x,$=x.top+(v.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,p*=b.y,l+=w,c+=$,m=Ae(v),v=yi(m)}}return ir({width:d,height:p,x:l,y:c})}function no(e,t){const n=Sr(e).scrollLeft;return t?t.left+n:jt(Ge(e)).left+n}function Pl(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:no(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function Bg(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Ge(r),a=t?Er(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=qe(1);const d=qe(0),p=Ue(r);if((p||!p&&!o)&&((en(r)!=="body"||An(s))&&(l=Sr(r)),Ue(r))){const f=jt(r);c=Ut(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const h=s&&!p&&!o?Pl(s,l,!0):qe(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Hg(e){return Array.from(e.getClientRects())}function zg(e){const t=Ge(e),n=Sr(e),r=e.ownerDocument.body,i=xe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+no(e);const a=-n.scrollTop;return He(r).direction==="rtl"&&(s+=xe(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function qg(e,t){const n=Ae(e),r=Ge(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=eo();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Ug(e,t){const n=jt(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ue(e)?Ut(e):qe(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function Os(e,t,n){let r;if(t==="viewport")r=qg(e,n);else if(t==="document")r=zg(Ge(e));else if(we(t))r=Ug(t,n);else{const i=Al(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ir(r)}function Il(e,t){const n=ut(e);return n===t||!we(n)||Kt(n)?!1:He(n).position==="fixed"||Il(n,t)}function Wg(e,t){const n=t.get(e);if(n)return n;let r=vn(e,[],!1).filter(a=>we(a)&&en(a)!=="body"),i=null;const o=He(e).position==="fixed";let s=o?ut(e):e;for(;we(s)&&!Kt(s);){const a=He(s),l=Ji(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||An(s)&&!l&&Il(e,s))?r=r.filter(d=>d!==s):i=a,s=ut(s)}return t.set(e,r),r}function Gg(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Er(t)?[]:Wg(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const p=Os(t,d,i);return c.top=xe(p.top,c.top),c.right=Ct(p.right,c.right),c.bottom=Ct(p.bottom,c.bottom),c.left=xe(p.left,c.left),c},Os(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Kg(e){const{width:t,height:n}=Fl(e);return{width:t,height:n}}function Yg(e,t,n){const r=Ue(t),i=Ge(t),o=n==="fixed",s=jt(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=qe(0);if(r||!r&&!o)if((en(t)!=="body"||An(i))&&(a=Sr(t)),r){const h=jt(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=no(i));const c=i&&!r&&!o?Pl(i,a):qe(0),d=s.left+a.scrollLeft-l.x-c.x,p=s.top+a.scrollTop-l.y-c.y;return{x:d,y:p,width:s.width,height:s.height}}function Xr(e){return He(e).position==="static"}function $s(e,t){if(!Ue(e)||He(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ge(e)===n&&(n=n.ownerDocument.body),n}function _l(e,t){const n=Ae(e);if(Er(e))return n;if(!Ue(e)){let i=ut(e);for(;i&&!Kt(i);){if(we(i)&&!Xr(i))return i;i=ut(i)}return n}let r=$s(e,t);for(;r&&Eg(r)&&Xr(r);)r=$s(r,t);return r&&Kt(r)&&Xr(r)&&!Ji(r)?n:r||Sg(e)||n}const Zg=async function(e){const t=this.getOffsetParent||_l,n=this.getDimensions,r=await n(e.floating);return{reference:Yg(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xg(e){return He(e).direction==="rtl"}const Qg={convertOffsetParentRelativeRectToViewportRelativeRect:Bg,getDocumentElement:Ge,getClippingRect:Gg,getOffsetParent:_l,getElementRects:Zg,getClientRects:Hg,getDimensions:Kg,getScale:Ut,isElement:we,isRTL:Xg};function Ml(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jg(e,t){let n=null,r;const i=Ge(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:p,width:h,height:f}=c;if(a||t(),!h||!f)return;const m=Bn(p),v=Bn(i.clientWidth-(d+h)),b=Bn(i.clientHeight-(p+f)),x=Bn(d),w={rootMargin:-m+"px "+-v+"px "+-b+"px "+-x+"px",threshold:xe(0,Ct(1,l))||1};let $=!0;function y(S){const O=S[0].intersectionRatio;if(O!==l){if(!$)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!Ml(c,e.getBoundingClientRect())&&s(),$=!1}try{n=new IntersectionObserver(y,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(y,w)}n.observe(e)}return s(!0),o}function ev(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=to(e),d=i||o?[...c?vn(c):[],...vn(t)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const p=c&&a?Jg(c,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let m,v=l?jt(e):null;l&&b();function b(){const x=jt(e);v&&!Ml(v,x)&&n(),v=x,m=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),p==null||p(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const Qr=Tr,tv=Dg,nv=kg,rv=_g,iv=Ng,ov=(e,t,n)=>{const r=new Map,i={platform:Qg,...n},o={...i.platform,_c:r};return Ig(e,t,{...i,platform:o})};var Gn=typeof document<"u"?u.useLayoutEffect:u.useEffect;function or(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!or(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!or(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Dl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cs(e,t){const n=Dl(e);return Math.round(t*n)/n}function Jr(e){const t=u.useRef(e);return Gn(()=>{t.current=e}),t}function sv(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,p]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=u.useState(r);or(h,r)||f(r);const[m,v]=u.useState(null),[b,x]=u.useState(null),E=u.useCallback(z=>{z!==S.current&&(S.current=z,v(z))},[]),w=u.useCallback(z=>{z!==O.current&&(O.current=z,x(z))},[]),$=o||m,y=s||b,S=u.useRef(null),O=u.useRef(null),M=u.useRef(d),I=l!=null,F=Jr(l),C=Jr(i),H=Jr(c),L=u.useCallback(()=>{if(!S.current||!O.current)return;const z={placement:t,strategy:n,middleware:h};C.current&&(z.platform=C.current),ov(S.current,O.current,z).then(U=>{const N={...U,isPositioned:H.current!==!1};A.current&&!or(M.current,N)&&(M.current=N,ve.flushSync(()=>{p(N)}))})},[h,t,n,C,H]);Gn(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[c]);const A=u.useRef(!1);Gn(()=>(A.current=!0,()=>{A.current=!1}),[]),Gn(()=>{if($&&(S.current=$),y&&(O.current=y),$&&y){if(F.current)return F.current($,y,L);L()}},[$,y,L,F,I]);const q=u.useMemo(()=>({reference:S,floating:O,setReference:E,setFloating:w}),[E,w]),G=u.useMemo(()=>({reference:$,floating:y}),[$,y]),ee=u.useMemo(()=>{const z={position:n,left:0,top:0};if(!G.floating)return z;const U=Cs(G.floating,d.x),N=Cs(G.floating,d.y);return a?{...z,transform:"translate("+U+"px, "+N+"px)",...Dl(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:N}},[n,a,G.floating,d.x,d.y]);return u.useMemo(()=>({...d,update:L,refs:q,elements:G,floatingStyles:ee}),[d,L,q,G,ee])}const kl=(e,t)=>({...tv(e),options:[e,t]}),av=(e,t)=>({...nv(e),options:[e,t]}),lv=(e,t)=>({...rv(e),options:[e,t]}),uv=(e,t)=>({...iv(e),options:[e,t]}),Nl={...Kn},cv=Nl.useInsertionEffect,dv=cv||(e=>e());function Ll(e){const t=u.useRef(()=>{});return dv(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Ei=typeof document<"u"?u.useLayoutEffect:u.useEffect;let Rs=!1,fv=0;const js=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fv++;function pv(){const[e,t]=u.useState(()=>Rs?js():void 0);return Ei(()=>{e==null&&t(js())},[]),u.useEffect(()=>{Rs=!0},[]),e}const hv=Nl.useId,mv=hv||pv;function gv(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const vv=u.createContext(null),bv=u.createContext(null),xv=()=>{var e;return((e=u.useContext(vv))==null?void 0:e.id)||null},yv=()=>u.useContext(bv),wv="data-floating-ui-focusable";function Ev(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=mv(),o=u.useRef({}),[s]=u.useState(()=>gv()),a=xv()!=null,[l,c]=u.useState(r.reference),d=Ll((f,m,v)=>{o.current.openEvent=f?m:void 0,s.emit("openchange",{open:f,event:m,reason:v,nested:a}),n==null||n(f,m,v)}),p=u.useMemo(()=>({setPositionReference:c}),[]),h=u.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return u.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:h,events:s,floatingId:i,refs:p}),[t,d,h,s,i,p])}function Sv(e){e===void 0&&(e={});const{nodeId:t}=e,n=Ev({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=u.useState(null),[a,l]=u.useState(null),d=(i==null?void 0:i.domReference)||o,p=u.useRef(null),h=yv();Ei(()=>{d&&(p.current=d)},[d]);const f=sv({...e,elements:{...i,...a&&{reference:a}}}),m=u.useCallback(w=>{const $=we(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l($),f.refs.setReference($)},[f.refs]),v=u.useCallback(w=>{(we(w)||w===null)&&(p.current=w,s(w)),(we(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!we(w))&&f.refs.setReference(w)},[f.refs]),b=u.useMemo(()=>({...f.refs,setReference:v,setPositionReference:m,domReference:p}),[f.refs,v,m]),x=u.useMemo(()=>({...f.elements,domReference:d}),[f.elements,d]),E=u.useMemo(()=>({...f,...r,refs:b,elements:x,nodeId:t}),[f,b,x,t,r]);return Ei(()=>{r.dataRef.current.floatingContext=E;const w=h==null?void 0:h.nodesRef.current.find($=>$.id===t);w&&(w.context=E)}),u.useMemo(()=>({...f,context:E,refs:b,elements:x}),[f,b,x,E])}const Fs="active",As="selected";function ei(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Fs]:s,[As]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[wv]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[c,d]=l;if(!(i&&[Fs,As].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var p;(p=r.get(c))==null||p.push(d),s[c]=function(){for(var h,f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];return(h=r.get(c))==null?void 0:h.map(b=>b(...m)).find(b=>b!==void 0)}}}else s[c]=d}),s),{})}}function Tv(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=u.useCallback(a=>ei(a,e,"reference"),t),o=u.useCallback(a=>ei(a,e,"floating"),n),s=u.useCallback(a=>ei(a,e,"item"),r);return u.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function Ps(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Ov=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...d}=tn(e,t),{rects:p,elements:{floating:h}}=t,f=n.current[s],m=(c==null?void 0:c.current)||h,v=h.clientTop||m.clientTop,b=h.clientTop!==0,x=m.clientTop!==0,E=h===m;if(!f)return{};const w={...t,...await kl(-f.offsetTop-h.clientTop-p.reference.height/2-f.offsetHeight/2-o).fn(t)},$=await Qr(Ps(w,m.scrollHeight+v+h.clientTop),d),y=await Qr(w,{...d,elementContext:"reference"}),S=xe(0,$.top),O=w.y+S,F=(m.scrollHeight>m.clientHeight?C=>C:bn)(xe(0,m.scrollHeight+(b&&E||x?v*2:0)-S-xe(0,$.bottom)));if(m.style.maxHeight=F+"px",m.scrollTop=S,i){const C=m.offsetHeight<f.offsetHeight*Ct(a,n.current.length)-1||y.top>=-l||y.bottom>=-l;ve.flushSync(()=>i(C))}return r&&(r.current=await Qr(Ps({...w,y:O},m.offsetHeight+v+h.clientTop),d)),{y:O}}});function $v(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=Ll(a),c=u.useRef(!1),d=u.useRef(null),p=u.useRef(null);u.useEffect(()=>{if(!i)return;function f(v){if(v.ctrlKey||!m||o.current==null)return;const b=v.deltaY,x=o.current.top>=-.5,E=o.current.bottom>=-.5,w=m.scrollHeight-m.clientHeight,$=b<0?-1:1,y=b<0?"max":"min";m.scrollHeight<=m.clientHeight||(!x&&b>0||!E&&b<0?(v.preventDefault(),ve.flushSync(()=>{l(S=>S+Math[y](b,w*$))})):/firefox/i.test(Tg())&&(m.scrollTop+=b))}const m=(s==null?void 0:s.current)||r.floating;if(n&&m)return m.addEventListener("wheel",f),requestAnimationFrame(()=>{d.current=m.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{d.current=null,p.current=null,m.removeEventListener("wheel",f)}},[i,n,r.floating,o,s,l]);const h=u.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const f=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!f||!c.current)){if(d.current!==null){const m=f.scrollTop-d.current;(o.current.bottom<-.5&&m<-1||o.current.top<-.5&&m>1)&&ve.flushSync(()=>l(v=>v+m))}requestAnimationFrame(()=>{d.current=f.scrollTop})}}}),[r.floating,l,o,s]);return u.useMemo(()=>i?{floating:h}:{},[i,h])}let nn=u.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});nn.displayName="FloatingContext";let ro=u.createContext(null);ro.displayName="PlacementContext";function Vl(e){return u.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Bl(){return u.useContext(nn).setReference}function Cv(){return u.useContext(nn).getReferenceProps}function Hl(){let{getFloatingProps:e,slot:t}=u.useContext(nn);return u.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function zl(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=u.useContext(ro),n=u.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var s;return(s=o==null?void 0:o.outerHTML)!=null?s:o})]);Q(()=>{t==null||t(n??null)},[t,n]);let r=u.useContext(nn);return u.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Is=4;function ql({children:e,enabled:t=!0}){let[n,r]=u.useState(null),[i,o]=u.useState(0),s=u.useRef(null),[a,l]=u.useState(null);Rv(a);let c=t&&n!==null&&a!==null,{to:d="bottom",gap:p=0,offset:h=0,padding:f=0,inner:m}=jv(n,a),[v,b="center"]=d.split(" ");Q(()=>{c&&o(0)},[c]);let{refs:x,floatingStyles:E,context:w}=Sv({open:c,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[kl({mainAxis:v==="selection"?0:p,crossAxis:h}),av({padding:f}),v!=="selection"&&lv({padding:f}),v==="selection"&&m?Ov({...m,padding:f,overflowRef:s,offset:i,minItemsVisible:Is,referenceOverflowThreshold:f,onFallbackChange(C){var H,L;if(!C)return;let A=w.elements.floating;if(!A)return;let q=parseFloat(getComputedStyle(A).scrollPaddingBottom)||0,G=Math.min(Is,A.childElementCount),ee=0,z=0;for(let U of(L=(H=w.elements.floating)==null?void 0:H.childNodes)!=null?L:[])if(U instanceof HTMLElement){let N=U.offsetTop,te=N+U.clientHeight+q,X=A.scrollTop,R=X+A.clientHeight;if(N>=X&&te<=R)G--;else{z=Math.max(0,Math.min(te,R)-Math.max(N,X)),ee=U.clientHeight;break}}G>=1&&o(U=>{let N=ee*G-z+q;return U>=N?U:N})}}):null,uv({padding:f,apply({availableWidth:C,availableHeight:H,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${C}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${H}px)`})}})].filter(Boolean),whileElementsMounted:ev}),[$=v,y=b]=w.placement.split("-");v==="selection"&&($="selection");let S=u.useMemo(()=>({anchor:[$,y].filter(Boolean).join(" ")}),[$,y]),O=$v(w,{overflowRef:s,onChange:o}),{getReferenceProps:M,getFloatingProps:I}=Tv([O]),F=j(C=>{l(C),x.setFloating(C)});return u.createElement(ro.Provider,{value:r},u.createElement(nn.Provider,{value:{setFloating:F,setReference:x.setReference,styles:E,getReferenceProps:M,getFloatingProps:I,slot:S}},e))}function Rv(e){Q(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function jv(e,t){var n,r,i;let o=ti((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=ti((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=ti((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}function ti(e,t,n=void 0){let r=pt(),i=j((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let d=_s(l,c);return[d,p=>{let h=Ul(l);{let f=h.map(m=>window.getComputedStyle(c).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let v=!1;for(let[x,E]of h.entries()){let w=window.getComputedStyle(c).getPropertyValue(E);if(f[x]!==w){f[x]=w,v=!0;break}}if(!v)return;let b=_s(l,c);d!==b&&(p(b),d=b)})}return r.dispose}]}return[n,null]}),o=u.useMemo(()=>i(e,t)[0],[e,t]),[s=o,a]=u.useState();return Q(()=>{let[l,c]=i(e,t);if(a(l),!!c)return c(a)},[e,t]),s}function Ul(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...Ul(i)]:[r]}return[]}function _s(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function Fv({children:e,freeze:t}){let n=sr(t,e);return D.createElement(D.Fragment,null,n)}function sr(e,t){let[n,r]=u.useState(t);return!e&&n!==t&&r(t),e?n:t}let io=u.createContext(null);io.displayName="OpenClosedContext";var Ee=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ee||{});function Or(){return u.useContext(io)}function oo({value:e,children:t}){return D.createElement(io.Provider,{value:e},t)}function Av(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let xt=[];Av(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||xt[0]===t.target)return;let n=t.target;n=n.closest(nr),xt.unshift(n??t.target),xt=xt.filter(r=>r!=null&&r.isConnected),xt.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Pv(e){throw new Error("Unexpected object: "+e)}var Z=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Z||{});function pn(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:Pv(e)}}var so=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(so||{});function Iv(e){let t=j(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,qi(()=>{n.current&&t()})}),[t])}function _v(){let e=typeof document>"u";return"useSyncExternalStore"in Kn?(t=>t.useSyncExternalStore)(Kn)(()=>()=>{},()=>!1,()=>!e):!1}function ao(){let e=_v(),[t,n]=u.useState(Tt.isHandoffComplete);return t&&Tt.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>Tt.handoff(),[]),e?!1:t}let Mv=u.createContext(!1);function Dv(){return u.useContext(Mv)}function kv(e){let t=Dv(),n=u.useContext(Gl),r=Fn(e),[i,o]=u.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(Tt.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return u.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),u.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let Wl=u.Fragment,Nv=de(function(e,t){let n=e,r=u.useRef(null),i=me(Am(p=>{r.current=p}),t),o=Fn(r),s=kv(r),[a]=u.useState(()=>{var p;return Tt.isServer?null:(p=o==null?void 0:o.createElement("div"))!=null?p:null}),l=u.useContext(Hv),c=ao();Q(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),Q(()=>{if(a&&l)return l.register(a)},[l,a]),Iv(()=>{var p;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((p=s.parentElement)==null||p.removeChild(s)))});let d=fe();return c?!s||!a?null:ve.createPortal(d({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Wl,name:"Portal"}),a):null});function Lv(e,t){let n=me(t),{enabled:r=!0,...i}=e,o=fe();return r?D.createElement(Nv,{...i,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Wl,name:"Portal"})}let Vv=u.Fragment,Gl=u.createContext(null);function Bv(e,t){let{target:n,...r}=e,i={ref:me(t)},o=fe();return D.createElement(Gl.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:Vv,name:"Popover.Group"}))}let Hv=u.createContext(null),zv=de(Lv),qv=de(Bv),Kl=Object.assign(zv,{Group:qv});var Uv=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Uv||{}),Wv=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Wv||{}),Gv=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Gv||{}),Kv=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(Kv||{});function ni(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,a)=>s.dataRef.current.order-a.dataRef.current.order):ot(r,s=>s.dataRef.current.domRef.current),o=n?i.indexOf(n):null;return o===-1&&(o=null),{options:i,activeOptionIndex:o}}let Yv={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,i,o;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:d}=e.virtual,p=t.focus===Z.Specific?t.idx:pn(t,{resolveItems:()=>c,resolveActiveIndex:()=>{var f,m;return(m=(f=e.activeOptionIndex)!=null?f:c.findIndex(v=>!d(v)))!=null?m:null},resolveDisabled:d,resolveId(){throw new Error("Function not implemented.")}}),h=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===p&&e.activationTrigger===h?e:{...e,activeOptionIndex:p,activationTrigger:h,isTyping:!1,__demoMode:!1}}let s=ni(e);if(s.activeOptionIndex===null){let c=s.options.findIndex(d=>!d.dataRef.current.disabled);c!==-1&&(s.activeOptionIndex=c)}let a=t.focus===Z.Specific?t.idx:pn(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),l=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===a&&e.activationTrigger===l?e:{...e,...s,isTyping:!1,activeOptionIndex:a,activationTrigger:l,__demoMode:!1}},4:(e,t)=>{var n,r,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let o=t.payload,s=ni(e,l=>(l.push(o),l));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(o));let a={...e,...s,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let r=ni(e,i=>{let o=i.findIndex(s=>s.id===t.id);return o!==-1&&i.splice(o,1),i});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?i=o:i=null}return{...e,activeOptionIndex:i,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},8:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},9:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},10:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},lo=u.createContext(null);lo.displayName="ComboboxActionsContext";function In(e){let t=u.useContext(lo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,In),n}return t}let Yl=u.createContext(null);function Zv(e){let t=rn("VirtualProvider"),{options:n}=t.virtual,[r,i]=u.useMemo(()=>{let c=t.optionsElement;if(!c)return[0,0];let d=window.getComputedStyle(c);return[parseFloat(d.paddingBlockStart||d.paddingTop),parseFloat(d.paddingBlockEnd||d.paddingBottom)]},[t.optionsElement]),o=Ym({enabled:n.length!==0,scrollPaddingStart:r,scrollPaddingEnd:i,count:n.length,estimateSize(){return 40},getScrollElement(){return t.optionsElement},overscan:12}),[s,a]=u.useState(0);Q(()=>{a(c=>c+1)},[n]);let l=o.getVirtualItems();return l.length===0?null:D.createElement(Yl.Provider,{value:o},D.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:c=>{c&&t.activationTrigger!==0&&t.activeOptionIndex!==null&&n.length>t.activeOptionIndex&&o.scrollToIndex(t.activeOptionIndex)}},l.map(c=>{var d;return D.createElement(u.Fragment,{key:c.key},D.cloneElement((d=e.children)==null?void 0:d.call(e,{...e.slot,option:n[c.index]}),{key:`${s}-${c.key}`,"data-index":c.index,"aria-setsize":n.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let xn=u.createContext(null);xn.displayName="ComboboxDataContext";function rn(e){let t=u.useContext(xn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rn),n}return t}function Xv(e,t){return he(t.type,Yv,e,t)}let Qv=u.Fragment;function Jv(e,t){var n,r;let i=vr(),{value:o,defaultValue:s,onChange:a,form:l,name:c,by:d,disabled:p=i||!1,onClose:h,__demoMode:f=!1,multiple:m=!1,immediate:v=!1,virtual:b=null,nullable:x,...E}=e,w=Ja(s),[$=m?[]:void 0,y]=Qa(o,a,w),[S,O]=u.useReducer(Xv,{dataRef:u.createRef(),comboboxState:f?0:1,isTyping:!1,options:[],virtual:b?{options:b.options,disabled:(n=b.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:f}),M=u.useRef(!1),I=u.useRef({static:!1,hold:!1}),F=fl(d),C=j(V=>b?d===null?b.options.indexOf(V):b.options.findIndex(se=>F(se,V)):S.options.findIndex(se=>F(se.dataRef.current.value,V))),H=u.useCallback(V=>he(A.mode,{1:()=>$.some(se=>F(se,V)),0:()=>F($,V)}),[$]),L=j(V=>S.activeOptionIndex===C(V)),A=u.useMemo(()=>({...S,immediate:v,optionsPropsRef:I,value:$,defaultValue:w,disabled:p,mode:m?1:0,virtual:b?S.virtual:null,get activeOptionIndex(){if(M.current&&S.activeOptionIndex===null&&(b?b.options.length>0:S.options.length>0)){if(b){let se=b.options.findIndex(Pe=>{var Lt,Mn;return!((Mn=(Lt=b.disabled)==null?void 0:Lt.call(b,Pe))!=null&&Mn)});if(se!==-1)return se}let V=S.options.findIndex(se=>!se.dataRef.current.disabled);if(V!==-1)return V}return S.activeOptionIndex},calculateIndex:C,compare:F,isSelected:H,isActive:L}),[$,w,p,m,f,S,b]);Q(()=>{var V;b&&O({type:7,options:b.options,disabled:(V=b.disabled)!=null?V:null})},[b,b==null?void 0:b.options,b==null?void 0:b.disabled]),Q(()=>{S.dataRef.current=A},[A]);let q=A.comboboxState===0;wl(q,[A.buttonElement,A.inputElement,A.optionsElement],()=>le.closeCombobox());let G=u.useMemo(()=>{var V,se,Pe;return{open:A.comboboxState===0,disabled:p,activeIndex:A.activeOptionIndex,activeOption:A.activeOptionIndex===null?null:A.virtual?A.virtual.options[(V=A.activeOptionIndex)!=null?V:0]:(Pe=(se=A.options[A.activeOptionIndex])==null?void 0:se.dataRef.current.value)!=null?Pe:null,value:$}},[A,p,$]),ee=j(()=>{if(A.activeOptionIndex!==null){if(le.setIsTyping(!1),A.virtual)R(A.virtual.options[A.activeOptionIndex]);else{let{dataRef:V}=A.options[A.activeOptionIndex];R(V.current.value)}le.goToOption(Z.Specific,A.activeOptionIndex)}}),z=j(()=>{O({type:0}),M.current=!0}),U=j(()=>{O({type:1}),M.current=!1,h==null||h()}),N=j(V=>{O({type:3,isTyping:V})}),te=j((V,se,Pe)=>(M.current=!1,V===Z.Specific?O({type:2,focus:Z.Specific,idx:se,trigger:Pe}):O({type:2,focus:V,trigger:Pe}))),X=j((V,se)=>(O({type:4,payload:{id:V,dataRef:se}}),()=>{A.isActive(se.current.value)&&(M.current=!0),O({type:5,id:V})})),R=j(V=>he(A.mode,{0(){return y==null?void 0:y(V)},1(){let se=A.value.slice(),Pe=se.findIndex(Lt=>F(Lt,V));return Pe===-1?se.push(V):se.splice(Pe,1),y==null?void 0:y(se)}})),J=j(V=>{O({type:6,trigger:V})}),K=j(V=>{O({type:8,element:V})}),ge=j(V=>{O({type:9,element:V})}),ie=j(V=>{O({type:10,element:V})}),le=u.useMemo(()=>({onChange:R,registerOption:X,goToOption:te,setIsTyping:N,closeCombobox:U,openCombobox:z,setActivationTrigger:J,selectActiveOption:ee,setInputElement:K,setButtonElement:ge,setOptionsElement:ie}),[]),[be,Nt]=ul(),ht=t===null?{}:{ref:t},oe=u.useCallback(()=>{if(w!==void 0)return y==null?void 0:y(w)},[y,w]),pe=fe();return D.createElement(Nt,{value:be,props:{htmlFor:(r=A.inputElement)==null?void 0:r.id},slot:{open:A.comboboxState===0,disabled:p}},D.createElement(ql,null,D.createElement(lo.Provider,{value:le},D.createElement(xn.Provider,{value:A},D.createElement(oo,{value:he(A.comboboxState,{0:Ee.Open,1:Ee.Closed})},c!=null&&D.createElement(rl,{disabled:p,data:$!=null?{[c]:$}:{},form:l,onReset:oe}),pe({ourProps:ht,theirProps:E,slot:G,defaultTag:Qv,name:"Combobox"}))))))}let eb="input";function tb(e,t){var n,r,i,o,s;let a=rn("Combobox.Input"),l=In("Combobox.Input"),c=u.useId(),d=Wi(),{id:p=d||`headlessui-combobox-input-${c}`,onChange:h,displayValue:f,disabled:m=a.disabled||!1,autoFocus:v=!1,type:b="text",...x}=e,E=u.useRef(null),w=me(E,t,Bl(),l.setInputElement),$=Fn(a.inputElement),y=pt(),S=j(()=>{l.onChange(null),a.optionsElement&&(a.optionsElement.scrollTop=0),l.goToOption(Z.Nothing)}),O=u.useMemo(()=>{var R;return typeof f=="function"&&a.value!==void 0?(R=f(a.value))!=null?R:"":typeof a.value=="string"?a.value:""},[a.value,f]);ws(([R,J],[K,ge])=>{if(a.isTyping)return;let ie=E.current;ie&&((ge===0&&J===1||R!==K)&&(ie.value=R),requestAnimationFrame(()=>{if(a.isTyping||!ie||($==null?void 0:$.activeElement)!==ie)return;let{selectionStart:le,selectionEnd:be}=ie;Math.abs((be??0)-(le??0))===0&&le===0&&ie.setSelectionRange(ie.value.length,ie.value.length)}))},[O,a.comboboxState,$,a.isTyping]),ws(([R],[J])=>{if(R===0&&J===1){if(a.isTyping)return;let K=E.current;if(!K)return;let ge=K.value,{selectionStart:ie,selectionEnd:le,selectionDirection:be}=K;K.value="",K.value=ge,be!==null?K.setSelectionRange(ie,le,be):K.setSelectionRange(ie,le)}},[a.comboboxState]);let M=u.useRef(!1),I=j(()=>{M.current=!0}),F=j(()=>{y.nextFrame(()=>{M.current=!1})}),C=j(R=>{switch(l.setIsTyping(!0),R.key){case W.Enter:if(a.comboboxState!==0||M.current)return;if(R.preventDefault(),R.stopPropagation(),a.activeOptionIndex===null){l.closeCombobox();return}l.selectActiveOption(),a.mode===0&&l.closeCombobox();break;case W.ArrowDown:return R.preventDefault(),R.stopPropagation(),he(a.comboboxState,{0:()=>l.goToOption(Z.Next),1:()=>l.openCombobox()});case W.ArrowUp:return R.preventDefault(),R.stopPropagation(),he(a.comboboxState,{0:()=>l.goToOption(Z.Previous),1:()=>{ve.flushSync(()=>l.openCombobox()),a.value||l.goToOption(Z.Last)}});case W.Home:if(R.shiftKey)break;return R.preventDefault(),R.stopPropagation(),l.goToOption(Z.First);case W.PageUp:return R.preventDefault(),R.stopPropagation(),l.goToOption(Z.First);case W.End:if(R.shiftKey)break;return R.preventDefault(),R.stopPropagation(),l.goToOption(Z.Last);case W.PageDown:return R.preventDefault(),R.stopPropagation(),l.goToOption(Z.Last);case W.Escape:return a.comboboxState!==0?void 0:(R.preventDefault(),a.optionsElement&&!a.optionsPropsRef.current.static&&R.stopPropagation(),a.mode===0&&a.value===null&&S(),l.closeCombobox());case W.Tab:if(a.comboboxState!==0)return;a.mode===0&&a.activationTrigger!==1&&l.selectActiveOption(),l.closeCombobox();break}}),H=j(R=>{h==null||h(R),a.mode===0&&R.target.value===""&&S(),l.openCombobox()}),L=j(R=>{var J,K,ge;let ie=(J=R.relatedTarget)!=null?J:xt.find(le=>le!==R.currentTarget);if(!((K=a.optionsElement)!=null&&K.contains(ie))&&!((ge=a.buttonElement)!=null&&ge.contains(ie))&&a.comboboxState===0)return R.preventDefault(),a.mode===0&&a.value===null&&S(),l.closeCombobox()}),A=j(R=>{var J,K,ge;let ie=(J=R.relatedTarget)!=null?J:xt.find(le=>le!==R.currentTarget);(K=a.buttonElement)!=null&&K.contains(ie)||(ge=a.optionsElement)!=null&&ge.contains(ie)||a.disabled||a.immediate&&a.comboboxState!==0&&y.microTask(()=>{ve.flushSync(()=>l.openCombobox()),l.setActivationTrigger(1)})}),q=jn(),G=al(),{isFocused:ee,focusProps:z}=Rn({autoFocus:v}),{isHovered:U,hoverProps:N}=gr({isDisabled:m}),te=u.useMemo(()=>({open:a.comboboxState===0,disabled:m,hover:U,focus:ee,autofocus:v}),[a,U,ee,v,m]),X=kt({ref:w,id:p,role:"combobox",type:b,"aria-controls":(n=a.optionsElement)==null?void 0:n.id,"aria-expanded":a.comboboxState===0,"aria-activedescendant":a.activeOptionIndex===null?void 0:a.virtual?(r=a.options.find(R=>!R.dataRef.current.disabled&&a.compare(R.dataRef.current.value,a.virtual.options[a.activeOptionIndex])))==null?void 0:r.id:(i=a.options[a.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":q,"aria-describedby":G,"aria-autocomplete":"list",defaultValue:(s=(o=e.defaultValue)!=null?o:a.defaultValue!==void 0?f==null?void 0:f(a.defaultValue):null)!=null?s:a.defaultValue,disabled:m||void 0,autoFocus:v,onCompositionStart:I,onCompositionEnd:F,onKeyDown:C,onChange:H,onFocus:A,onBlur:L},z,N);return fe()({ourProps:X,theirProps:x,slot:te,defaultTag:eb,name:"Combobox.Input"})}let nb="button";function rb(e,t){var n;let r=rn("Combobox.Button"),i=In("Combobox.Button"),o=me(t,i.setButtonElement),s=u.useId(),{id:a=`headlessui-combobox-button-${s}`,disabled:l=r.disabled||!1,autoFocus:c=!1,...d}=e,p=El(r.inputElement),h=j(O=>{switch(O.key){case W.Space:case W.Enter:O.preventDefault(),O.stopPropagation(),r.comboboxState===1&&ve.flushSync(()=>i.openCombobox()),p();return;case W.ArrowDown:O.preventDefault(),O.stopPropagation(),r.comboboxState===1&&(ve.flushSync(()=>i.openCombobox()),r.value||i.goToOption(Z.First)),p();return;case W.ArrowUp:O.preventDefault(),O.stopPropagation(),r.comboboxState===1&&(ve.flushSync(()=>i.openCombobox()),r.value||i.goToOption(Z.Last)),p();return;case W.Escape:if(r.comboboxState!==0)return;O.preventDefault(),r.optionsElement&&!r.optionsPropsRef.current.static&&O.stopPropagation(),ve.flushSync(()=>i.closeCombobox()),p();return;default:return}}),f=j(O=>{O.preventDefault(),!il(O.currentTarget)&&(O.button===so.Left&&(r.comboboxState===0?i.closeCombobox():i.openCombobox()),p())}),m=jn([a]),{isFocusVisible:v,focusProps:b}=Rn({autoFocus:c}),{isHovered:x,hoverProps:E}=gr({isDisabled:l}),{pressed:w,pressProps:$}=Ui({disabled:l}),y=u.useMemo(()=>({open:r.comboboxState===0,active:w||r.comboboxState===0,disabled:l,value:r.value,hover:x,focus:v}),[r,x,v,w,l]),S=kt({ref:o,id:a,type:Zi(e,r.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":m,disabled:l||void 0,autoFocus:c,onMouseDown:f,onKeyDown:h},b,E,$);return fe()({ourProps:S,theirProps:d,slot:y,defaultTag:nb,name:"Combobox.Button"})}let ib="div",ob=lt.RenderStrategy|lt.Static;function sb(e,t){var n,r,i;let o=u.useId(),{id:s=`headlessui-combobox-options-${o}`,hold:a=!1,anchor:l,portal:c=!1,modal:d=!0,transition:p=!1,...h}=e,f=rn("Combobox.Options"),m=In("Combobox.Options"),v=Vl(l);v&&(c=!0);let[b,x]=zl(v),[E,w]=u.useState(null),$=Hl(),y=me(t,v?b:null,m.setOptionsElement,w),S=Fn(f.optionsElement),O=Or(),[M,I]=Qi(p,E,O!==null?(O&Ee.Open)===Ee.Open:f.comboboxState===0);gl(M,f.inputElement,m.closeCombobox);let F=f.__demoMode?!1:d&&f.comboboxState===0;Sl(F,S);let C=f.__demoMode?!1:d&&f.comboboxState===0;ml(C,{allowed:u.useCallback(()=>[f.inputElement,f.buttonElement,f.optionsElement],[f.inputElement,f.buttonElement,f.optionsElement])}),Q(()=>{var X;f.optionsPropsRef.current.static=(X=e.static)!=null?X:!1},[f.optionsPropsRef,e.static]),Q(()=>{f.optionsPropsRef.current.hold=a},[f.optionsPropsRef,a]),wg(f.comboboxState===0,{container:f.optionsElement,accept(X){return X.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:X.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(X){X.setAttribute("role","none")}});let H=jn([(n=f.buttonElement)==null?void 0:n.id]),L=u.useMemo(()=>({open:f.comboboxState===0,option:void 0}),[f.comboboxState]),A=j(()=>{m.setActivationTrigger(0)}),q=j(X=>{X.preventDefault(),m.setActivationTrigger(0)}),G=kt(v?$():{},{"aria-labelledby":H,role:"listbox","aria-multiselectable":f.mode===1?!0:void 0,id:s,ref:y,style:{...h.style,...x,"--input-width":bi(f.inputElement,!0).width,"--button-width":bi(f.buttonElement,!0).width},onWheel:f.activationTrigger===0?void 0:A,onMouseDown:q,...Xi(I)}),ee=M&&f.comboboxState===1,z=sr(ee,(r=f.virtual)==null?void 0:r.options),U=sr(ee,f.value),N=j(X=>f.compare(U,X));if(f.virtual){if(z===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(h,{children:D.createElement(xn.Provider,{value:z!==f.virtual.options?{...f,virtual:{...f.virtual,options:z}}:f},D.createElement(Zv,{slot:L},h.children))})}let te=fe();return D.createElement(Kl,{enabled:c?e.static||M:!1},D.createElement(xn.Provider,{value:f.mode===1?f:{...f,isSelected:N}},te({ourProps:G,theirProps:{...h,children:D.createElement(Fv,{freeze:ee},typeof h.children=="function"?(i=h.children)==null?void 0:i.call(h,L):h.children)},slot:L,defaultTag:ib,features:ob,visible:M,name:"Combobox.Options"})))}let ab="div";function lb(e,t){var n,r,i,o;let s=rn("Combobox.Option"),a=In("Combobox.Option"),l=u.useId(),{id:c=`headlessui-combobox-option-${l}`,value:d,disabled:p=(i=(r=(n=s.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,d))!=null?i:!1,order:h=null,...f}=e,m=El(s.inputElement),v=s.virtual?s.activeOptionIndex===s.calculateIndex(d):s.activeOptionIndex===null?!1:((o=s.options[s.activeOptionIndex])==null?void 0:o.id)===c,b=s.isSelected(d),x=u.useRef(null),E=Re({disabled:p,value:d,domRef:x,order:h}),w=u.useContext(Yl),$=me(t,x,w?w.measureElement:null),y=j(()=>{a.setIsTyping(!1),a.onChange(d)});Q(()=>a.registerOption(c,E),[E,c]);let S=u.useRef(!(s.virtual||s.__demoMode));Q(()=>{if(!s.virtual&&!s.__demoMode)return Be().requestAnimationFrame(()=>{S.current=!0})},[s.virtual,s.__demoMode]),Q(()=>{if(S.current&&s.comboboxState===0&&v&&s.activationTrigger!==0)return Be().requestAnimationFrame(()=>{var q,G;(G=(q=x.current)==null?void 0:q.scrollIntoView)==null||G.call(q,{block:"nearest"})})},[x,v,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let O=j(q=>{q.preventDefault(),q.button===so.Left&&(p||(y(),yl()||requestAnimationFrame(()=>m()),s.mode===0&&a.closeCombobox()))}),M=j(()=>{if(p)return a.goToOption(Z.Nothing);let q=s.calculateIndex(d);a.goToOption(Z.Specific,q)}),I=Tl(),F=j(q=>I.update(q)),C=j(q=>{if(!I.wasMoved(q)||p||v)return;let G=s.calculateIndex(d);a.goToOption(Z.Specific,G,0)}),H=j(q=>{I.wasMoved(q)&&(p||v&&(s.optionsPropsRef.current.hold||a.goToOption(Z.Nothing)))}),L=u.useMemo(()=>({active:v,focus:v,selected:b,disabled:p}),[v,b,p]),A={id:c,ref:$,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:O,onFocus:M,onPointerEnter:F,onMouseEnter:F,onPointerMove:C,onMouseMove:C,onPointerLeave:H,onMouseLeave:H};return fe()({ourProps:A,theirProps:f,slot:L,defaultTag:ab,name:"Combobox.Option"})}let ub=de(Jv),cb=de(rb),Zl=de(tb),db=cl,Xl=de(sb),Ql=de(lb),fb=Object.assign(ub,{Input:Zl,Button:cb,Label:db,Options:Xl,Option:Ql});function Jl(){let e=u.useRef(!1);return Q(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function eu(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:nu)!==u.Fragment||D.Children.count(e.children)===1}let $r=u.createContext(null);$r.displayName="TransitionContext";var pb=(e=>(e.Visible="visible",e.Hidden="hidden",e))(pb||{});function hb(){let e=u.useContext($r);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function mb(){let e=u.useContext(Cr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Cr=u.createContext(null);Cr.displayName="NestingContext";function Rr(e){return"children"in e?Rr(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function tu(e,t){let n=Re(e),r=u.useRef([]),i=Jl(),o=pt(),s=j((f,m=it.Hidden)=>{let v=r.current.findIndex(({el:b})=>b===f);v!==-1&&(he(m,{[it.Unmount](){r.current.splice(v,1)},[it.Hidden](){r.current[v].state="hidden"}}),o.microTask(()=>{var b;!Rr(r)&&i.current&&((b=n.current)==null||b.call(n))}))}),a=j(f=>{let m=r.current.find(({el:v})=>v===f);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,it.Unmount)}),l=u.useRef([]),c=u.useRef(Promise.resolve()),d=u.useRef({enter:[],leave:[]}),p=j((f,m,v)=>{l.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([b])=>b!==f)),t==null||t.chains.current[m].push([f,new Promise(b=>{l.current.push(b)})]),t==null||t.chains.current[m].push([f,new Promise(b=>{Promise.all(d.current[m].map(([x,E])=>E)).then(()=>b())})]),m==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(m)):v(m)}),h=j((f,m,v)=>{Promise.all(d.current[m].splice(0).map(([b,x])=>x)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>v(m))});return u.useMemo(()=>({children:r,register:a,unregister:s,onStart:p,onStop:h,wait:c,chains:d}),[a,s,r,p,h,d,c])}let nu=u.Fragment,ru=lt.RenderStrategy;function gb(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:p,entered:h,leave:f,leaveFrom:m,leaveTo:v,...b}=e,[x,E]=u.useState(null),w=u.useRef(null),$=eu(e),y=me(...$?[w,t,E]:t===null?[]:[t]),S=(n=b.unmount)==null||n?it.Unmount:it.Hidden,{show:O,appear:M,initial:I}=hb(),[F,C]=u.useState(O?"visible":"hidden"),H=mb(),{register:L,unregister:A}=H;Q(()=>L(w),[L,w]),Q(()=>{if(S===it.Hidden&&w.current){if(O&&F!=="visible"){C("visible");return}return he(F,{hidden:()=>A(w),visible:()=>L(w)})}},[F,w,L,A,O,S]);let q=ao();Q(()=>{if($&&q&&F==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,F,q,$]);let G=I&&!M,ee=M&&O&&I,z=u.useRef(!1),U=tu(()=>{z.current||(C("hidden"),A(w))},H),N=j(ie=>{z.current=!0;let le=ie?"enter":"leave";U.onStart(w,le,be=>{be==="enter"?o==null||o():be==="leave"&&(a==null||a())})}),te=j(ie=>{let le=ie?"enter":"leave";z.current=!1,U.onStop(w,le,be=>{be==="enter"?s==null||s():be==="leave"&&(l==null||l())}),le==="leave"&&!Rr(U)&&(C("hidden"),A(w))});u.useEffect(()=>{$&&i||(N(O),te(O))},[O,$,i]);let X=!(!i||!$||!q||G),[,R]=Qi(X,x,O,{start:N,end:te}),J=rt({ref:y,className:((r=vi(b.className,ee&&c,ee&&d,R.enter&&c,R.enter&&R.closed&&d,R.enter&&!R.closed&&p,R.leave&&f,R.leave&&!R.closed&&m,R.leave&&R.closed&&v,!R.transition&&O&&h))==null?void 0:r.trim())||void 0,...Xi(R)}),K=0;F==="visible"&&(K|=Ee.Open),F==="hidden"&&(K|=Ee.Closed),R.enter&&(K|=Ee.Opening),R.leave&&(K|=Ee.Closing);let ge=fe();return D.createElement(Cr.Provider,{value:U},D.createElement(oo,{value:K},ge({ourProps:J,theirProps:b,defaultTag:nu,features:ru,visible:F==="visible",name:"Transition.Child"})))}function vb(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=u.useRef(null),a=eu(e),l=me(...a?[s,t]:t===null?[]:[t]);ao();let c=Or();if(n===void 0&&c!==null&&(n=(c&Ee.Open)===Ee.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,p]=u.useState(n?"visible":"hidden"),h=tu(()=>{n||p("hidden")}),[f,m]=u.useState(!0),v=u.useRef([n]);Q(()=>{f!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),m(!1))},[v,n]);let b=u.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);Q(()=>{n?p("visible"):!Rr(h)&&s.current!==null&&p("hidden")},[n,h]);let x={unmount:i},E=j(()=>{var y;f&&m(!1),(y=e.beforeEnter)==null||y.call(e)}),w=j(()=>{var y;f&&m(!1),(y=e.beforeLeave)==null||y.call(e)}),$=fe();return D.createElement(Cr.Provider,{value:h},D.createElement($r.Provider,{value:b},$({ourProps:{...x,as:u.Fragment,children:D.createElement(iu,{ref:l,...x,...o,beforeEnter:E,beforeLeave:w})},theirProps:{},defaultTag:u.Fragment,features:ru,visible:d==="visible",name:"Transition"})))}function bb(e,t){let n=u.useContext($r)!==null,r=Or()!==null;return D.createElement(D.Fragment,null,!n&&r?D.createElement(Si,{ref:t,...e}):D.createElement(iu,{ref:t,...e}))}let Si=de(vb),iu=de(gb),xb=de(bb),yb=Object.assign(Si,{Child:xb,Root:Si});function wb(e,t){let n=u.useRef({left:0,top:0});if(Q(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(n.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Ms=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ds(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return Ms.test(s)&&(s=s.replace(Ms,"")),s}function Eb(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():Ds(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Ds(e).trim()}function Sb(e){let t=u.useRef(""),n=u.useRef("");return j(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=Eb(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var Tb=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Tb||{}),Ob=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ob||{}),$b=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))($b||{}),Cb=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(Cb||{});function ri(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ot(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Rb={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Z.Nothing)return{...a,activeOptionIndex:null};if(t.focus===Z.Specific)return{...a,activeOptionIndex:e.options.findIndex(d=>d.id===t.id)};if(t.focus===Z.Previous){let d=e.activeOptionIndex;if(d!==null){let p=e.options[d].dataRef.current.domRef,h=pn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(h!==null){let f=e.options[h].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:h}}}}else if(t.focus===Z.Next){let d=e.activeOptionIndex;if(d!==null){let p=e.options[d].dataRef.current.domRef,h=pn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(h!==null){let f=e.options[h].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===f.current||((s=f.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeOptionIndex:h}}}}let l=ri(e),c=pn(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeOptionIndex:c}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var a;return!s.dataRef.current.disabled&&((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ri(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=ri(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},uo=u.createContext(null);uo.displayName="ListboxActionsContext";function jr(e){let t=u.useContext(uo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,jr),n}return t}let Fr=u.createContext(null);Fr.displayName="ListboxDataContext";function _n(e){let t=u.useContext(Fr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_n),n}return t}function jb(e,t){return he(t.type,Rb,e,t)}let Fb=u.Fragment;function Ab(e,t){var n;let r=vr(),{value:i,defaultValue:o,form:s,name:a,onChange:l,by:c,invalid:d=!1,disabled:p=r||!1,horizontal:h=!1,multiple:f=!1,__demoMode:m=!1,...v}=e;const b=h?"horizontal":"vertical";let x=me(t),E=Ja(o),[w=f?[]:void 0,$]=Qa(i,l,E),[y,S]=u.useReducer(jb,{dataRef:u.createRef(),listboxState:m?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:m}),O=u.useRef({static:!1,hold:!1}),M=u.useRef(new Map),I=fl(c),F=u.useCallback(oe=>he(C.mode,{1:()=>w.some(pe=>I(pe,oe)),0:()=>I(w,oe)}),[w]),C=u.useMemo(()=>({...y,value:w,disabled:p,invalid:d,mode:f?1:0,orientation:b,compare:I,isSelected:F,optionsPropsRef:O,listRef:M}),[w,p,d,f,y,M]);Q(()=>{y.dataRef.current=C},[C]);let H=C.listboxState===0;wl(H,[C.buttonElement,C.optionsElement],(oe,pe)=>{var V;S({type:1}),bl(pe,Yi.Loose)||(oe.preventDefault(),(V=C.buttonElement)==null||V.focus())});let L=u.useMemo(()=>({open:C.listboxState===0,disabled:p,invalid:d,value:w}),[C,p,w,d]),A=j(oe=>{let pe=C.options.find(V=>V.id===oe);pe&&te(pe.dataRef.current.value)}),q=j(()=>{if(C.activeOptionIndex!==null){let{dataRef:oe,id:pe}=C.options[C.activeOptionIndex];te(oe.current.value),S({type:2,focus:Z.Specific,id:pe})}}),G=j(()=>S({type:0})),ee=j(()=>S({type:1})),z=pt(),U=j((oe,pe,V)=>{z.dispose(),z.microTask(()=>oe===Z.Specific?S({type:2,focus:Z.Specific,id:pe,trigger:V}):S({type:2,focus:oe,trigger:V}))}),N=j((oe,pe)=>(S({type:5,id:oe,dataRef:pe}),()=>S({type:6,id:oe}))),te=j(oe=>he(C.mode,{0(){return $==null?void 0:$(oe)},1(){let pe=C.value.slice(),V=pe.findIndex(se=>I(se,oe));return V===-1?pe.push(oe):pe.splice(V,1),$==null?void 0:$(pe)}})),X=j(oe=>S({type:3,value:oe})),R=j(()=>S({type:4})),J=j(oe=>{S({type:7,element:oe})}),K=j(oe=>{S({type:8,element:oe})}),ge=u.useMemo(()=>({onChange:te,registerOption:N,goToOption:U,closeListbox:ee,openListbox:G,selectActiveOption:q,selectOption:A,search:X,clearSearch:R,setButtonElement:J,setOptionsElement:K}),[]),[ie,le]=ul({inherit:!0}),be={ref:x},Nt=u.useCallback(()=>{if(E!==void 0)return $==null?void 0:$(E)},[$,E]),ht=fe();return D.createElement(le,{value:ie,props:{htmlFor:(n=C.buttonElement)==null?void 0:n.id},slot:{open:C.listboxState===0,disabled:p}},D.createElement(ql,null,D.createElement(uo.Provider,{value:ge},D.createElement(Fr.Provider,{value:C},D.createElement(oo,{value:he(C.listboxState,{0:Ee.Open,1:Ee.Closed})},a!=null&&w!=null&&D.createElement(rl,{disabled:p,data:{[a]:w},form:s,onReset:Nt}),ht({ourProps:be,theirProps:v,slot:L,defaultTag:Fb,name:"Listbox"}))))))}let Pb="button";function Ib(e,t){var n;let r=_n("Listbox.Button"),i=jr("Listbox.Button"),o=u.useId(),s=Wi(),{id:a=s||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:c=!1,...d}=e,p=me(t,Bl(),i.setButtonElement),h=Cv(),f=j(C=>{switch(C.key){case W.Enter:Sm(C.currentTarget);break;case W.Space:case W.ArrowDown:C.preventDefault(),ve.flushSync(()=>i.openListbox()),r.value||i.goToOption(Z.First);break;case W.ArrowUp:C.preventDefault(),ve.flushSync(()=>i.openListbox()),r.value||i.goToOption(Z.Last);break}}),m=j(C=>{switch(C.key){case W.Space:C.preventDefault();break}}),v=j(C=>{var H;if(il(C.currentTarget))return C.preventDefault();r.listboxState===0?(ve.flushSync(()=>i.closeListbox()),(H=r.buttonElement)==null||H.focus({preventScroll:!0})):(C.preventDefault(),i.openListbox())}),b=j(C=>C.preventDefault()),x=jn([a]),E=al(),{isFocusVisible:w,focusProps:$}=Rn({autoFocus:c}),{isHovered:y,hoverProps:S}=gr({isDisabled:l}),{pressed:O,pressProps:M}=Ui({disabled:l}),I=u.useMemo(()=>({open:r.listboxState===0,active:O||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:y,focus:w,autofocus:c}),[r.listboxState,r.value,l,y,w,O,r.invalid,c]),F=kt(h(),{ref:p,id:a,type:Zi(e,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":x,"aria-describedby":E,disabled:l||void 0,autoFocus:c,onKeyDown:f,onKeyUp:m,onKeyPress:b,onClick:v},$,S,M);return fe()({ourProps:F,theirProps:d,slot:I,defaultTag:Pb,name:"Listbox.Button"})}let ou=u.createContext(!1),_b="div",Mb=lt.RenderStrategy|lt.Static;function Db(e,t){var n,r;let i=u.useId(),{id:o=`headlessui-listbox-options-${i}`,anchor:s,portal:a=!1,modal:l=!0,transition:c=!1,...d}=e,p=Vl(s),[h,f]=u.useState(null);p&&(a=!0);let m=_n("Listbox.Options"),v=jr("Listbox.Options"),b=Fn(m.optionsElement),x=Or(),[E,w]=Qi(c,h,x!==null?(x&Ee.Open)===Ee.Open:m.listboxState===0);gl(E,m.buttonElement,v.closeListbox);let $=m.__demoMode?!1:l&&m.listboxState===0;Sl($,b);let y=m.__demoMode?!1:l&&m.listboxState===0;ml(y,{allowed:u.useCallback(()=>[m.buttonElement,m.optionsElement],[m.buttonElement,m.optionsElement])});let S=m.listboxState!==0,O=wb(S,m.buttonElement)?!1:E,M=E&&m.listboxState===1,I=sr(M,m.value),F=j(R=>m.compare(I,R)),C=u.useMemo(()=>{var R;if(p==null||!((R=p==null?void 0:p.to)!=null&&R.includes("selection")))return null;let J=m.options.findIndex(K=>F(K.dataRef.current.value));return J===-1&&(J=0),J},[p,m.options]),H=(()=>{if(p==null)return;if(C===null)return{...p,inner:void 0};let R=Array.from(m.listRef.current.values());return{...p,inner:{listRef:{current:R},index:C}}})(),[L,A]=zl(H),q=Hl(),G=me(t,p?L:null,v.setOptionsElement,f),ee=pt();u.useEffect(()=>{var R;let J=m.optionsElement;J&&m.listboxState===0&&J!==((R=Dt(J))==null?void 0:R.activeElement)&&(J==null||J.focus({preventScroll:!0}))},[m.listboxState,m.optionsElement]);let z=j(R=>{var J,K;switch(ee.dispose(),R.key){case W.Space:if(m.searchQuery!=="")return R.preventDefault(),R.stopPropagation(),v.search(R.key);case W.Enter:if(R.preventDefault(),R.stopPropagation(),m.activeOptionIndex!==null){let{dataRef:ge}=m.options[m.activeOptionIndex];v.onChange(ge.current.value)}m.mode===0&&(ve.flushSync(()=>v.closeListbox()),(J=m.buttonElement)==null||J.focus({preventScroll:!0}));break;case he(m.orientation,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return R.preventDefault(),R.stopPropagation(),v.goToOption(Z.Next);case he(m.orientation,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return R.preventDefault(),R.stopPropagation(),v.goToOption(Z.Previous);case W.Home:case W.PageUp:return R.preventDefault(),R.stopPropagation(),v.goToOption(Z.First);case W.End:case W.PageDown:return R.preventDefault(),R.stopPropagation(),v.goToOption(Z.Last);case W.Escape:R.preventDefault(),R.stopPropagation(),ve.flushSync(()=>v.closeListbox()),(K=m.buttonElement)==null||K.focus({preventScroll:!0});return;case W.Tab:R.preventDefault(),R.stopPropagation(),ve.flushSync(()=>v.closeListbox()),sg(m.buttonElement,R.shiftKey?Ce.Previous:Ce.Next);break;default:R.key.length===1&&(v.search(R.key),ee.setTimeout(()=>v.clearSearch(),350));break}}),U=(n=m.buttonElement)==null?void 0:n.id,N=u.useMemo(()=>({open:m.listboxState===0}),[m.listboxState]),te=kt(p?q():{},{id:o,ref:G,"aria-activedescendant":m.activeOptionIndex===null||(r=m.options[m.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":m.mode===1?!0:void 0,"aria-labelledby":U,"aria-orientation":m.orientation,onKeyDown:z,role:"listbox",tabIndex:m.listboxState===0?0:void 0,style:{...d.style,...A,"--button-width":bi(m.buttonElement,!0).width},...Xi(w)}),X=fe();return D.createElement(Kl,{enabled:a?e.static||E:!1},D.createElement(Fr.Provider,{value:m.mode===1?m:{...m,isSelected:F}},X({ourProps:te,theirProps:d,slot:N,defaultTag:_b,features:Mb,visible:O,name:"Listbox.Options"})))}let kb="div";function Nb(e,t){let n=u.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,a=u.useContext(ou)===!0,l=_n("Listbox.Option"),c=jr("Listbox.Option"),d=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,p=l.isSelected(o),h=u.useRef(null),f=Sb(h),m=Re({disabled:i,value:o,domRef:h,get textValue(){return f()}}),v=me(t,h,I=>{I?l.listRef.current.set(r,I):l.listRef.current.delete(r)});Q(()=>{if(!l.__demoMode&&l.listboxState===0&&d&&l.activationTrigger!==0)return Be().requestAnimationFrame(()=>{var I,F;(F=(I=h.current)==null?void 0:I.scrollIntoView)==null||F.call(I,{block:"nearest"})})},[h,d,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),Q(()=>{if(!a)return c.registerOption(r,m)},[m,r,a]);let b=j(I=>{var F;if(i)return I.preventDefault();c.onChange(o),l.mode===0&&(ve.flushSync(()=>c.closeListbox()),(F=l.buttonElement)==null||F.focus({preventScroll:!0}))}),x=j(()=>{if(i)return c.goToOption(Z.Nothing);c.goToOption(Z.Specific,r)}),E=Tl(),w=j(I=>{E.update(I),!i&&(d||c.goToOption(Z.Specific,r,0))}),$=j(I=>{E.wasMoved(I)&&(i||d||c.goToOption(Z.Specific,r,0))}),y=j(I=>{E.wasMoved(I)&&(i||d&&c.goToOption(Z.Nothing))}),S=u.useMemo(()=>({active:d,focus:d,selected:p,disabled:i,selectedOption:p&&a}),[d,p,i,a]),O=a?{}:{id:r,ref:v,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:w,onMouseEnter:w,onPointerMove:$,onMouseMove:$,onPointerLeave:y,onMouseLeave:y},M=fe();return!p&&a?null:M({ourProps:O,theirProps:s,slot:S,defaultTag:kb,name:"Listbox.Option"})}let Lb=u.Fragment;function Vb(e,t){let{options:n,placeholder:r,...i}=e,o={ref:me(t)},s=_n("ListboxSelectedOption"),a=u.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0,c=fe();return D.createElement(ou.Provider,{value:!0},c({ourProps:o,theirProps:{...i,children:D.createElement(D.Fragment,null,r&&l?r:n)},slot:a,defaultTag:Lb,name:"ListboxSelectedOption"}))}let Bb=de(Ab),su=de(Ib),Hb=cl,au=de(Db),lu=de(Nb),zb=de(Vb),qb=Object.assign(Bb,{Button:su,Label:Hb,Options:au,Option:lu,SelectedOption:zb});function Ub({onFocus:e}){let[t,n]=u.useState(!0),r=Jl();return t?D.createElement(xr,{as:"button",type:"button",features:br.Focusable,onFocus:i=>{i.preventDefault();let o,s=50;function a(){if(s--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const uu=u.createContext(null);function Wb(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let o=Array.from(r.keys()).indexOf(t);function s(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[o,s]}}}function Gb({children:e}){let t=u.useRef(Wb());return u.createElement(uu.Provider,{value:t},e)}function cu(e){let t=u.useContext(uu);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=u.useId(),[r,i]=t.current.get(e,n);return u.useEffect(()=>i,[]),r}var Kb=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Kb||{}),Yb=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Yb||{}),Zb=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Zb||{});let Xb={0(e,t){var n;let r=ot(e.tabs,d=>d.current),i=ot(e.panels,d=>d.current),o=r.filter(d=>{var p;return!((p=d.current)!=null&&p.hasAttribute("disabled"))}),s={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let d=he(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>he(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return s;let p=he(d,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...s,selectedIndex:p===-1?e.selectedIndex:p}}let a=r.slice(0,t.index),l=[...r.slice(t.index),...a].find(d=>o.includes(d));if(!l)return s;let c=(n=r.indexOf(l))!=null?n:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...s,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=ot([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:ot([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},co=u.createContext(null);co.displayName="TabsDataContext";function Yt(e){let t=u.useContext(co);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yt),n}return t}let fo=u.createContext(null);fo.displayName="TabsActionsContext";function po(e){let t=u.useContext(fo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,po),n}return t}function Qb(e,t){return he(t.type,Xb,e,t)}let Jb="div";function e0(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:s=null,...a}=e;const l=r?"vertical":"horizontal",c=i?"manual":"auto";let d=s!==null,p=Re({isControlled:d}),h=me(t),[f,m]=u.useReducer(Qb,{info:p,selectedIndex:s??n,tabs:[],panels:[]}),v=u.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),b=Re(o||(()=>{})),x=Re(f.tabs),E=u.useMemo(()=>({orientation:l,activation:c,...f}),[l,c,f]),w=j(F=>(m({type:1,tab:F}),()=>m({type:2,tab:F}))),$=j(F=>(m({type:3,panel:F}),()=>m({type:4,panel:F}))),y=j(F=>{S.current!==F&&b.current(F),d||m({type:0,index:F})}),S=Re(d?e.selectedIndex:f.selectedIndex),O=u.useMemo(()=>({registerTab:w,registerPanel:$,change:y}),[]);Q(()=>{m({type:0,index:s??n})},[s]),Q(()=>{if(S.current===void 0||f.tabs.length<=0)return;let F=ot(f.tabs,C=>C.current);F.some((C,H)=>f.tabs[H]!==C)&&y(F.indexOf(f.tabs[S.current]))});let M={ref:h},I=fe();return D.createElement(Gb,null,D.createElement(fo.Provider,{value:O},D.createElement(co.Provider,{value:E},E.tabs.length<=0&&D.createElement(Ub,{onFocus:()=>{var F,C;for(let H of x.current)if(((F=H.current)==null?void 0:F.tabIndex)===0)return(C=H.current)==null||C.focus(),!0;return!1}}),I({ourProps:M,theirProps:a,slot:v,defaultTag:Jb,name:"Tabs"}))))}let t0="div";function n0(e,t){let{orientation:n,selectedIndex:r}=Yt("Tab.List"),i=me(t),o=u.useMemo(()=>({selectedIndex:r}),[r]),s=e,a={ref:i,role:"tablist","aria-orientation":n};return fe()({ourProps:a,theirProps:s,slot:o,defaultTag:t0,name:"Tabs.List"})}let r0="button";function i0(e,t){var n,r;let i=u.useId(),{id:o=`headlessui-tabs-tab-${i}`,disabled:s=!1,autoFocus:a=!1,...l}=e,{orientation:c,activation:d,selectedIndex:p,tabs:h,panels:f}=Yt("Tab"),m=po("Tab"),v=Yt("Tab"),[b,x]=u.useState(null),E=u.useRef(null),w=me(E,t,x);Q(()=>m.registerTab(E),[m,E]);let $=cu("tabs"),y=h.indexOf(E);y===-1&&(y=$);let S=y===p,O=j(N=>{var te;let X=N();if(X===ln.Success&&d==="auto"){let R=(te=Dt(E))==null?void 0:te.activeElement,J=v.tabs.findIndex(K=>K.current===R);J!==-1&&m.change(J)}return X}),M=j(N=>{let te=h.map(X=>X.current).filter(Boolean);if(N.key===W.Space||N.key===W.Enter){N.preventDefault(),N.stopPropagation(),m.change(y);return}switch(N.key){case W.Home:case W.PageUp:return N.preventDefault(),N.stopPropagation(),O(()=>vt(te,Ce.First));case W.End:case W.PageDown:return N.preventDefault(),N.stopPropagation(),O(()=>vt(te,Ce.Last))}if(O(()=>he(c,{vertical(){return N.key===W.ArrowUp?vt(te,Ce.Previous|Ce.WrapAround):N.key===W.ArrowDown?vt(te,Ce.Next|Ce.WrapAround):ln.Error},horizontal(){return N.key===W.ArrowLeft?vt(te,Ce.Previous|Ce.WrapAround):N.key===W.ArrowRight?vt(te,Ce.Next|Ce.WrapAround):ln.Error}}))===ln.Success)return N.preventDefault()}),I=u.useRef(!1),F=j(()=>{var N;I.current||(I.current=!0,(N=E.current)==null||N.focus({preventScroll:!0}),m.change(y),qi(()=>{I.current=!1}))}),C=j(N=>{N.preventDefault()}),{isFocusVisible:H,focusProps:L}=Rn({autoFocus:a}),{isHovered:A,hoverProps:q}=gr({isDisabled:s}),{pressed:G,pressProps:ee}=Ui({disabled:s}),z=u.useMemo(()=>({selected:S,hover:A,active:G,focus:H,autofocus:a,disabled:s}),[S,A,H,G,a,s]),U=kt({ref:w,onKeyDown:M,onMouseDown:C,onClick:F,id:o,role:"tab",type:Zi(e,b),"aria-controls":(r=(n=f[y])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1,disabled:s||void 0,autoFocus:a},L,q,ee);return fe()({ourProps:U,theirProps:l,slot:z,defaultTag:r0,name:"Tabs.Tab"})}let o0="div";function s0(e,t){let{selectedIndex:n}=Yt("Tab.Panels"),r=me(t),i=u.useMemo(()=>({selectedIndex:n}),[n]),o=e,s={ref:r};return fe()({ourProps:s,theirProps:o,slot:i,defaultTag:o0,name:"Tabs.Panels"})}let a0="div",l0=lt.RenderStrategy|lt.Static;function u0(e,t){var n,r,i,o;let s=u.useId(),{id:a=`headlessui-tabs-panel-${s}`,tabIndex:l=0,...c}=e,{selectedIndex:d,tabs:p,panels:h}=Yt("Tab.Panel"),f=po("Tab.Panel"),m=u.useRef(null),v=me(m,t);Q(()=>f.registerPanel(m),[f,m]);let b=cu("panels"),x=h.indexOf(m);x===-1&&(x=b);let E=x===d,{isFocusVisible:w,focusProps:$}=Rn(),y=u.useMemo(()=>({selected:E,focus:w}),[E,w]),S=kt({ref:v,id:a,role:"tabpanel","aria-labelledby":(r=(n=p[x])==null?void 0:n.current)==null?void 0:r.id,tabIndex:E?l:-1},$),O=fe();return!E&&((i=c.unmount)==null||i)&&!((o=c.static)!=null&&o)?D.createElement(xr,{"aria-hidden":"true",...S}):O({ourProps:S,theirProps:c,slot:y,defaultTag:a0,features:l0,visible:E,name:"Tabs.Panel"})}let c0=de(i0),du=de(e0),fu=de(n0),pu=de(s0),hu=de(u0),d0=Object.assign(c0,{Group:du,List:fu,Panels:pu,Panel:hu});function f0({title:e,titleId:t,...n},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"}))}const p0=u.forwardRef(f0);function h0({title:e,titleId:t,...n},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const mu=u.forwardRef(h0);function m0({title:e,titleId:t,...n},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const g0=u.forwardRef(m0),ho={label:P.string,organisation:P.string,type:P.string,user:P.string,value:P.string},gu={name:P.string.isRequired,id:P.string.isRequired,codelists:P.arrayOf(P.shape(ho)).isRequired};function Ti({label:e,value:t}){return g.jsx(lu,{className:({active:n})=>De("relative cursor-pointer select-none py-2 pl-10 pr-4",n?"bg-oxford-600 text-white":"text-gray-900"),value:t,children:({selected:n,active:r})=>g.jsxs(g.Fragment,{children:[g.jsx("span",{className:De("block truncate",n?"font-medium":"font-normal"),children:g.jsx("span",{children:e})}),n?g.jsx("span",{className:De("absolute inset-y-0 left-0 flex items-center px-3 z-10",r?"text-white":"text-oxford-600"),children:g.jsx(mu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})})}Ti.propTypes={label:P.string.isRequired,value:P.shape(ho).isRequired};function vu({defaultValue:e,handleChange:t,name:n}){const{formData:r}=Ne();return g.jsx(qb,{name:n,onChange:i=>t(i),value:e,children:g.jsxs("div",{className:"relative mt-1",children:[g.jsx(su,{className:De("relative w-fit max-w-prose rounded-md border-gray-400 border-2 bg-white py-2 pl-3 pr-10 text-left shadow-xs","focus:outline-hidden","focus-visible:border-oxford-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300"),children:({value:i})=>g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"block truncate",children:i.label}),g.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 ",children:g.jsx(g0,{"aria-hidden":"true",className:"h-5 w-5 text-gray-400"})})]})}),g.jsx(yb,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:g.jsxs(au,{className:"absolute z-10 mt-1 max-h-60 w-fit max-w-prose overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-hidden",children:[r.codelist0?g.jsx(Ti,{label:r.codelist0.label,value:r.codelist0}):null,r.codelist1?g.jsx(Ti,{label:r.codelist1.label,value:r.codelist1}):null]})})]})})}vu.propTypes={defaultValue:P.shape(ho).isRequired,handleChange:P.func.isRequired,name:P.string.isRequired};function v0(){var p,h;const{dates:{startStr:e,endStr:t}}=Xt(),{formData:n}=Ne(),{errors:r,setFieldTouched:i,setFieldValue:o,touched:s,validateField:a,values:l}=et();function c(f){f===l.codelistA&&(o("codelistA",l.codelistB),o("codelistB",f)),f===l.codelistB&&(o("codelistB",l.codelistA),o("codelistA",f))}function d(f,m,v){a(m),i(m),o(m,f.target.value),i("timeOption"),o("timeOption",Wn({[m]:f.target.value,[v]:l==null?void 0:l[v]}))}return g.jsxs("div",{className:"flex flex-col gap-y-1",children:[g.jsx("p",{className:"max-w-prose text-lg",children:_e[0]}),g.jsx(vu,{defaultValue:(l==null?void 0:l.codelistA)||l.codelist0,handleChange:f=>c(f),name:"codelistA"}),g.jsxs("p",{className:"max-w-prose text-lg grid gap-y-1",children:[_e[1],g.jsxs("span",{children:[g.jsx("strong",{children:e})," ",_e[2]," ",g.jsx("strong",{children:t})]}),_e[3]]}),g.jsxs("p",{className:"max-w-prose text-lg",children:[g.jsx("strong",{className:"block mb-1",children:l.codelistB.label||((p=n.codelist1)==null?void 0:p.label)}),_e[4]," ",g.jsxs("span",{className:"block mt-1",children:[g.jsx("strong",{children:l.codelistA.label||((h=n.codelist0)==null?void 0:h.label)})," ",_e[5]]})]}),g.jsxs(Qn,{hideLegend:!0,legend:"Select a time scale",children:[g.jsxs(Jn,{id:"timeHasValue",label:Wn(l),labelClassName:"flex flex-row gap-1 items-center mt-2",name:"timeOption",type:"radio",value:Wn(l),children:["up to",g.jsx(Gt,{className:"inline-flex w-[6ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-xs",inputMode:"numeric",max:"52",min:"0",name:"timeValue",onChange:f=>d(f,"timeValue","timeScale"),type:"text"}),g.jsx(Gt,{as:"select",className:"inline-flex w-[12ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-xs",name:"timeScale",onChange:f=>d(f,"timeScale","timeValue"),children:Zs.map(({label:f,value:m})=>g.jsx("option",{value:m,children:f},m))}),Ha]}),g.jsx(Jn,{id:"anyTime",label:Le,name:"timeOption",type:"radio",value:Le})]}),r.timeValue&&s.timeValue?g.jsx(at,{children:r.timeValue}):null]})}const ar=e=>Jt().shape({label:Ve().required("Select a codelist"),organisation:Ve(),value:Ve().required("Select a codelist"),type:Ve().oneOf(e.map(t=>t.id)).required()}).required("Select a codelist");function b0(e){return{codelistA:e.codelistA||e.codelist0,codelistB:e.codelistB||e.codelist1,timeOption:e.timeOption===Le?Le:Wn({timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}),timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}}function x0(){const[,e]=Ft(),{codelistGroups:t}=Xt(),{formData:n,setFormData:r}=Ne();if(En(["codelist0","codelist1"]))return g.jsx(wn,{to:""});const i=Jt().shape({codelistA:ar(t),codelistB:ar(t),timeOption:Ve().required(),timeValue:Aa().typeError("Amount must be a number").positive("Time value must be a positive number").min(0,"Time scale cannot be less than 0").required("Amount of time is required").test("tenYears","Time scale cannot be longer than 10 years",(o,s)=>{const{timeScale:a,timeOption:l}=s.parent;return l===Le?!0:!(o===void 0||Number.isNaN(o)||a==="weeks"&&o>522||a==="months"&&o>120||a==="years"&&o>10)}),timeScale:Ve().oneOf(Zs.map(o=>o.value)).required()});return g.jsx(pr,{initialValues:b0(n),onSubmit:(o,s)=>s.validateForm().then(()=>{const{timeOption:a,timeScale:l,timeValue:c,...d}=o;return a===Le?(r({...n,timeOption:a,timeEver:"true",timeScale:null,timeValue:null,...d}),e("/preview-request")):(r({...n,timeEver:null,...o}),e("/preview-request"))}),validateOnBlur:!0,validateOnChange:!0,validateOnMount:!0,validationSchema:i,children:({isValid:o})=>g.jsxs(On,{children:[g.jsx(mr,{}),g.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Report request"}),g.jsx(v0,{}),g.jsx(ft,{className:"mt-6",disabled:!o,type:"submit",children:"Next"})]})})}function bu({id:e,label:t,name:n,value:r,onClick:i=()=>null}){return g.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[g.jsx(Gt,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:e,name:n,onClick:i,type:"checkbox",value:r}),g.jsx("label",{className:"cursor-pointer touch-manipulation tracking-tight",htmlFor:e,children:t})]})}bu.propTypes={id:P.string.isRequired,label:P.string.isRequired,name:P.string.isRequired,onClick:P.func,value:P.string.isRequired};function y0(){const[,e]=Ft(),{formData:t,setFormData:n}=Ne();if(En(["codelistA","codelistB","timeOption"]))return g.jsx(wn,{to:""});const r=Jt().shape({filterPopulation:Ve().oneOf(Hn.items.map(o=>o.value)).required("Select a filter for the population"),demographics:Da().of(Ve().oneOf(an.items.map(o=>o.value))).min(0).max(an.items.length)}),i={filterPopulation:t.filterPopulation||"",demographics:t.demographics||[]};return g.jsx(pr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/analysis-information")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>g.jsxs(On,{className:"flex flex-col gap-y-8",children:[g.jsx(mr,{}),g.jsx("h1",{className:"text-4xl font-bold",children:"Set report filters"}),g.jsxs(Qn,{legend:Hn.label,children:[Hn.items.map(l=>g.jsx(Jn,{id:l.value,label:l.label,name:"filterPopulation",value:l.value},l.value)),o.filterPopulation&&a.filterPopulation?g.jsx(at,{children:o.filterPopulation}):null]}),g.jsxs(Qn,{legend:an.label,children:[g.jsx(Hi,{children:g.jsx("p",{children:"These should only be selected if they align with your approved project purpose. Selecting more options will increase report processing time."})}),an.items.map(l=>g.jsx(bu,{id:l.value,label:l.label,name:"demographics",value:l.value},l.value)),o.demographics&&a.demographics?g.jsx(at,{children:"Select one or more demographics"}):null]}),g.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:g.jsx(ft,{disabled:!s,type:"submit",children:"Next"})})]})})}function w0(){const{codelistGroups:e}=Xt();return g.jsx(fu,{className:"flex space-x-1 rounded-sm bg-gray-100 p-1 max-w-prose",children:e.map(t=>g.jsx(d0,{className:({selected:n})=>De("w-full rounded-lg p-1 font-semibold text-oxford-700 leading-5 md:py-2.5","ring-white ring-opacity-60 ring-offset-2 ring-offset-oxford-400 focus:outline-hidden focus:ring-2",n?"bg-white shadow-sm":"hover:bg-white/[0.12] hover:text-oxford-900"),children:t.name},t.id))})}function E0(e){const t={year:"numeric",month:"short",day:"2-digit"},n=new Date(e);return new Intl.DateTimeFormat("en-GB",t).format(n)}function xu({codelistGroup:e,codelistID:t,query:n}){const{values:r}=et(),i=o=>n.length<2?o:o.filter(s=>s.label.toLowerCase().includes(n.toLowerCase()));return n.length<3?g.jsxs("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:["Type ",3-n.length," more characters to search"]}):i(e.codelists).length===0?g.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:"Nothing found"}):g.jsx(g.Fragment,{children:i(e.codelists.sort((o,s)=>o.label.localeCompare(s.label))).map(o=>g.jsx(Ql,{className:({active:s})=>De("relative cursor-pointer select-none py-2 pl-10 pr-4",s?"bg-oxford-600 text-white":"text-gray-900"),value:o,children:({selected:s,active:a})=>{var l;return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:De("block truncate",s?"font-medium":"font-normal"),children:[g.jsx("span",{children:o.label}),g.jsxs("dl",{className:`flex flex-row flex-wrap text-sm mt-0.5 ${a?"text-white":"text-gray-600"}`,children:[g.jsxs("div",{className:"flex flex-row gap-1",children:[g.jsx("dt",{children:"From:"})," ",g.jsx("dd",{children:o.organisation?o.organisation:o.user})]}),g.jsxs("div",{className:"flex flex-row gap-1 ml-2 border-l border-l-gray-300 pl-2",children:[g.jsx("dt",{children:"Last updated:"})," ",g.jsx("dd",{children:E0(o.updatedDate)})]})]})]}),s||((l=r[t])==null?void 0:l.value)===o.value?g.jsx("span",{className:De("absolute inset-y-0 left-0 flex items-center pl-3 z-10",a?"text-white":"text-oxford-600"),children:g.jsx(mu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})}},o.value))})}xu.propTypes={codelistGroup:P.shape(gu).isRequired,codelistID:P.string.isRequired,query:P.string.isRequired};function yu({codelistGroup:e,codelistID:t,query:n,setQuery:r}){const{errors:i,setFieldValue:o,setTouched:s,touched:a}=et(),[l,c]=u.useState("");return u.useEffect(()=>i[t]&&a[t]?rc(i[t])?c(i[t].label):c(i[t]):c(""),[i,a,t]),g.jsx(hu,{children:g.jsx(Gt,{name:t,children:({field:d})=>{var p;return g.jsxs("div",{className:"mt-2",children:[g.jsx(fb,{defaultValue:d.value,name:d.name,onChange:h=>{s({...a,[t]:!0}),o(d.name,h)},children:g.jsxs("div",{className:"relative w-full max-w-prose",children:[g.jsx(Zl,{autoComplete:"off",autoCorrect:"false",className:De("block w-full px-3 py-2 border-2 border-gray-400 rounded-md shadow-xs placeholder-gray-400","focus:cursor-text focus:outline-hidden focus:ring-oxford-500 focus:border-oxford-500"),displayValue:h=>h.label,onChange:h=>r(h.target.value),placeholder:"Type 3 or more characters to find a codelist"}),g.jsx(Xl,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-hidden",children:g.jsx(xu,{codelistGroup:e,codelistID:t,query:n})})]})}),l?g.jsx(at,{children:l}):null,(p=d==null?void 0:d.value)!=null&&p.value?g.jsx("ul",{className:"text-sm mt-2",children:g.jsx("li",{children:g.jsxs("a",{className:"text-oxford-600 font-semibold underline underline-offset-1 transition-colors hover:text-oxford-700 hover:no-underline focus:text-oxford-900 focus:no-underline",href:`https://www.opencodelists.org/codelist/${d.value.value}`,rel:"noopener noreferrer",target:"_blank",children:["View “",d.value.label,"” codelist",g.jsx(p0,{className:"inline h-4 -mt-0.5",height:20,width:20})]})})}):null]})}})},e.id)}yu.propTypes={codelistGroup:P.shape(gu).isRequired,codelistID:P.string.isRequired,query:P.string.isRequired,setQuery:P.func.isRequired};function Oi({id:e,label:t}){const{setFieldValue:n}=et(),{formData:r}=Ne(),{codelistGroups:i}=Xt(),[o,s]=u.useState(""),a=`codelist${e}`,l=i.findIndex(c=>{var d;return c.id===((d=r==null?void 0:r[a])==null?void 0:d.type)});return g.jsxs(du,{as:"div",defaultIndex:l!==-1?l:0,onChange:()=>{s(""),n(a,{})},children:[g.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-2 md:mb-1",children:t}),g.jsx(w0,{}),g.jsx(pu,{children:i.map(c=>g.jsx(yu,{codelistGroup:c,codelistID:a,query:o,setQuery:s},c.id))})]})}Oi.propTypes={id:P.number.isRequired,label:P.string.isRequired};function S0(){const{formData:e,setFormData:t}=Ne(),{codelistGroups:n}=Xt(),[,r]=Ft(),i=Jt({codelist0:ar(n),codelist1:ar(n).test("compare_codelists","Codelists cannot be the same, please change one codelist",(s,a)=>Object.entries(a.parent.codelist0).toString()!==Object.entries(s).toString())}),o={codelist0:e.codelist0||"",codelist1:e.codelist1||""};return g.jsx(pr,{initialValues:o,onSubmit:(s,a)=>{a.validateForm().then(()=>(t({...e,...s,codelistA:null,codelistB:null}),r("/build-query")))},validateOnMount:!0,validationSchema:i,children:({isValid:s})=>g.jsxs(On,{className:"flex flex-col gap-y-12",children:[g.jsx(mr,{}),g.jsx(Oi,{id:0,label:"Select a codelist"}),g.jsx(Oi,{id:1,label:"Select a second codelist"}),g.jsx(ft,{disabled:!s,type:"submit",children:"Next"})]})})}function T0(){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"prose prose-blue",children:[g.jsx("p",{className:"text-lg",children:"Requesting an analysis requires you to select two SNOMED CT or dm+d codelists to see how they are used in combination over time."}),g.jsx("p",{className:"text-lg",children:"To make sure this is the right tool for you, check that you understand the following terms before continuing."}),g.jsx("h3",{children:"Codelist"}),g.jsx("p",{children:"A codelist is a set of codes that can be recorded in clinical systems. Codelists are used to select patients with activities and conditions of interest."}),g.jsx("p",{children:"Any codelist you require in your Analysis Request must:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"use either the SNOMED CT or dm+d coding system"}),g.jsxs("li",{children:["be published on"," ",g.jsx("a",{href:"https://www.opencodelists.org/",rel:"noopener noreferrer",target:"_blank",children:"OpenCodelists"})]})]}),g.jsx("p",{children:"You should review the codelists you wish to use on OpenCodelists and confirm it is suitable for your request before you start."}),g.jsx("p",{children:"Speak to your co-pilot if you can’t find a codelist you want to use, or you wish to add a new codelist to OpenCodelists."}),g.jsx("h3",{children:"SNOMED CT"}),g.jsxs("p",{children:[g.jsx("a",{href:"https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct",rel:"noopener noreferrer",target:"_blank",children:"SNOMED CT"})," ","is a systematically organised computer-processable collection of medical terms used in clinical documentation and reporting. It provides a consistent vocabulary for recording patient clinical information across the NHS and helps ensure data is recorded consistently and accurately."]}),g.jsx("p",{children:"SNOMED CT codelists can query data related to recording of events such as:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Condition Diagnoses "}),"— for example: Crohn’s Disease, Bipolar disorder"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Symptoms "}),"— for example: Headache, Blood in urine"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Test Results "}),"— for example: Potassium level, Abnormal ECG"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Procedures "}),"— for example: Coronary artery bypass graft, Hysterectomy"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Activities "}),"— for example: Medication review"]})]}),g.jsx("h3",{children:"dm+d"}),g.jsxs("p",{children:[g.jsx("a",{href:"https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd",rel:"noopener noreferrer",target:"_blank",children:"dm+d"})," ","is a dictionary of descriptions and codes which represent medicines and devices in use across the NHS."]}),g.jsx("p",{children:"dm+d codelists can query data related to prescriptions that have been issued for medicines or devices, for example: a prescription for Paracetamol 500mg tablets or for a Salbutamol 100micrograms/dose inhaler."})]}),g.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:g.jsx(Gs,{asChild:!0,to:"/find-codelists",children:g.jsx(ft,{children:"Next"})})})]})}function wu({timeOption:e,timeScale:t=null,timeValue:n=null}){const r=e==="at any time prior."?"Any time":`${n} ${t}`;return g.jsxs("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 415 233",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",children:[g.jsx("path",{className:"fill-gray-300",d:"M194 52.03h6V157h-6zM394 52h6v105h-6z"}),g.jsx("path",{className:"fill-gray-500",d:"M3.9 99.9c-.6.5-.6 1.5 0 2l9.35 9.6c.26.2.57.3.89.3a1.5 1.5 0 0 0 1.18-2.4l-8.37-8.5 8.37-8.5a1.5 1.5 0 0 0-1.18-2.4c-.32 0-.63.1-.89.3l-9.46 9.5.1.1Zm189.1 2c.6-.5.6-1.5 0-2l-9.35-9.6c-.26-.2-.57-.3-.89-.3a1.5 1.5 0 0 0-1.18 2.4l8.37 8.5-8.37 8.5a1.5 1.5 0 0 0 1.18 2.4c.32 0 .63-.1.89-.3l9.46-9.5-.1-.1Zm-188.12.5h187.14v-3H4.88v3Z",fillRule:"nonzero"}),g.jsx("path",{className:"fill-green-600 stroke-green-600",d:"M1 128c-.6.5-.6 1.5 0 2l9.5 9.6a1.5 1.5 0 0 0 2.1-2.1L4.1 129l8.5-8.5a1.5 1.5 0 0 0-2.1-2.1l-9.6 9.5.1.1Zm392 2c.6-.5.6-1.5 0-2l-9.5-9.6a1.5 1.5 0 0 0-2.1 2.1l8.5 8.5-8.5 8.5a1.5 1.5 0 0 0 2.1 2.1l9.6-9.5-.1-.1Zm-391 .5h390v-3H2v3Z",fillRule:"nonzero",strokeWidth:"2",transform:"matrix(.99262 0 0 1 2.9 1.9)"}),g.jsx("path",{className:"fill-bn-ribbon-300 stroke-bn-ribbon-700",d:"M297 97.4 284.4 85l-3.5 3.5 12.5 12.5-12.4 12.3 3.5 3.5 12.4-12.4 12.4 12.4 3.5-3.5-12.4-12.4 12.4-12.4-3.5-3.5-12.4 12.4h.1Z"}),g.jsx("path",{className:"fill-oxford-300",d:"M296 74.55c.5.6 1.5.6 2 0l9.6-9.5a1.5 1.5 0 0 0-2.1-2.1l-8.5 8.5-8.5-8.5a1.5 1.5 0 0 0-2.1 2.1l9.5 9.6.1-.1Zm-.5-71v70h3v-70h-3ZM50 150.6c-.2-.8-1-1.3-1.8-1l-13 3.4a1.54 1.54 0 0 0 .7 3l11.6-3.2 3.1 11.6a1.5 1.5 0 0 0 2.9-.7l-3.5-13v-.1ZM3.3 232.4l46.6-80.6-2.6-1.6L.7 231l2.6 1.5v-.1Z",fillRule:"nonzero"}),g.jsx("text",{fontSize:"12",x:"177",y:"170",children:"Start of"}),g.jsx("text",{fontSize:"12",x:"180",y:"183",children:"month"}),g.jsx("text",{fontSize:"12",x:"379",y:"170",children:"End of"}),g.jsx("text",{fontSize:"12",x:"380",y:"183",children:"month"}),g.jsx("text",{fontSize:"12",x:"67",y:"88.63",children:r})]})}wu.propTypes={timeOption:P.string.isRequired,timeScale:P.string,timeValue:P.number};function O0(){const{formData:e}=Ne();return En(["codelistA","codelistB","timeOption"])?g.jsx(wn,{to:""}):g.jsxs(g.Fragment,{children:[g.jsx(Va,{}),g.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Preview your request"}),g.jsx("div",{className:"px-4 py-24",children:g.jsxs("div",{className:"relative",children:[g.jsxs("p",{className:"absolute max-w-[28ch] text-center -translate-y-[80%] top-0 right-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual has qualifying event from:",g.jsx("br",{}),g.jsx("strong",{children:e.codelistA.label})]}),g.jsx(wu,{timeOption:e.timeOption,timeScale:e.timeScale,timeValue:e.timeValue}),g.jsxs("p",{className:"absolute max-w-[28ch] text-center bottom-0 translate-y-[80%] left-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual ALSO has an event from:",g.jsx("br",{}),g.jsx("strong",{children:e.codelistB.label})]})]})}),g.jsx("div",{className:"flex flex-row w-full gap-2 mt-16",children:g.jsx(Gs,{asChild:!0,to:"/filter-request",children:g.jsx(ft,{children:"Next"})})})]})}function Ht({title:e,children:t,page:n}){const[,r]=Ft();return g.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5",children:[g.jsx("dt",{className:"text-lg font-bold text-gray-700 md:text-base",children:e}),g.jsxs("dd",{className:"mt-1 flex text-gray-900 sm:col-span-2 sm:mt-0",children:[g.jsx("span",{className:"grow break-words",children:t}),g.jsx("span",{className:"ml-4 shrink-0",children:g.jsx("button",{className:"rounded-md bg-white font-medium text-oxford-600 hover:text-oxford-500 focus:outline-hidden focus:ring-2 focus:ring-oxford-500 focus:ring-offset-2",onClick:()=>r(`/${n}`),type:"button",children:"Edit"})})]})]})}Ht.propTypes={title:P.string.isRequired,children:P.node.isRequired,page:P.string.isRequired};function $0(){var m,v,b,x,E;const{basePath:e,csrfToken:t,dates:{startISO:n,endISO:r,startStr:i,endStr:o}}=Xt(),{formData:s}=Ne(),[a,l]=u.useState(!1),[c,d]=u.useState("");if(En(["codelistA","codelistB","timeOption","filterPopulation","title","purpose"]))return g.jsx(wn,{to:""});const p=()=>{const{codelistA:w,codelistB:$,timeOption:y,timeScale:S,timeValue:O,filterPopulation:M,demographics:I,title:F,purpose:C}=s;return oc({codelistA:{label:w.label,type:w.type,value:w.value},codelistB:{label:$.label,type:$.type,value:$.value},startDate:n.slice(0,10),endDate:r.slice(0,10),timeEver:y===Le?"true":null,timeScale:y===Le?void 0:S,timeValue:y===Le?void 0:O,filterPopulation:M,demographics:I,title:F,purpose:C})},h=async()=>{l(!0),d("");const w=JSON.stringify(p());vo(y=>{y.setLevel("debug"),_r("formData",w),bo("Submitting analysis request")});const $=await fetch(`${e}publish`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:w});if(!$.ok){l(!1);const y=`An error has occurred: ${$.status} - ${$.statusText}`;throw d(y),new Error(y)}Bi(),vo(y=>{y.setLevel("debug"),_r("formData",w),_r("response",$.url),bo("Analysis ok, redirecting")}),window.location.href=$.url},f=s.timeOption===Le?Le:`up to ${s.timeValue} ${s.timeScale} ${Ha}`;return g.jsxs(g.Fragment,{children:[g.jsx(Va,{}),g.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Review your request"}),g.jsx("div",{className:"mt-5 border-t border-gray-200",children:g.jsxs("dl",{className:"divide-y divide-gray-200",children:[g.jsxs(Ht,{page:"find-codelists",title:"Codelists",children:[(m=s.codelist0)==null?void 0:m.label,",",g.jsx("br",{}),(v=s.codelist1)==null?void 0:v.label]}),(b=s.codelistA)!=null&&b.label&&((x=s.codelistB)!=null&&x.label)?g.jsxs(Ht,{page:"build-query",title:"Report request",children:[` ${_e[0]} `,g.jsx("strong",{children:s.codelistA.label}),` ${_e[1]} `,g.jsx("strong",{children:i})," ",_e[2]," ",g.jsx("strong",{children:o}),` ${_e[3]} `,g.jsx("strong",{children:s.codelistB.label}),` ${_e[4]} `,g.jsx("strong",{children:` ${s.codelistA.label}`}),` ${_e[5]} ${f}`]}):null,g.jsx(Ht,{page:"filter-request",title:"Filter population",children:Hn.items.filter(w=>w.value===s.filterPopulation)[0].label}),g.jsx(Ht,{page:"filter-request",title:"Break down the report by demographics",children:s.demographics.length?g.jsx("ul",{children:(E=s.demographics)==null?void 0:E.map(w=>{var $;return g.jsx("li",{children:($=an.items.find(y=>(y==null?void 0:y.value)===w))==null?void 0:$.label},w)})}):g.jsx("p",{children:"No demographics selected"})}),g.jsxs(Ht,{page:"analysis-information",title:"Analysis information",children:[g.jsxs("p",{className:"mb-4",children:[g.jsx("strong",{children:"Title: "}),g.jsx("br",{}),s.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Description: "}),g.jsx("br",{}),s.purpose]})]})]})}),g.jsxs("section",{className:"prose prose-blue mt-8 pt-6 border-t max-w-full",children:[g.jsx("h2",{className:"sr-only",children:"Read and agree"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Your analyses will be run on primary care patient records for approximately 44% of the English population"}),g.jsx("li",{children:"The analysis you are requesting may take up to 5 days to return results"}),g.jsx("li",{children:"The time for the analysis to generate may vary significantly dependent on current loads on our servers and current demand for our disclosure checking service"}),g.jsx("p",{children:"By making this request you are agreeing:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"That your request falls within your approved project purpose"}),g.jsx("li",{children:"To abide by the Terms and Conditions you signed previously"}),g.jsx("li",{children:"That the contents of this request, along with your name and email address, will be publicly available"})]})]})]}),g.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:g.jsx(ft,{disabled:a,onClick:h,type:"submit",children:a?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"h-5 w-5 flex-1 animate-spin stroke-current stroke-3 mr-2",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{className:"stroke-current opacity-25",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"}),g.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 14.7255 3.09032 17.1962 4.85857 19"})]}),"Submitting"]}):"Submit request"})}),c?g.jsx(at,{children:c}):null]})}function C0(){const[e]=Ft();return u.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const mo=document.getElementById("osi");if(!mo)throw new Error("Failed to find the root element");const R0=Fu.createRoot(mo),{dataset:bt}=mo,j0={basePath:"Basename",csrfToken:"CSRF Token",dateEnd:"End date",dateStart:"Start date",events:"Events codelist data",medications:"Medications codelist data"};Object.entries(j0).map(([e,t])=>{if(!bt[e])throw new Error(`${t} not provided`);return null});Au({dsn:void 0,tracesSampleRate:1});R0.render(g.jsx(D.StrictMode,{children:g.jsx(ji.Provider,{value:ic({dataset:bt}),children:g.jsx(Ys,{children:g.jsxs(Ws,{base:bt.basePath.slice(0,-1),children:[g.jsx(C0,{}),g.jsx(Xs,{basePath:bt.basePath,csrfToken:bt.csrfToken,events:bt.events,medications:bt.medications,children:g.jsxs(tc,{children:[g.jsx(tt,{component:T0,path:"/"}),g.jsx(tt,{component:S0,path:"/find-codelists"}),g.jsx(tt,{component:x0,path:"/build-query"}),g.jsx(tt,{component:O0,path:"/preview-request"}),g.jsx(tt,{component:y0,path:"/filter-request"}),g.jsx(tt,{component:Zh,path:"/analysis-information"}),g.jsx(tt,{component:$0,path:"/review-request"}),g.jsx(tt,{path:"*",children:g.jsxs("div",{className:"prose",children:[g.jsx("h2",{children:"An error occurred"}),g.jsx("p",{className:"lead",children:"Your request was not submitted."}),g.jsxs("p",{children:["Please try again, or"," ",g.jsx("a",{href:"mailto:team@opensafely.org",children:"email team@opensafely.org"}),"."]})]})})]})})]})})})}))});export default F0();
