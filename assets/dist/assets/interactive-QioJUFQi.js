var Iu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{r as c,t as fn,p as I,j as p,P as Pu,R as V,a as ot,w as Fo,s as qr,b as jo,c as _u,i as Mu}from"./index-DFscJ6yq.js";import{g as Vs}from"./_commonjsHelpers-BosuxZz1.js";var cx=Iu((Ce,Re)=>{var Bs={exports:{}},ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=typeof Symbol=="function"&&Symbol.for,_i=ve?Symbol.for("react.element"):60103,Mi=ve?Symbol.for("react.portal"):60106,ir=ve?Symbol.for("react.fragment"):60107,or=ve?Symbol.for("react.strict_mode"):60108,sr=ve?Symbol.for("react.profiler"):60114,ar=ve?Symbol.for("react.provider"):60109,lr=ve?Symbol.for("react.context"):60110,ki=ve?Symbol.for("react.async_mode"):60111,ur=ve?Symbol.for("react.concurrent_mode"):60111,cr=ve?Symbol.for("react.forward_ref"):60112,dr=ve?Symbol.for("react.suspense"):60113,ku=ve?Symbol.for("react.suspense_list"):60120,fr=ve?Symbol.for("react.memo"):60115,pr=ve?Symbol.for("react.lazy"):60116,Lu=ve?Symbol.for("react.block"):60121,Du=ve?Symbol.for("react.fundamental"):60117,Nu=ve?Symbol.for("react.responder"):60118,Vu=ve?Symbol.for("react.scope"):60119;function Ae(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _i:switch(e=e.type,e){case ki:case ur:case ir:case sr:case or:case dr:return e;default:switch(e=e&&e.$$typeof,e){case lr:case cr:case pr:case fr:case ar:return e;default:return t}}case Mi:return t}}}function Hs(e){return Ae(e)===ur}ie.AsyncMode=ki;ie.ConcurrentMode=ur;ie.ContextConsumer=lr;ie.ContextProvider=ar;ie.Element=_i;ie.ForwardRef=cr;ie.Fragment=ir;ie.Lazy=pr;ie.Memo=fr;ie.Portal=Mi;ie.Profiler=sr;ie.StrictMode=or;ie.Suspense=dr;ie.isAsyncMode=function(e){return Hs(e)||Ae(e)===ki};ie.isConcurrentMode=Hs;ie.isContextConsumer=function(e){return Ae(e)===lr};ie.isContextProvider=function(e){return Ae(e)===ar};ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_i};ie.isForwardRef=function(e){return Ae(e)===cr};ie.isFragment=function(e){return Ae(e)===ir};ie.isLazy=function(e){return Ae(e)===pr};ie.isMemo=function(e){return Ae(e)===fr};ie.isPortal=function(e){return Ae(e)===Mi};ie.isProfiler=function(e){return Ae(e)===sr};ie.isStrictMode=function(e){return Ae(e)===or};ie.isSuspense=function(e){return Ae(e)===dr};ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ir||e===ur||e===sr||e===or||e===dr||e===ku||typeof e=="object"&&e!==null&&(e.$$typeof===pr||e.$$typeof===fr||e.$$typeof===ar||e.$$typeof===lr||e.$$typeof===cr||e.$$typeof===Du||e.$$typeof===Nu||e.$$typeof===Vu||e.$$typeof===Lu)};ie.typeOf=Ae;Bs.exports=ie;var Bu=Bs.exports,zs=Bu,Hu={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zu={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qs={};qs[zs.ForwardRef]=Hu;qs[zs.Memo]=zu;function qu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Us={exports:{}},Ws={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=c;function Uu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wu=typeof Object.is=="function"?Object.is:Uu,Gu=zt.useState,Ku=zt.useEffect,Yu=zt.useLayoutEffect,Zu=zt.useDebugValue;function Xu(e,t){var n=t(),r=Gu({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Yu(function(){i.value=n,i.getSnapshot=t,Ur(i)&&o({inst:i})},[e,n,t]),Ku(function(){return Ur(i)&&o({inst:i}),e(function(){Ur(i)&&o({inst:i})})},[e]),Zu(n),n}function Ur(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wu(e,n)}catch{return!0}}function Ju(e,t){return t()}var Qu=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ju:Xu;Ws.useSyncExternalStore=zt.useSyncExternalStore!==void 0?zt.useSyncExternalStore:Qu;Us.exports=Ws;var ec=Us.exports;const{useEffect:tc,useLayoutEffect:nc,useRef:rc}=fn,ic=fn.useInsertionEffect,oc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gs=oc?nc:tc,sc=ic||Gs,Li=e=>{const t=rc([e,(...n)=>t[0](...n)]).current;return sc(()=>{t[0]=e}),t[1]},ac="popstate",Di="pushState",Ni="replaceState",lc="hashchange",Ao=[ac,Di,Ni,lc],uc=e=>{for(const t of Ao)addEventListener(t,e);return()=>{for(const t of Ao)removeEventListener(t,e)}},Ks=(e,t)=>ec.useSyncExternalStore(uc,e,t),cc=()=>location.search,dc=({ssrSearch:e=""}={})=>Ks(cc,()=>e),Io=()=>location.pathname,fc=({ssrPath:e}={})=>Ks(Io,e?()=>e:Io),pc=(e,{replace:t=!1,state:n=null}={})=>history[t?Ni:Di](n,"",e),hc=(e={})=>[fc(e),pc],Po=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Po]>"u"){for(const e of[Di,Ni]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Po,{value:!0})}const mc=(e="",t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",gc=(e,t="")=>e[0]==="~"?e.slice(1):t+e,vc=e=>{try{return decodeURI(e)}catch{return e}},Ys={hook:hc,searchHook:dc,parser:qu,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Zs=c.createContext(Ys),vn=()=>c.useContext(Zs),bc=c.createContext({}),hr=e=>{const[t,n]=e.hook(e);return[vc(mc(e.base,t)),Li((r,i)=>n(gc(r,e.base),i))]},ft=()=>hr(vn()),Xs=(e,t,n,r)=>{const{pattern:i,keys:o}=e(t||"*",r),[s,...a]=i.exec(n)||[];return s!==void 0?[!0,Object.fromEntries(o.map((l,d)=>[l,a[d]])),...r?[s]:[]]:[!1,null]},Js=({children:e,...t})=>{var u,h;const n=vn(),r=t.hook?Ys:n;let i=r;const[o,s]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=o),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let a=c.useRef({}),l=a.current,d=l;for(let m in r){const f=m==="base"?r[m]+(t[m]||""):t[m]||r[m];l===d&&f!==d[m]&&(a.current=d={...d}),d[m]=f,f!==r[m]&&(i=d)}return c.createElement(Zs.Provider,{value:i,children:e})},_o=({children:e,component:t},n)=>t?c.createElement(t,{params:n}):typeof e=="function"?e(n):e,et=({path:e,nest:t,match:n,...r})=>{const i=vn(),[o]=hr(i),[s,a,l]=n??Xs(i.parser,e,o,t);if(!s)return null;const d=l?c.createElement(Js,{base:l},_o(r,a)):_o(r,a);return c.createElement(bc.Provider,{value:a,children:d})},Qs=c.forwardRef((e,t)=>{const n=vn(),[r,i]=hr(n),{to:o,href:s=o,onClick:a,asChild:l,children:d,className:u,replace:h,state:m,...f}=e,g=Li(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,e)))}),b=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&c.isValidElement(d)?c.cloneElement(d,{onClick:g,href:b}):c.createElement("a",{...f,onClick:g,href:b,className:u!=null&&u.call?u(r===s):u,children:d,ref:t})}),ea=e=>Array.isArray(e)?e.flatMap(t=>ea(t&&t.type===c.Fragment?t.props.children:t)):[e],xc=({children:e,location:t})=>{const n=vn(),[r]=hr(n);for(const i of ea(e)){let o=0;if(c.isValidElement(i)&&(o=Xs(n.parser,i.props.path,t||r,i.props.nest))[0])return c.cloneElement(i,{match:o})}return null},bn=e=>{const{to:t,href:n=t}=e,[,r]=ft(),i=Li(()=>r(t||n,e));return Gs(()=>{i()},[]),null},Vi=c.createContext({basePath:"",csrfToken:"",codelistGroups:[]});Vi.displayName="AppData";function Yt(){const e=c.useContext(Vi);if(e===void 0)throw new Error("useAppData must be used within a AppData.Provider component");return e}const Bi=c.createContext();Bi.displayName="FormData";function ta({children:e}){const[t,n]=c.useState({}),r=c.useMemo(()=>({formData:t,setFormData:n}),[t]);return p.jsx(Bi.Provider,{value:r,children:e})}function De(){const e=c.useContext(Bi);if(e===void 0)throw new Error("useFormData must be used within a FormData.Provider component");return e}ta.propTypes={children:I.element.isRequired};const yc=({dateStart:e,dateEnd:t})=>{const n=new Date(e),r=new Date(t),i={year:"numeric",month:"long",day:"numeric"};return{endISO:r.toISOString(),endStr:r.toLocaleDateString("en-GB",i),startISO:n.toISOString(),startStr:n.toLocaleDateString("en-GB",i)}},na=[{label:"Weeks",value:"weeks"},{label:"Months",value:"months"},{label:"Years",value:"years"}],Bn={label:"Filter the population",items:[{label:"All people",value:"all"},{label:"Adults only",value:"adults"},{label:"Children only",value:"children"}]},rn={label:"Break down the report by demographics",items:[{label:"Sex",value:"sex"},{label:"Age",value:"age"},{label:"Ethnicity",value:"ethnicity"},{label:"Index of Multiple Deprivation (IMD)",value:"imd"},{label:"Region",value:"region"}]};function Me(...e){return e.filter(Boolean).join(" ")}function Mo(e){const t=document.getElementById(e);return t!=null&&t.textContent?JSON.parse(t==null?void 0:t.textContent).map(i=>({label:i.name,organisation:i.organisation,type:e.slice(9,e.length-1),user:i.user,value:i.slug,updatedDate:i.updated_date})):[]}function xn(e){const{formData:t}=De(),n=[];return e.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)||n.push(r)}),!!n.length}function wc(e){return!!e&&e.constructor===Object}function Ec({dataset:{basePath:e,csrfToken:t,events:n,medications:r,dateStart:i,dateEnd:o}}){return{basePath:e,csrfToken:t,codelistGroups:[{name:"SNOMED CT",id:"event",codelists:Mo(n)},{name:"dm+d",id:"medication",codelists:Mo(r)}],dates:{...yc({dateStart:i,dateEnd:o})}}}const Sc=e=>(Object.keys(e).forEach(t=>e[t]===void 0&&delete e[t]),e);function ra({children:e}){const[t]=ft(),n=t==="/",r=t==="/success";return p.jsxs("main",{className:"min-h-[66vh] flex-grow pb-12 bg-gray-100",children:[p.jsxs("div",{className:"mb-6 mt-3 flex flex-col gap-y-2 text-left md:mt-0",children:[p.jsx("h1",{className:"text-3xl tracking-tight break-words md:text-4xl font-bold text-gray-900",children:"Interactive request"}),p.jsx("p",{className:"font-lg text-gray-600",children:"Make a new request for an interactive report."})]}),p.jsx("section",{className:"max-w-3xl relative",children:p.jsxs("div",{className:Me("bg-white p-6 shadow rounded",!n&&!r?"pt-12":null),children:[!n&&!r?p.jsx("button",{className:Me("absolute top-0 left-0 text-sm font-semibold py-1 pl-2 pr-3 flex text-white bg-oxford-800 rounded-br transition-colors","hover:text-oxford-50 hover:bg-oxford-700","focus-within:text-oxford-50 focus-within:bg-oxford-700"),onClick:()=>window.history.back(),type:"button",children:"← Back"}):null,e]})})]})}ra.propTypes={children:Pu.node.isRequired};var Tc=function(t){return Oc(t)&&!$c(t)};function Oc(e){return!!e&&typeof e=="object"}function $c(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Fc(e)}var Cc=typeof Symbol=="function"&&Symbol.for,Rc=Cc?Symbol.for("react.element"):60103;function Fc(e){return e.$$typeof===Rc}function jc(e){return Array.isArray(e)?[]:{}}function Wn(e,t){return t.clone!==!1&&t.isMergeableObject(e)?pn(jc(e),e,t):e}function Ac(e,t,n){return e.concat(t).map(function(r){return Wn(r,n)})}function Ic(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Wn(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Wn(t[i],n):r[i]=pn(e[i],t[i],n)}),r}function pn(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ac,n.isMergeableObject=n.isMergeableObject||Tc;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):Ic(e,t,n):Wn(t,n)}pn.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return pn(r,i,n)},{})};var ci=pn,ia=typeof global=="object"&&global&&global.Object===Object&&global,Pc=typeof self=="object"&&self&&self.Object===Object&&self,Ue=ia||Pc||Function("return this")(),st=Ue.Symbol,oa=Object.prototype,_c=oa.hasOwnProperty,Mc=oa.toString,tn=st?st.toStringTag:void 0;function kc(e){var t=_c.call(e,tn),n=e[tn];try{e[tn]=void 0;var r=!0}catch{}var i=Mc.call(e);return r&&(t?e[tn]=n:delete e[tn]),i}var Lc=Object.prototype,Dc=Lc.toString;function Nc(e){return Dc.call(e)}var Vc="[object Null]",Bc="[object Undefined]",ko=st?st.toStringTag:void 0;function Ft(e){return e==null?e===void 0?Bc:Vc:ko&&ko in Object(e)?kc(e):Nc(e)}function sa(e,t){return function(n){return e(t(n))}}var Hi=sa(Object.getPrototypeOf,Object);function jt(e){return e!=null&&typeof e=="object"}var Hc="[object Object]",zc=Function.prototype,qc=Object.prototype,aa=zc.toString,Uc=qc.hasOwnProperty,Wc=aa.call(Object);function Lo(e){if(!jt(e)||Ft(e)!=Hc)return!1;var t=Hi(e);if(t===null)return!0;var n=Uc.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&aa.call(n)==Wc}function Gc(){this.__data__=[],this.size=0}function la(e,t){return e===t||e!==e&&t!==t}function mr(e,t){for(var n=e.length;n--;)if(la(e[n][0],t))return n;return-1}var Kc=Array.prototype,Yc=Kc.splice;function Zc(e){var t=this.__data__,n=mr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Yc.call(t,n,1),--this.size,!0}function Xc(e){var t=this.__data__,n=mr(t,e);return n<0?void 0:t[n][1]}function Jc(e){return mr(this.__data__,e)>-1}function Qc(e,t){var n=this.__data__,r=mr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Xe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xe.prototype.clear=Gc;Xe.prototype.delete=Zc;Xe.prototype.get=Xc;Xe.prototype.has=Jc;Xe.prototype.set=Qc;function ed(){this.__data__=new Xe,this.size=0}function td(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function nd(e){return this.__data__.get(e)}function rd(e){return this.__data__.has(e)}function yn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var id="[object AsyncFunction]",od="[object Function]",sd="[object GeneratorFunction]",ad="[object Proxy]";function ua(e){if(!yn(e))return!1;var t=Ft(e);return t==od||t==sd||t==id||t==ad}var Wr=Ue["__core-js_shared__"],Do=function(){var e=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ld(e){return!!Do&&Do in e}var ud=Function.prototype,cd=ud.toString;function At(e){if(e!=null){try{return cd.call(e)}catch{}try{return e+""}catch{}}return""}var dd=/[\\^$.*+?()[\]{}|]/g,fd=/^\[object .+?Constructor\]$/,pd=Function.prototype,hd=Object.prototype,md=pd.toString,gd=hd.hasOwnProperty,vd=RegExp("^"+md.call(gd).replace(dd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bd(e){if(!yn(e)||ld(e))return!1;var t=ua(e)?vd:fd;return t.test(At(e))}function xd(e,t){return e==null?void 0:e[t]}function It(e,t){var n=xd(e,t);return bd(n)?n:void 0}var hn=It(Ue,"Map"),mn=It(Object,"create");function yd(){this.__data__=mn?mn(null):{},this.size=0}function wd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ed="__lodash_hash_undefined__",Sd=Object.prototype,Td=Sd.hasOwnProperty;function Od(e){var t=this.__data__;if(mn){var n=t[e];return n===Ed?void 0:n}return Td.call(t,e)?t[e]:void 0}var $d=Object.prototype,Cd=$d.hasOwnProperty;function Rd(e){var t=this.__data__;return mn?t[e]!==void 0:Cd.call(t,e)}var Fd="__lodash_hash_undefined__";function jd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mn&&t===void 0?Fd:t,this}function $t(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$t.prototype.clear=yd;$t.prototype.delete=wd;$t.prototype.get=Od;$t.prototype.has=Rd;$t.prototype.set=jd;function Ad(){this.size=0,this.__data__={hash:new $t,map:new(hn||Xe),string:new $t}}function Id(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function gr(e,t){var n=e.__data__;return Id(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Pd(e){var t=gr(this,e).delete(e);return this.size-=t?1:0,t}function _d(e){return gr(this,e).get(e)}function Md(e){return gr(this,e).has(e)}function kd(e,t){var n=gr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function pt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pt.prototype.clear=Ad;pt.prototype.delete=Pd;pt.prototype.get=_d;pt.prototype.has=Md;pt.prototype.set=kd;var Ld=200;function Dd(e,t){var n=this.__data__;if(n instanceof Xe){var r=n.__data__;if(!hn||r.length<Ld-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new pt(r)}return n.set(e,t),this.size=n.size,this}function Zt(e){var t=this.__data__=new Xe(e);this.size=t.size}Zt.prototype.clear=ed;Zt.prototype.delete=td;Zt.prototype.get=nd;Zt.prototype.has=rd;Zt.prototype.set=Dd;function Nd(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var No=function(){try{var e=It(Object,"defineProperty");return e({},"",{}),e}catch{}}();function ca(e,t,n){t=="__proto__"&&No?No(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Vd=Object.prototype,Bd=Vd.hasOwnProperty;function da(e,t,n){var r=e[t];(!(Bd.call(e,t)&&la(r,n))||n===void 0&&!(t in e))&&ca(e,t,n)}function vr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?ca(n,a,l):da(n,a,l)}return n}function Hd(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var zd="[object Arguments]";function Vo(e){return jt(e)&&Ft(e)==zd}var fa=Object.prototype,qd=fa.hasOwnProperty,Ud=fa.propertyIsEnumerable,Wd=Vo(function(){return arguments}())?Vo:function(e){return jt(e)&&qd.call(e,"callee")&&!Ud.call(e,"callee")},wn=Array.isArray;function Gd(){return!1}var pa=typeof Ce=="object"&&Ce&&!Ce.nodeType&&Ce,Bo=pa&&typeof Re=="object"&&Re&&!Re.nodeType&&Re,Kd=Bo&&Bo.exports===pa,Ho=Kd?Ue.Buffer:void 0,Yd=Ho?Ho.isBuffer:void 0,ha=Yd||Gd,Zd=9007199254740991,Xd=/^(?:0|[1-9]\d*)$/;function Jd(e,t){var n=typeof e;return t=t??Zd,!!t&&(n=="number"||n!="symbol"&&Xd.test(e))&&e>-1&&e%1==0&&e<t}var Qd=9007199254740991;function ma(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qd}var ef="[object Arguments]",tf="[object Array]",nf="[object Boolean]",rf="[object Date]",of="[object Error]",sf="[object Function]",af="[object Map]",lf="[object Number]",uf="[object Object]",cf="[object RegExp]",df="[object Set]",ff="[object String]",pf="[object WeakMap]",hf="[object ArrayBuffer]",mf="[object DataView]",gf="[object Float32Array]",vf="[object Float64Array]",bf="[object Int8Array]",xf="[object Int16Array]",yf="[object Int32Array]",wf="[object Uint8Array]",Ef="[object Uint8ClampedArray]",Sf="[object Uint16Array]",Tf="[object Uint32Array]",se={};se[gf]=se[vf]=se[bf]=se[xf]=se[yf]=se[wf]=se[Ef]=se[Sf]=se[Tf]=!0;se[ef]=se[tf]=se[hf]=se[nf]=se[mf]=se[rf]=se[of]=se[sf]=se[af]=se[lf]=se[uf]=se[cf]=se[df]=se[ff]=se[pf]=!1;function Of(e){return jt(e)&&ma(e.length)&&!!se[Ft(e)]}function zi(e){return function(t){return e(t)}}var ga=typeof Ce=="object"&&Ce&&!Ce.nodeType&&Ce,sn=ga&&typeof Re=="object"&&Re&&!Re.nodeType&&Re,$f=sn&&sn.exports===ga,Gr=$f&&ia.process,qt=function(){try{var e=sn&&sn.require&&sn.require("util").types;return e||Gr&&Gr.binding&&Gr.binding("util")}catch{}}(),zo=qt&&qt.isTypedArray,Cf=zo?zi(zo):Of,Rf=Object.prototype,Ff=Rf.hasOwnProperty;function va(e,t){var n=wn(e),r=!n&&Wd(e),i=!n&&!r&&ha(e),o=!n&&!r&&!i&&Cf(e),s=n||r||i||o,a=s?Hd(e.length,String):[],l=a.length;for(var d in e)(t||Ff.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Jd(d,l)))&&a.push(d);return a}var jf=Object.prototype;function qi(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||jf;return e===n}var Af=sa(Object.keys,Object),If=Object.prototype,Pf=If.hasOwnProperty;function _f(e){if(!qi(e))return Af(e);var t=[];for(var n in Object(e))Pf.call(e,n)&&n!="constructor"&&t.push(n);return t}function ba(e){return e!=null&&ma(e.length)&&!ua(e)}function Ui(e){return ba(e)?va(e):_f(e)}function Mf(e,t){return e&&vr(t,Ui(t),e)}function kf(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Lf=Object.prototype,Df=Lf.hasOwnProperty;function Nf(e){if(!yn(e))return kf(e);var t=qi(e),n=[];for(var r in e)r=="constructor"&&(t||!Df.call(e,r))||n.push(r);return n}function Wi(e){return ba(e)?va(e,!0):Nf(e)}function Vf(e,t){return e&&vr(t,Wi(t),e)}var xa=typeof Ce=="object"&&Ce&&!Ce.nodeType&&Ce,qo=xa&&typeof Re=="object"&&Re&&!Re.nodeType&&Re,Bf=qo&&qo.exports===xa,Uo=Bf?Ue.Buffer:void 0,Wo=Uo?Uo.allocUnsafe:void 0;function Hf(e,t){if(t)return e.slice();var n=e.length,r=Wo?Wo(n):new e.constructor(n);return e.copy(r),r}function ya(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function zf(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function wa(){return[]}var qf=Object.prototype,Uf=qf.propertyIsEnumerable,Go=Object.getOwnPropertySymbols,Gi=Go?function(e){return e==null?[]:(e=Object(e),zf(Go(e),function(t){return Uf.call(e,t)}))}:wa;function Wf(e,t){return vr(e,Gi(e),t)}function Ea(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Gf=Object.getOwnPropertySymbols,Sa=Gf?function(e){for(var t=[];e;)Ea(t,Gi(e)),e=Hi(e);return t}:wa;function Kf(e,t){return vr(e,Sa(e),t)}function Ta(e,t,n){var r=t(e);return wn(e)?r:Ea(r,n(e))}function Yf(e){return Ta(e,Ui,Gi)}function Zf(e){return Ta(e,Wi,Sa)}var di=It(Ue,"DataView"),fi=It(Ue,"Promise"),pi=It(Ue,"Set"),hi=It(Ue,"WeakMap"),Ko="[object Map]",Xf="[object Object]",Yo="[object Promise]",Zo="[object Set]",Xo="[object WeakMap]",Jo="[object DataView]",Jf=At(di),Qf=At(hn),ep=At(fi),tp=At(pi),np=At(hi),Ke=Ft;(di&&Ke(new di(new ArrayBuffer(1)))!=Jo||hn&&Ke(new hn)!=Ko||fi&&Ke(fi.resolve())!=Yo||pi&&Ke(new pi)!=Zo||hi&&Ke(new hi)!=Xo)&&(Ke=function(e){var t=Ft(e),n=t==Xf?e.constructor:void 0,r=n?At(n):"";if(r)switch(r){case Jf:return Jo;case Qf:return Ko;case ep:return Yo;case tp:return Zo;case np:return Xo}return t});var rp=Object.prototype,ip=rp.hasOwnProperty;function op(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&ip.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Qo=Ue.Uint8Array;function Ki(e){var t=new e.constructor(e.byteLength);return new Qo(t).set(new Qo(e)),t}function sp(e,t){var n=t?Ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ap=/\w*$/;function lp(e){var t=new e.constructor(e.source,ap.exec(e));return t.lastIndex=e.lastIndex,t}var es=st?st.prototype:void 0,ts=es?es.valueOf:void 0;function up(e){return ts?Object(ts.call(e)):{}}function cp(e,t){var n=t?Ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var dp="[object Boolean]",fp="[object Date]",pp="[object Map]",hp="[object Number]",mp="[object RegExp]",gp="[object Set]",vp="[object String]",bp="[object Symbol]",xp="[object ArrayBuffer]",yp="[object DataView]",wp="[object Float32Array]",Ep="[object Float64Array]",Sp="[object Int8Array]",Tp="[object Int16Array]",Op="[object Int32Array]",$p="[object Uint8Array]",Cp="[object Uint8ClampedArray]",Rp="[object Uint16Array]",Fp="[object Uint32Array]";function jp(e,t,n){var r=e.constructor;switch(t){case xp:return Ki(e);case dp:case fp:return new r(+e);case yp:return sp(e,n);case wp:case Ep:case Sp:case Tp:case Op:case $p:case Cp:case Rp:case Fp:return cp(e,n);case pp:return new r;case hp:case vp:return new r(e);case mp:return lp(e);case gp:return new r;case bp:return up(e)}}var ns=Object.create,Ap=function(){function e(){}return function(t){if(!yn(t))return{};if(ns)return ns(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Ip(e){return typeof e.constructor=="function"&&!qi(e)?Ap(Hi(e)):{}}var Pp="[object Map]";function _p(e){return jt(e)&&Ke(e)==Pp}var rs=qt&&qt.isMap,Mp=rs?zi(rs):_p,kp="[object Set]";function Lp(e){return jt(e)&&Ke(e)==kp}var is=qt&&qt.isSet,Dp=is?zi(is):Lp,Np=1,Vp=2,Bp=4,Oa="[object Arguments]",Hp="[object Array]",zp="[object Boolean]",qp="[object Date]",Up="[object Error]",$a="[object Function]",Wp="[object GeneratorFunction]",Gp="[object Map]",Kp="[object Number]",Ca="[object Object]",Yp="[object RegExp]",Zp="[object Set]",Xp="[object String]",Jp="[object Symbol]",Qp="[object WeakMap]",eh="[object ArrayBuffer]",th="[object DataView]",nh="[object Float32Array]",rh="[object Float64Array]",ih="[object Int8Array]",oh="[object Int16Array]",sh="[object Int32Array]",ah="[object Uint8Array]",lh="[object Uint8ClampedArray]",uh="[object Uint16Array]",ch="[object Uint32Array]",oe={};oe[Oa]=oe[Hp]=oe[eh]=oe[th]=oe[zp]=oe[qp]=oe[nh]=oe[rh]=oe[ih]=oe[oh]=oe[sh]=oe[Gp]=oe[Kp]=oe[Ca]=oe[Yp]=oe[Zp]=oe[Xp]=oe[Jp]=oe[ah]=oe[lh]=oe[uh]=oe[ch]=!0;oe[Up]=oe[$a]=oe[Qp]=!1;function an(e,t,n,r,i,o){var s,a=t&Np,l=t&Vp,d=t&Bp;if(s!==void 0)return s;if(!yn(e))return e;var u=wn(e);if(u){if(s=op(e),!a)return ya(e,s)}else{var h=Ke(e),m=h==$a||h==Wp;if(ha(e))return Hf(e,a);if(h==Ca||h==Oa||m&&!i){if(s=l||m?{}:Ip(e),!a)return l?Kf(e,Vf(s,e)):Wf(e,Mf(s,e))}else{if(!oe[h])return i?e:{};s=jp(e,h,a)}}o||(o=new Zt);var f=o.get(e);if(f)return f;o.set(e,s),Dp(e)?e.forEach(function(v){s.add(an(v,t,n,v,e,o))}):Mp(e)&&e.forEach(function(v,x){s.set(x,an(v,t,n,x,e,o))});var g=d?l?Zf:Yf:l?Wi:Ui,b=u?void 0:g(e);return Nd(b||e,function(v,x){b&&(x=v,v=e[x]),da(s,x,an(v,t,n,x,e,o))}),s}var dh=1,fh=4;function Mn(e){return an(e,dh|fh)}var os=Array.isArray,ss=Object.keys,ph=Object.prototype.hasOwnProperty,hh=typeof Element<"u";function mi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=os(e),r=os(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!mi(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var d=e instanceof RegExp,u=t instanceof RegExp;if(d!=u)return!1;if(d&&u)return e.toString()==t.toString();var h=ss(e);if(o=h.length,o!==ss(t).length)return!1;for(i=o;i--!==0;)if(!ph.call(t,h[i]))return!1;if(hh&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=h[i],!(s==="_owner"&&e.$$typeof)&&!mi(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var mh=function(t,n){try{return mi(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const vt=Vs(mh);var gh=4;function as(e){return an(e,gh)}function Ra(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var vh="[object Symbol]";function Yi(e){return typeof e=="symbol"||jt(e)&&Ft(e)==vh}var bh="Expected a function";function Zi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(bh);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Zi.Cache||pt),n}Zi.Cache=pt;var xh=500;function yh(e){var t=Zi(e,function(r){return n.size===xh&&n.clear(),r}),n=t.cache;return t}var wh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eh=/\\(\\)?/g,Sh=yh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wh,function(n,r,i,o){t.push(i?o.replace(Eh,"$1"):r||n)}),t}),Th=1/0;function Oh(e){if(typeof e=="string"||Yi(e))return e;var t=e+"";return t=="0"&&1/e==-Th?"-0":t}var $h=1/0,ls=st?st.prototype:void 0,us=ls?ls.toString:void 0;function Fa(e){if(typeof e=="string")return e;if(wn(e))return Ra(e,Fa)+"";if(Yi(e))return us?us.call(e):"";var t=e+"";return t=="0"&&1/e==-$h?"-0":t}function Ch(e){return e==null?"":Fa(e)}function ja(e){return wn(e)?Ra(e,Oh):Yi(e)?[e]:ya(Sh(Ch(e)))}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function Vt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var br=c.createContext(void 0);br.displayName="FormikContext";var Rh=br.Provider;br.Consumer;function Je(){var e=c.useContext(br);return e}var Oe=function(t){return typeof t=="function"},xr=function(t){return t!==null&&typeof t=="object"},Fh=function(t){return String(Math.floor(Number(t)))===t},Kr=function(t){return Object.prototype.toString.call(t)==="[object String]"},jh=function(t){return c.Children.count(t)===0},Yr=function(t){return xr(t)&&Oe(t.then)};function Te(e,t,n,r){r===void 0&&(r=0);for(var i=ja(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function St(e,t,n){for(var r=as(e),i=r,o=0,s=ja(t);o<s.length-1;o++){var a=s[o],l=Te(e,s.slice(0,o+1));if(l&&(xr(l)||Array.isArray(l)))i=i[a]=as(l);else{var d=s[o+1];i=i[a]=Fh(d)&&Number(d)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Aa(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];xr(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Aa(a,t,n,r[s])):r[s]=t}return r}function Ah(e,t){switch(t.type){case"SET_VALUES":return ae({},e,{values:t.payload});case"SET_TOUCHED":return ae({},e,{touched:t.payload});case"SET_ERRORS":return vt(e.errors,t.payload)?e:ae({},e,{errors:t.payload});case"SET_STATUS":return ae({},e,{status:t.payload});case"SET_ISSUBMITTING":return ae({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return ae({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return ae({},e,{values:St(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return ae({},e,{touched:St(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return ae({},e,{errors:St(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return ae({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return ae({},e,{touched:Aa(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return ae({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ae({},e,{isSubmitting:!1});default:return e}}var gt={},kn={};function Ih(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,d=l===void 0?!1:l,u=e.onSubmit,h=Vt(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=ae({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:u},h),f=c.useRef(m.initialValues),g=c.useRef(m.initialErrors||gt),b=c.useRef(m.initialTouched||kn),v=c.useRef(m.initialStatus),x=c.useRef(!1),w=c.useRef({});c.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var E=c.useState(0),S=E[1],T=c.useRef({values:Mn(m.initialValues),errors:Mn(m.initialErrors)||gt,touched:Mn(m.initialTouched)||kn,status:Mn(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=T.current,C=c.useCallback(function(y){var _=T.current;T.current=Ah(_,y),_!==T.current&&S(function(D){return D+1})},[]),R=c.useCallback(function(y,_){return new Promise(function(D,B){var X=m.validate(y,_);X==null?D(gt):Yr(X)?X.then(function(ne){D(ne||gt)},function(ne){B(ne)}):D(X)})},[m.validate]),M=c.useCallback(function(y,_){var D=m.validationSchema,B=Oe(D)?D(_):D,X=_&&B.validateAt?B.validateAt(_,y):_h(y,B);return new Promise(function(ne,ge){X.then(function(){ne(gt)},function(We){We.name==="ValidationError"?ne(Ph(We)):ge(We)})})},[m.validationSchema]),H=c.useCallback(function(y,_){return new Promise(function(D){return D(w.current[y].validate(_))})},[]),j=c.useCallback(function(y){var _=Object.keys(w.current).filter(function(B){return Oe(w.current[B].validate)}),D=_.length>0?_.map(function(B){return H(B,Te(y,B))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(D).then(function(B){return B.reduce(function(X,ne,ge){return ne==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ne&&(X=St(X,_[ge],ne)),X},{})})},[H]),$=c.useCallback(function(y){return Promise.all([j(y),m.validationSchema?M(y):{},m.validate?R(y):{}]).then(function(_){var D=_[0],B=_[1],X=_[2],ne=ci.all([D,B,X],{arrayMerge:Mh});return ne})},[m.validate,m.validationSchema,j,R,M]),k=Ie(function(y){return y===void 0&&(y=O.values),C({type:"SET_ISVALIDATING",payload:!0}),$(y).then(function(_){return x.current&&(C({type:"SET_ISVALIDATING",payload:!1}),C({type:"SET_ERRORS",payload:_})),_})});c.useEffect(function(){s&&x.current===!0&&vt(f.current,m.initialValues)&&k(f.current)},[s,k]);var q=c.useCallback(function(y){var _=y&&y.values?y.values:f.current,D=y&&y.errors?y.errors:g.current?g.current:m.initialErrors||{},B=y&&y.touched?y.touched:b.current?b.current:m.initialTouched||{},X=y&&y.status?y.status:v.current?v.current:m.initialStatus;f.current=_,g.current=D,b.current=B,v.current=X;var ne=function(){C({type:"RESET_FORM",payload:{isSubmitting:!!y&&!!y.isSubmitting,errors:D,touched:B,status:X,values:_,isValidating:!!y&&!!y.isValidating,submitCount:y&&y.submitCount&&typeof y.submitCount=="number"?y.submitCount:0}})};if(m.onReset){var ge=m.onReset(O.values,mt);Yr(ge)?ge.then(ne):ne()}else ne()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);c.useEffect(function(){x.current===!0&&!vt(f.current,m.initialValues)&&d&&(f.current=m.initialValues,q(),s&&k(f.current))},[d,m.initialValues,q,s,k]),c.useEffect(function(){d&&x.current===!0&&!vt(g.current,m.initialErrors)&&(g.current=m.initialErrors||gt,C({type:"SET_ERRORS",payload:m.initialErrors||gt}))},[d,m.initialErrors]),c.useEffect(function(){d&&x.current===!0&&!vt(b.current,m.initialTouched)&&(b.current=m.initialTouched||kn,C({type:"SET_TOUCHED",payload:m.initialTouched||kn}))},[d,m.initialTouched]),c.useEffect(function(){d&&x.current===!0&&!vt(v.current,m.initialStatus)&&(v.current=m.initialStatus,C({type:"SET_STATUS",payload:m.initialStatus}))},[d,m.initialStatus,m.initialTouched]);var P=Ie(function(y){if(w.current[y]&&Oe(w.current[y].validate)){var _=Te(O.values,y),D=w.current[y].validate(_);return Yr(D)?(C({type:"SET_ISVALIDATING",payload:!0}),D.then(function(B){return B}).then(function(B){C({type:"SET_FIELD_ERROR",payload:{field:y,value:B}}),C({type:"SET_ISVALIDATING",payload:!1})})):(C({type:"SET_FIELD_ERROR",payload:{field:y,value:D}}),Promise.resolve(D))}else if(m.validationSchema)return C({type:"SET_ISVALIDATING",payload:!0}),M(O.values,y).then(function(B){return B}).then(function(B){C({type:"SET_FIELD_ERROR",payload:{field:y,value:Te(B,y)}}),C({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),A=c.useCallback(function(y,_){var D=_.validate;w.current[y]={validate:D}},[]),U=c.useCallback(function(y){delete w.current[y]},[]),z=Ie(function(y,_){C({type:"SET_TOUCHED",payload:y});var D=_===void 0?i:_;return D?k(O.values):Promise.resolve()}),G=c.useCallback(function(y){C({type:"SET_ERRORS",payload:y})},[]),de=Ie(function(y,_){var D=Oe(y)?y(O.values):y;C({type:"SET_VALUES",payload:D});var B=_===void 0?n:_;return B?k(D):Promise.resolve()}),me=c.useCallback(function(y,_){C({type:"SET_FIELD_ERROR",payload:{field:y,value:_}})},[]),le=Ie(function(y,_,D){C({type:"SET_FIELD_VALUE",payload:{field:y,value:_}});var B=D===void 0?n:D;return B?k(St(O.values,y,_)):Promise.resolve()}),he=c.useCallback(function(y,_){var D=_,B=y,X;if(!Kr(y)){y.persist&&y.persist();var ne=y.target?y.target:y.currentTarget,ge=ne.type,We=ne.name,Hr=ne.id,zr=ne.value,ju=ne.checked,dx=ne.outerHTML,Ro=ne.options,Au=ne.multiple;D=_||We||Hr,B=/number|range/.test(ge)?(X=parseFloat(zr),isNaN(X)?"":X):/checkbox/.test(ge)?Lh(Te(O.values,D),ju,zr):Ro&&Au?kh(Ro):zr}D&&le(D,B)},[le,O.values]),L=Ie(function(y){if(Kr(y))return function(_){return he(_,y)};he(y)}),ue=Ie(function(y,_,D){_===void 0&&(_=!0),C({type:"SET_FIELD_TOUCHED",payload:{field:y,value:_}});var B=D===void 0?i:D;return B?k(O.values):Promise.resolve()}),ee=c.useCallback(function(y,_){y.persist&&y.persist();var D=y.target,B=D.name,X=D.id,ne=D.outerHTML,ge=_||B||X;ue(ge,!0)},[ue]),te=Ie(function(y){if(Kr(y))return function(_){return ee(_,y)};ee(y)}),J=c.useCallback(function(y){Oe(y)?C({type:"SET_FORMIK_STATE",payload:y}):C({type:"SET_FORMIK_STATE",payload:function(){return y}})},[]),Q=c.useCallback(function(y){C({type:"SET_STATUS",payload:y})},[]),N=c.useCallback(function(y){C({type:"SET_ISSUBMITTING",payload:y})},[]),Z=Ie(function(){return C({type:"SUBMIT_ATTEMPT"}),k().then(function(y){var _=y instanceof Error,D=!_&&Object.keys(y).length===0;if(D){var B;try{if(B=_n(),B===void 0)return}catch(X){throw X}return Promise.resolve(B).then(function(X){return x.current&&C({type:"SUBMIT_SUCCESS"}),X}).catch(function(X){if(x.current)throw C({type:"SUBMIT_FAILURE"}),X})}else if(x.current&&(C({type:"SUBMIT_FAILURE"}),_))throw y})}),ye=Ie(function(y){y&&y.preventDefault&&Oe(y.preventDefault)&&y.preventDefault(),y&&y.stopPropagation&&Oe(y.stopPropagation)&&y.stopPropagation(),Z().catch(function(_){console.warn("Warning: An unhandled error was caught from submitForm()",_)})}),mt={resetForm:q,validateForm:k,validateField:P,setErrors:G,setFieldError:me,setFieldTouched:ue,setFieldValue:le,setStatus:Q,setSubmitting:N,setTouched:z,setValues:de,setFormikState:J,submitForm:Z},_n=Ie(function(){return u(O.values,mt)}),Tu=Ie(function(y){y&&y.preventDefault&&Oe(y.preventDefault)&&y.preventDefault(),y&&y.stopPropagation&&Oe(y.stopPropagation)&&y.stopPropagation(),q()}),Ou=c.useCallback(function(y){return{value:Te(O.values,y),error:Te(O.errors,y),touched:!!Te(O.touched,y),initialValue:Te(f.current,y),initialTouched:!!Te(b.current,y),initialError:Te(g.current,y)}},[O.errors,O.touched,O.values]),$u=c.useCallback(function(y){return{setValue:function(D,B){return le(y,D,B)},setTouched:function(D,B){return ue(y,D,B)},setError:function(D){return me(y,D)}}},[le,ue,me]),Cu=c.useCallback(function(y){var _=xr(y),D=_?y.name:y,B=Te(O.values,D),X={name:D,value:B,onChange:L,onBlur:te};if(_){var ne=y.type,ge=y.value,We=y.as,Hr=y.multiple;ne==="checkbox"?ge===void 0?X.checked=!!B:(X.checked=!!(Array.isArray(B)&&~B.indexOf(ge)),X.value=ge):ne==="radio"?(X.checked=B===ge,X.value=ge):We==="select"&&Hr&&(X.value=X.value||[],X.multiple=!0)}return X},[te,L,O.values]),Br=c.useMemo(function(){return!vt(f.current,O.values)},[f.current,O.values]),Ru=c.useMemo(function(){return typeof a<"u"?Br?O.errors&&Object.keys(O.errors).length===0:a!==!1&&Oe(a)?a(m):a:O.errors&&Object.keys(O.errors).length===0},[a,Br,O.errors,m]),Fu=ae({},O,{initialValues:f.current,initialErrors:g.current,initialTouched:b.current,initialStatus:v.current,handleBlur:te,handleChange:L,handleReset:Tu,handleSubmit:ye,resetForm:q,setErrors:G,setFormikState:J,setFieldTouched:ue,setFieldValue:le,setFieldError:me,setStatus:Q,setSubmitting:N,setTouched:z,setValues:de,submitForm:Z,validateForm:k,validateField:P,isValid:Ru,dirty:Br,unregisterField:U,registerField:A,getFieldProps:Cu,getFieldMeta:Ou,getFieldHelpers:$u,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Fu}function yr(e){var t=Ih(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return c.useImperativeHandle(o,function(){return t}),c.createElement(Rh,{value:t},n?c.createElement(n,t):i?i(t):r?Oe(r)?r(t):jh(r)?null:c.Children.only(r):null)}function Ph(e){var t={};if(e.inner){if(e.inner.length===0)return St(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Te(t,s.path)||(t=St(t,s.path,s.message))}}return t}function _h(e,t,n,r){n===void 0&&(n=!1);var i=gi(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function gi(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||Lo(i)?gi(i):i!==""?i:void 0}):Lo(e[r])?t[r]=gi(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function Mh(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?ci(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=ci(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function kh(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Lh(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var Dh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function Ie(e){var t=c.useRef(e);return Dh(function(){t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function Ut(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=e.className,l=Vt(e,["validate","name","render","children","as","component","className"]),d=Je(),u=Vt(d,["validate","validationSchema"]),h=u.registerField,m=u.unregisterField;c.useEffect(function(){return h(n,{validate:t}),function(){m(n)}},[h,m,n,t]);var f=u.getFieldProps(ae({name:n},l)),g=u.getFieldMeta(n),b={field:f,form:u};if(r)return r(ae({},b,{meta:g}));if(Oe(i))return i(ae({},b,{meta:g}));if(s){if(typeof s=="string"){var v=l.innerRef,x=Vt(l,["innerRef"]);return c.createElement(s,ae({ref:v},f,x,{className:a}),i)}return c.createElement(s,ae({field:f,form:u},l,{className:a}),i)}var w=o||"input";if(typeof w=="string"){var E=l.innerRef,S=Vt(l,["innerRef"]);return c.createElement(w,ae({ref:E},f,S,{className:a}),i)}return c.createElement(w,ae({},f,l,{className:a}),i)}var En=c.forwardRef(function(e,t){var n=e.action,r=Vt(e,["action"]),i=n??"#",o=Je(),s=o.handleReset,a=o.handleSubmit;return c.createElement("form",ae({onSubmit:a,ref:t,onReset:s,action:i},r))});En.displayName="Form";function Pt(e){this._maxSize=e,this.clear()}Pt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Pt.prototype.get=function(e){return this._values[e]};Pt.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Nh=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ia=/^\d+$/,Vh=/^\d/,Bh=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Hh=/^\s*(['"]?)(.*?)(\1)\s*$/,Xi=512,cs=new Pt(Xi),ds=new Pt(Xi),fs=new Pt(Xi),Tt={Cache:Pt,split:vi,normalizePath:Zr,setter:function(e){var t=Zr(e);return ds.get(e)||ds.set(e,function(r,i){for(var o=0,s=t.length,a=r;o<s-1;){var l=t[o];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[t[o++]]}a[t[o]]=i})},getter:function(e,t){var n=Zr(e);return fs.get(e)||fs.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(Ji(n)||Ia.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){zh(Array.isArray(e)?e:vi(e),t,n)}};function Zr(e){return cs.get(e)||cs.set(e,vi(e).map(function(t){return t.replace(Hh,"$2")}))}function vi(e){return e.match(Nh)||[""]}function zh(e,t,n){var r=e.length,i,o,s,a;for(o=0;o<r;o++)i=e[o],i&&(Wh(i)&&(i='"'+i+'"'),a=Ji(i),s=!a&&/^\d+$/.test(i),t.call(n,i,a,s,o,e))}function Ji(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function qh(e){return e.match(Vh)&&!e.match(Ia)}function Uh(e){return Bh.test(e)}function Wh(e){return!Ji(e)&&(qh(e)||Uh(e))}const Gh=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,wr=e=>e.match(Gh)||[],Er=e=>e[0].toUpperCase()+e.slice(1),Qi=(e,t)=>wr(e).join(t).toLowerCase(),Pa=e=>wr(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Kh=e=>Er(Pa(e)),Yh=e=>Qi(e,"_"),Zh=e=>Qi(e,"-"),Xh=e=>Er(Qi(e," ")),Jh=e=>wr(e).map(Er).join(" ");var Xr={words:wr,upperFirst:Er,camelCase:Pa,pascalCase:Kh,snakeCase:Yh,kebabCase:Zh,sentenceCase:Xh,titleCase:Jh},eo={exports:{}};eo.exports=function(e){return _a(Qh(e),e)};eo.exports.array=_a;function _a(e,t){var n=e.length,r=new Array(n),i={},o=n,s=em(t),a=tm(e);for(t.forEach(function(d){if(!a.has(d[0])||!a.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||l(e[o],o,new Set);return r;function l(d,u,h){if(h.has(d)){var m;try{m=", node was:"+JSON.stringify(d)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!i[u]){i[u]=!0;var f=s.get(d)||new Set;if(f=Array.from(f),u=f.length){h.add(d);do{var g=f[--u];l(g,a.get(g),h)}while(u);h.delete(d)}r[--n]=d}}}function Qh(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function em(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function tm(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var nm=eo.exports;const rm=Vs(nm),im=Object.prototype.toString,om=Error.prototype.toString,sm=RegExp.prototype.toString,am=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",lm=/^Symbol\((.*)\)(.*)$/;function um(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function ps(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return um(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return am.call(e).replace(lm,"Symbol($1)");const r=im.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+om.call(e)+"]":r==="RegExp"?sm.call(e):null}function Ze(e,t){let n=ps(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=ps(this[r],t);return o!==null?o:i},2)}function Ma(e){return e==null?[]:[].concat(e)}let ka,La,Da,cm=/\$\{\s*(\w+)\s*\}/g;ka=Symbol.toStringTag;class hs{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ka]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Ma(t).forEach(o=>{if(Ee.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}La=Symbol.hasInstance;Da=Symbol.toStringTag;class Ee extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof t=="string"?t.replace(cm,(i,o)=>Ze(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new hs(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Da]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ee)}static[La](t){return hs[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ze={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Ze(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Ze(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Ze(n,!0)}\``+i}},we={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},nt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},bi={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},dm={isValue:"${path} field must be ${value}"},xi={noUnknown:"${path} field has unspecified keys: ${unknown}"},Hn={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},fm={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Ze(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Ze(n,!0)}\``}return Ee.formatError(ze.notType,e)}};Object.assign(Object.create(null),{mixed:ze,string:we,number:nt,date:bi,object:xi,array:Hn,boolean:dm,tuple:fm});const Sr=e=>e&&e.__isYupSchema__;class Gn{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Gn(t,(a,l)=>{var d;let u=s(...a)?i:o;return(d=u==null?void 0:u(l))!=null?d:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!Sr(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Ln={context:"$",value:"."};class _t{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ln.context,this.isValue=this.key[0]===Ln.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Ln.context:this.isValue?Ln.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Tt.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}_t.prototype.__isYupRef=!0;const Ye=e=>e==null;function Lt(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},a,l){const{name:d,test:u,params:h,message:m,skipAbsent:f}=e;let{parent:g,context:b,abortEarly:v=s.spec.abortEarly,disableStackTrace:x=s.spec.disableStackTrace}=i;function w(j){return _t.isRef(j)?j.getValue(n,g,b):j}function E(j={}){const $=Object.assign({value:n,originalValue:o,label:s.spec.label,path:j.path||r,spec:s.spec,disableStackTrace:j.disableStackTrace||x},h,j.params);for(const q of Object.keys($))$[q]=w($[q]);const k=new Ee(Ee.formatError(j.message||m,$),n,$.path,j.type||d,$.disableStackTrace);return k.params=$,k}const S=v?a:l;let T={path:r,parent:g,type:d,from:i.from,createError:E,resolve:w,options:i,originalValue:o,schema:s};const O=j=>{Ee.isError(j)?S(j):j?l(null):S(E())},C=j=>{Ee.isError(j)?S(j):a(j)};if(f&&Ye(n))return O(!0);let M;try{var H;if(M=u.call(T,n,T),typeof((H=M)==null?void 0:H.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(M).then(O,C)}}catch(j){C(j);return}O(M)}return t.OPTIONS=e,t}function pm(e,t,n,r=n){let i,o,s;return t?(Tt.forEach(t,(a,l,d)=>{let u=l?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let h=e.type==="tuple",m=d?parseInt(u,10):0;if(e.innerType||h){if(h&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[m],e=h?e.spec.types[m]:e.innerType}if(!d){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[u],e=e.fields[u]}o=u,s=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class Kn extends Set{describe(){const t=[];for(const n of this.values())t.push(_t.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Kn(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Bt(e,t=new Map){if(Sr(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Bt(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Bt(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Bt(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Bt(i,t)}else throw Error(`Unable to clone ${e}`);return n}class ke{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Kn,this._blacklist=new Kn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ze.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Bt(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Ye(o))return o;let s=Ze(t),a=Ze(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:o,value:l,originalValue:s,options:n,tests:d},r,u=>{if(u.length)return i(u,l);this.runTests({path:o,value:l,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:l,options:d}=t,u=b=>{i||(i=!0,n(b,s))},h=b=>{i||(i=!0,r(b,s))},m=o.length,f=[];if(!m)return h([]);let g={value:s,originalValue:a,path:l,options:d,schema:this};for(let b=0;b<o.length;b++){const v=o[b];v(g,u,function(w){w&&(Array.isArray(w)?f.push(...w):f.push(w)),--m<=0&&h(f)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let d=r[a];const u=Object.assign({},s,{strict:!0,parent:r,value:d,originalValue:o[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(h,m,f)=>this.resolve(u)._validate(d,u,m,f)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(t,n,(l,d)=>{Ee.isError(l)&&(l.value=d),a(l)},(l,d)=>{l.length?a(new Ee(l,d,void 0,void 0,o)):s(d)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(a,l)=>{throw Ee.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Ee(a,t,void 0,void 0,s);o=l}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Ee.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Ee.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Bt(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Lt({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Lt({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=ze.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ze.notNull){return this.nullability(!1,t)}required(t=ze.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=ze.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Lt(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=Ma(t).map(o=>new _t(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Gn(i,n):Gn.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Lt({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=ze.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Lt({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=ze.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Lt({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,d,u)=>u.findIndex(h=>h.name===l.name)===d)}}}ke.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])ke.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=pm(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])ke.prototype[e]=ke.prototype.oneOf;for(const e of["not","nope"])ke.prototype[e]=ke.prototype.notOneOf;const hm=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function mm(e){const t=yi(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function yi(e){var t,n;const r=hm.exec(e);return r?{year:Ge(r[1]),month:Ge(r[2],1)-1,day:Ge(r[3],1),hour:Ge(r[4]),minute:Ge(r[5]),second:Ge(r[6]),millisecond:r[7]?Ge(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ge(r[10]),minuteOffset:Ge(r[11])}:null}function Ge(e,t=0){return Number(e)||t}let gm=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vm=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,bm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,xm="^\\d{4}-\\d{2}-\\d{2}",ym="\\d{2}:\\d{2}:\\d{2}",wm="(([+-]\\d{2}(:?\\d{2})?)|Z)",Em=new RegExp(`${xm}T${ym}(\\.\\d+)?${wm}$`),Sm=e=>Ye(e)||e===e.trim(),Tm={}.toString();function Be(){return new Na}class Na extends ke{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===Tm?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||ze.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=we.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=we.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=we.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||we.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=we.email){return this.matches(gm,{name:"email",message:t,excludeEmptyString:!0})}url(t=we.url){return this.matches(vm,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=we.uuid){return this.matches(bm,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(Em,{name:"datetime",message:n||we.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||we.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=yi(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||we.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=yi(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=we.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Sm})}lowercase(t=we.lowercase){return this.transform(n=>Ye(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ye(n)||n===n.toLowerCase()})}uppercase(t=we.uppercase){return this.transform(n=>Ye(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ye(n)||n===n.toUpperCase()})}}Be.prototype=Na.prototype;let Om=e=>e!=+e;function Va(){return new Ba}class Ba extends ke{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!Om(t)}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce)return t;let i=t;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(t,n=nt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(t)}})}max(t,n=nt.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(t)}})}lessThan(t,n=nt.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(r){return r<this.resolve(t)}})}moreThan(t,n=nt.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(r){return r>this.resolve(t)}})}positive(t=nt.positive){return this.moreThan(0,t)}negative(t=nt.negative){return this.lessThan(0,t)}integer(t=nt.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Ye(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Ye(i)?i:Math[t](i))}}Va.prototype=Ba.prototype;let $m=new Date(""),Cm=e=>Object.prototype.toString.call(e)==="[object Date]";class Tr extends ke{constructor(){super({type:"date",check(t){return Cm(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=mm(t),isNaN(t)?Tr.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(_t.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=bi.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=bi.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Tr.INVALID_DATE=$m;Tr.prototype;function Rm(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=Tt.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s of Object.keys(e)){let a=e[s];r.add(s),_t.isRef(a)&&a.isSibling?o(a.path,s):Sr(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return rm.array(Array.from(r),n).reverse()}function ms(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function Ha(e){return(t,n)=>ms(e,t)-ms(e,n)}const za=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function zn(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=zn(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=zn(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(zn)}):"optional"in e?e.optional():e}const Fm=(e,t)=>{const n=[...Tt.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Tt.getter(Tt.join(n),!0)(e);return!!(i&&r in i)};let gs=e=>Object.prototype.toString.call(e)==="[object Object]";function jm(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Am=Ha([]);function Xt(e){return new qa(e)}class qa extends ke{constructor(t){super({type:"object",check(n){return gs(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Am,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},d=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const h of a){let m=o[h],f=h in i;if(m){let g,b=i[h];d.path=(n.path?`${n.path}.`:"")+h,m=m.resolve({value:b,context:n.context,parent:l});let v=m instanceof ke?m.spec:void 0,x=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||h in i;continue}g=!n.__validating||!x?m.cast(i[h],d):i[h],g!==void 0&&(l[h]=g)}else f&&!s&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(u=!0)}return u?l:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(l,d)=>{if(!a||!gs(d)){i(l,d);return}s=s||d;let u=[];for(let h of this._nodes){let m=this.fields[h];!m||_t.isRef(m)||u.push(m.asNestedTest({options:n,key:h,parent:d,parentPath:n.path,originalParent:s}))}this.runTests({tests:u,value:d,originalValue:s,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),d)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=Rm(t,n),r._sortErrors=Ha(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return zn(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=Tt.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return Fm(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(za)}noUnknown(t=!0,n=xi.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=jm(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=xi.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(Xr.camelCase)}snakeCase(){return this.transformKeys(Xr.snakeCase)}constantCase(){return this.transformKeys(t=>Xr.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}Xt.prototype=qa.prototype;function Ua(e){return new Wa(e)}class Wa extends ke{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const l=this.innerType.cast(s,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==s&&(i=!0),l});return i?o:r}_validate(t,n={},r,i){var o;let s=this.innerType,a=(o=n.recursive)!=null?o:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,r,(l,d)=>{var u;if(!a||!s||!this._typeCheck(d)){i(l,d);return}let h=new Array(d.length);for(let f=0;f<d.length;f++){var m;h[f]=s.asNestedTest({options:n,index:f,parent:d,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:t})}this.runTests({value:d,tests:h,originalValue:(u=n.originalValue)!=null?u:t,options:n},r,f=>i(f.concat(l),d))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(za)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!Sr(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ze(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=Hn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n){return n=n||Hn.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n){return n=n||Hn.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);if(n.innerType){var i;let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[0]})),r.innerType=n.innerType.describe(o)}return r}}Ua.prototype=Wa.prototype;const Ga=e=>(e.preventDefault(),e.returnValue="");function Ka(){return window.addEventListener("beforeunload",Ga,{capture:!0})}function to(){return window.removeEventListener("beforeunload",Ga,{capture:!0})}function Or(){const{formData:e}=De(),{dirty:t}=Je();return c.useEffect(()=>t||Object.keys(e).length?Ka():to(),[t,e]),null}function Ya(){const{formData:e}=De();return c.useEffect(()=>e?Ka():to(),[e]),null}function ht({children:e,className:t="",disabled:n=!1,onClick:r=()=>null,size:i="md",type:o="button",variant:s="primary"}){return p.jsx("button",{className:Me("inline-flex w-fit items-center justify-center rounded border-b-2 shadow transition-buttons duration-200 px-4 py-2 font-semibold","hover:shadow-lg","focus:ring-offset-white focus:outline-none focus:ring-2 focus:ring-offset-2",s==="primary"?"bg-oxford-600 border-b-oxford-700 text-white hover:bg-oxford-700 focus:bg-oxford-700 focus:ring-oxford-500":null,s==="danger"?"bg-bn-ribbon-600 border-b-bn-ribbon-700 text-white hover:bg-bn-ribbon-700 focus:bg-bn-ribbon-700 focus:ring-bn-ribbon-500":null,s==="danger-outline"?"bg-bn-ribbon-50 border border-bn-ribbon-200 border-b-bn-ribbon-200 text-bn-ribbon-700 hover:bg-bn-ribbon-100 focus:bg-bn-ribbon-100 focus:ring-bn-ribbon-400":null,i==="sm"?"text-sm !px-2 !py-1.5 font-normal":null,n?"opacity-75 cursor-not-allowed !bg-gray-700 !border-b-gray-800":null,t),disabled:n,onClick:r,type:o,children:e})}ht.propTypes={children:I.node.isRequired,className:I.string,disabled:I.bool,onClick:I.func,size:I.oneOf(["sm","md","lg"]),type:I.oneOf(["button","submit","reset"]),variant:I.oneOf(["primary","danger","danger-outline"])};function at({children:e}){return p.jsx("div",{className:"border-l-2 border-l-bn-ribbon-600 bg-bn-ribbon-100 max-w-prose p-2 pl-4 mt-2 text-sm font-semibold text-bn-ribbon-800",children:e})}at.propTypes={children:I.node.isRequired};function Za({field:e,min:t=null,max:n=null}){const{values:r}=Je(),i=r==null?void 0:r[e].length;return i===n?p.jsx("p",{className:"text-sm",children:"No characters remaining"}):i<t?p.jsxs("p",{className:"text-sm",children:[i-t," more characters required"]}):i<n?p.jsxs("p",{className:"text-sm",children:[n-i," characters remaining"]}):i>n?p.jsxs("p",{className:"text-sm",children:["Remove ",i-n," characters"]}):p.jsx("p",{className:"text-sm",children:" chars remaining"})}Za.propTypes={field:I.string.isRequired,min:I.number,max:I.number};function no({children:e}){return p.jsx("div",{className:"-mt-2 mb-0.5 text-sm text-gray-700 flex flex-col gap-y-1",children:e})}no.propTypes={children:I.node.isRequired};function wi({characterCount:e=!1,children:t=null,className:n=null,hintText:r=null,id:i,label:o,maxlength:s=null,minlength:a=null,name:l,placeholder:d=null,required:u=!1,resize:h,rows:m=8,value:f=""}){const{setFieldValue:g,values:b}=Je();return c.useEffect(()=>{g(i,b[i]||f)},[]),p.jsxs("div",{className:`flex flex-col gap-y-3 text-lg leading-tight ${n}`,children:[p.jsx("label",{className:"font-semibold tracking-tight",htmlFor:i,children:o}),r?p.jsx(no,{children:r}):null,p.jsx(Ut,{as:"textarea",className:`
          mt-1 block w-full max-w-prose rounded-md border-gray-400 text-gray-900 shadow-sm
          ${h?"":"resize-none"}
          sm:text-sm
          focus:outline-none focus:ring-oxford-500 focus:border-oxford-500
        `,maxLength:s,minLength:a,name:l,placeholder:d,required:u,rows:m}),e&&(a||s)?p.jsx(Za,{field:i,max:s,min:a}):null,t]})}wi.propTypes={characterCount:I.bool,children:I.node,className:I.string,hintText:I.node,id:I.string.isRequired,label:I.string.isRequired,maxlength:I.number,minlength:I.number,name:I.string.isRequired,placeholder:I.string,required:I.bool,resize:I.bool.isRequired,rows:I.number,value:I.string};function Im(){const[,e]=ft(),{formData:t,setFormData:n}=De();if(xn(["codelistA","codelistB","timeOption","filterPopulation"]))return p.jsx(bn,{to:""});const r=Xt().shape({purpose:Be().required("Write a purpose for this analysis").min(1,"Add a purpose").max(1e3,"Purpose is too long"),title:Be().required("Write a title for this analysis").min(1,"Add a title").max(140,"Title is too long")}),i={purpose:t.purpose||"",title:t.title||""};return p.jsx(yr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/review-request")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>p.jsxs(En,{className:"flex flex-col gap-y-4",children:[p.jsx(Or,{}),p.jsx("h1",{className:"text-4xl font-bold",children:"Analysis information"}),p.jsx(wi,{characterCount:!0,className:"mb-6",hintText:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"The title will be shown at the top of the generated report. It should provide a short summary to anyone reading the report about what the analysis shows."}),p.jsx("p",{children:"You will be able to change this after the report is generated."})]}),id:"title",label:"Provide a title for the analysis",maxlength:140,name:"title",placeholder:"",required:!0,resize:!1,rows:2,value:`${t.codelistA.label} & ${t.codelistB.label} during the COVID-19 pandemic`,children:o.title&&a.title?p.jsx(at,{children:o.title}):null}),p.jsx(wi,{characterCount:!0,hintText:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"It must be clear that this analysis request is aligned with your approvals."}),p.jsx("p",{children:"Please refer to the approved version of your project application form, which you were sent by email."})]}),id:"purpose",label:"Explain why this analysis fits with the approved project purpose",maxlength:1e3,name:"purpose",required:!0,resize:!1}),o.purpose&&a.purpose?p.jsx(at,{children:o.purpose}):null,p.jsx("div",{className:"flex flex-row w-full gap-2 mt-4",children:p.jsx(ht,{disabled:!s,type:"submit",children:"Next"})})]})})}const Pe=["The number of people who had","added to their health record each month from","to","who have also had","added to their health record in the same month as","or"],Xa="before.",Ve="at any time prior.",qn=e=>`up to ${e.timeValue} ${e.timeScale} before.`;function Yn({children:e,legend:t,hideLegend:n=!1}){return p.jsxs("fieldset",{children:[p.jsx("legend",{className:n?"sr-only":"text-2xl font-bold mb-4",children:p.jsx("h2",{children:t})}),p.jsx("div",{className:"flex flex-col gap-4",children:e})]})}Yn.propTypes={children:I.node.isRequired,hideLegend:I.bool,legend:I.string.isRequired};function Zn({children:e=null,id:t,label:n,labelClassName:r=null,name:i,onClick:o=()=>null,value:s}){return p.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[p.jsx(Ut,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:t,name:i,onClick:o,type:"radio",value:s}),p.jsx("label",{"aria-label":e?n:null,className:`cursor-pointer touch-manipulation tracking-tight ${r||""}`,htmlFor:t,children:e||n})]})}Zn.propTypes={children:I.node,id:I.string.isRequired,label:I.string.isRequired,labelClassName:I.string,name:I.string.isRequired,onClick:I.func,value:I.string.isRequired};const Ja=typeof document<"u"?V.useLayoutEffect:()=>{};function Pm(e){const t=c.useRef(null);return Ja(()=>{t.current=e},[e]),c.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Sn=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},wt=e=>e&&"window"in e&&e.window===e?e:Sn(e).defaultView||window;function _m(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Mm(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function km(){return Mm(/^Mac/i)}function Lm(){return _m(/Android/i)}function Dm(e){return e.mozInputSource===0&&e.isTrusted?!0:Lm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Nm{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function Qa(e){let t=c.useRef({isFocused:!1,observer:null});Ja(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Pm(r=>{e==null||e(r)});return c.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{t.current.isFocused=!1,i.disabled&&n(new Nm("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Vm(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=c.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=Qa(o),a=c.useCallback(l=>{const d=Sn(l.target);l.target===l.currentTarget&&d.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}let Tn=null,Ei=new Set,ln=new Map,Ct=!1,Si=!1;const Bm={Tab:!0,Escape:!0};function ro(e,t){for(let n of Ei)n(e,t)}function Hm(e){return!(e.metaKey||!km()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Xn(e){Ct=!0,Hm(e)&&(Tn="keyboard",ro("keyboard",e))}function _e(e){Tn="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Ct=!0,ro("pointer",e))}function el(e){Dm(e)&&(Ct=!0,Tn="virtual")}function tl(e){e.target===window||e.target===document||(!Ct&&!Si&&(Tn="virtual",ro("virtual",e)),Ct=!1,Si=!1)}function nl(){Ct=!1,Si=!0}function Ti(e){if(typeof window>"u"||ln.get(wt(e)))return;const t=wt(e),n=Sn(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ct=!0,r.apply(this,arguments)},n.addEventListener("keydown",Xn,!0),n.addEventListener("keyup",Xn,!0),n.addEventListener("click",el,!0),t.addEventListener("focus",tl,!0),t.addEventListener("blur",nl,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",_e,!0),n.addEventListener("pointermove",_e,!0),n.addEventListener("pointerup",_e,!0)):(n.addEventListener("mousedown",_e,!0),n.addEventListener("mousemove",_e,!0),n.addEventListener("mouseup",_e,!0)),t.addEventListener("beforeunload",()=>{rl(e)},{once:!0}),ln.set(t,{focus:r})}const rl=(e,t)=>{const n=wt(e),r=Sn(e);t&&r.removeEventListener("DOMContentLoaded",t),ln.has(n)&&(n.HTMLElement.prototype.focus=ln.get(n).focus,r.removeEventListener("keydown",Xn,!0),r.removeEventListener("keyup",Xn,!0),r.removeEventListener("click",el,!0),n.removeEventListener("focus",tl,!0),n.removeEventListener("blur",nl,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",_e,!0),r.removeEventListener("pointermove",_e,!0),r.removeEventListener("pointerup",_e,!0)):(r.removeEventListener("mousedown",_e,!0),r.removeEventListener("mousemove",_e,!0),r.removeEventListener("mouseup",_e,!0)),ln.delete(n))};function zm(e){const t=Sn(e);let n;return t.readyState!=="loading"?Ti(e):(n=()=>{Ti(e)},t.addEventListener("DOMContentLoaded",n)),()=>rl(e,n)}typeof document<"u"&&zm();function il(){return Tn!=="pointer"}const qm=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Um(e,t,n){var r;const i=typeof window<"u"?wt(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?wt(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?wt(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?wt(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!qm.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!Bm[n.key])}function Wm(e,t,n){Ti(),c.useEffect(()=>{let r=(i,o)=>{Um(!!(n!=null&&n.isTextInput),i,o)&&e(il())};return Ei.add(r),()=>{Ei.delete(r)}},t)}function Gm(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=c.useRef({isFocusWithin:!1}),s=c.useCallback(d=>{o.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(d),i&&i(!1))},[n,i,o]),a=Qa(s),l=c.useCallback(d=>{!o.current.isFocusWithin&&document.activeElement===d.target&&(r&&r(d),i&&i(!0),o.current.isFocusWithin=!0,a(d))},[r,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let Jn=!1,Jr=0;function Oi(){Jn=!0,setTimeout(()=>{Jn=!1},50)}function vs(e){e.pointerType==="touch"&&Oi()}function Km(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",vs):document.addEventListener("touchend",Oi),Jr++,()=>{Jr--,!(Jr>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",vs):document.removeEventListener("touchend",Oi))}}function $r(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=c.useState(!1),a=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(Km,[]);let{hoverProps:l,triggerHoverEnd:d}=c.useMemo(()=>{let u=(f,g)=>{if(a.pointerType=g,i||g==="touch"||a.isHovered||!f.currentTarget.contains(f.target))return;a.isHovered=!0;let b=f.currentTarget;a.target=b,t&&t({type:"hoverstart",target:b,pointerType:g}),n&&n(!0),s(!0)},h=(f,g)=>{if(a.pointerType="",a.target=null,g==="touch"||!a.isHovered)return;a.isHovered=!1;let b=f.currentTarget;r&&r({type:"hoverend",target:b,pointerType:g}),n&&n(!1),s(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=f=>{Jn&&f.pointerType==="mouse"||u(f,f.pointerType)},m.onPointerLeave=f=>{!i&&f.currentTarget.contains(f.target)&&h(f,f.pointerType)}):(m.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=f=>{!a.ignoreEmulatedMouseEvents&&!Jn&&u(f,"mouse"),a.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=f=>{!i&&f.currentTarget.contains(f.target)&&h(f,"mouse")}),{hoverProps:m,triggerHoverEnd:h}},[t,n,r,i,a]);return c.useEffect(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function On(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=c.useRef({isFocused:!1,isFocusVisible:t||il()}),[o,s]=c.useState(!1),[a,l]=c.useState(()=>i.current.isFocused&&i.current.isFocusVisible),d=c.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=c.useCallback(f=>{i.current.isFocused=f,s(f),d()},[d]);Wm(f=>{i.current.isFocusVisible=f,d()},[],{isTextInput:n});let{focusProps:h}=Vm({isDisabled:r,onFocusChange:u}),{focusWithinProps:m}=Gm({isDisabled:!r,onFocusWithinChange:u});return{isFocused:o,isFocusVisible:a,focusProps:r?m:h}}var Ym=Object.defineProperty,Zm=(e,t,n)=>t in e?Ym(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qr=(e,t,n)=>(Zm(e,typeof t!="symbol"?t+"":t,n),n);let Xm=class{constructor(){Qr(this,"current",this.detect()),Qr(this,"handoffState","pending"),Qr(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ot=new Xm;function Mt(e){return Ot.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function io(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function je(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return io(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=je();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Le(){let[e]=c.useState(je);return c.useEffect(()=>()=>e.dispose(),[e]),e}let Y=(e,t)=>{Ot.isServer?c.useEffect(e,t):c.useLayoutEffect(e,t)};function xe(e){let t=c.useRef(e);return Y(()=>{t.current=e},[e]),t}let F=function(e){let t=xe(e);return V.useCallback((...n)=>t.current(...n),[t])};function Jm(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Qm(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function oo({disabled:e=!1}={}){let t=c.useRef(null),[n,r]=c.useState(!1),i=Le(),o=F(()=>{t.current=null,r(!1),i.dispose()}),s=F(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=Mt(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",d=>{if(t.current){let u=Jm(d);r(Qm(u,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let eg=c.createContext(void 0);function Cr(){return c.useContext(eg)}function un(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function re(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,re),r}var lt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(lt||{}),rt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(rt||{});function fe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??tg;let l=ol(t,e);if(o)return Dn(l,n,r,s,a);let d=i??0;if(d&2){let{static:u=!1,...h}=l;if(u)return Dn(h,n,r,s,a)}if(d&1){let{unmount:u=!0,...h}=l;return re(u?0:1,{0(){return null},1(){return Dn({...h,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return Dn(l,n,r,s,a)}function Dn(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=ei(e,["unmount","static"]),d=e.ref!==void 0?{[a]:e.ref}:{},u=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let m=!1,f=[];for(let[g,b]of Object.entries(t))typeof b=="boolean"&&(m=!0),b===!0&&f.push(g.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(m){h["data-headlessui-state"]=f.join(" ");for(let g of f)h[`data-${g}`]=""}}if(o===c.Fragment&&(Object.keys(bt(l)).length>0||Object.keys(bt(h)).length>0))if(!c.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(bt(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(bt(l)).concat(Object.keys(bt(h))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=u.props,f=m==null?void 0:m.className,g=typeof f=="function"?(...x)=>un(f(...x),l.className):un(f,l.className),b=g?{className:g}:{},v=ol(u.props,bt(ei(l,["ref"])));for(let x in h)x in v&&delete h[x];return c.cloneElement(u,Object.assign({},v,h,d,{ref:i(u.ref,d.ref)},b))}return c.createElement(o,Object.assign({},ei(l,["ref"]),o!==c.Fragment&&d,o!==c.Fragment&&h),u)}function tg(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function ol(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function kt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function ce(e){var t;return Object.assign(c.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function bt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ei(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function sl(e,t,n){let[r,i]=c.useState(n),o=e!==void 0,s=c.useRef(o),a=c.useRef(!1),l=c.useRef(!1);return o&&!s.current&&!a.current?(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,F(d=>(o||i(d),t==null?void 0:t(d)))]}function al(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))ul(n,ll(t,r),i);return n}function ll(e,t){return e?e+"["+t+"]":t}function ul(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())ul(e,ll(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):al(n,t,e)}function ng(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let rg="div";var Rr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Rr||{});function ig(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return fe({ourProps:o,theirProps:i,slot:{},defaultTag:rg,name:"Hidden"})}let Fr=ce(ig),og=c.createContext(null);function sg({children:e}){let t=c.useContext(og);if(!t)return V.createElement(V.Fragment,null,e);let{target:n}=t;return n?ot.createPortal(V.createElement(V.Fragment,null,e),n):null}function cl({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,s]=c.useState(null),a=Le();return c.useEffect(()=>{if(r&&o)return a.addEventListener(o,"reset",r)},[o,t,r]),V.createElement(sg,null,V.createElement(ag,{setForm:s,formId:t}),al(e).map(([l,d])=>V.createElement(Fr,{features:Rr.Hidden,...bt({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:d,...i})})))}function ag({setForm:e,formId:t}){return c.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:V.createElement(Fr,{features:Rr.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let lg=c.createContext(void 0);function so(){return c.useContext(lg)}function dl(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&ug(n)?!1:r}function ug(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let fl=Symbol();function cg(e,t=!0){return Object.assign(e,{[fl]:t})}function pe(...e){let t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);let n=F(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[fl]))?void 0:n}let ao=c.createContext(null);ao.displayName="DescriptionContext";function pl(){let e=c.useContext(ao);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,pl),t}return e}function hl(){var e,t;return(t=(e=c.useContext(ao))==null?void 0:e.value)!=null?t:void 0}let dg="p";function fg(e,t){let n=c.useId(),r=Cr(),{id:i=`headlessui-description-${n}`,...o}=e,s=pl(),a=pe(t);Y(()=>s.register(i),[i,s.register]);let l=r||!1,d=c.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),u={ref:a,...s.props,id:i};return fe({ourProps:u,theirProps:o,slot:d,defaultTag:dg,name:s.name||"Description"})}let pg=ce(fg);Object.assign(pg,{});var W=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(W||{});let jr=c.createContext(null);jr.displayName="LabelContext";function ml(){let e=c.useContext(jr);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ml),t}return e}function $n(e){var t,n,r;let i=(n=(t=c.useContext(jr))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function gl({inherit:e=!1}={}){let t=$n(),[n,r]=c.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,c.useMemo(()=>function(o){let s=F(l=>(r(d=>[...d,l]),()=>r(d=>{let u=d.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=c.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return V.createElement(jr.Provider,{value:a},o.children)},[r])]}let hg="label";function mg(e,t){var n;let r=c.useId(),i=ml(),o=so(),s=Cr(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:d=!1,...u}=e,h=pe(t);Y(()=>i.register(a),[a,i.register]);let m=F(v=>{let x=v.currentTarget;if(x instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),x instanceof HTMLLabelElement){let w=document.getElementById(x.htmlFor);if(w){let E=w.getAttribute("disabled");if(E==="true"||E==="")return;let S=w.getAttribute("aria-disabled");if(S==="true"||S==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),f=s||!1,g=c.useMemo(()=>({...i.slot,disabled:f}),[i.slot,f]),b={ref:h,...i.props,id:a,htmlFor:l,onClick:m};return d&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in u&&delete u.onClick),fe({ourProps:b,theirProps:u,slot:g,defaultTag:l?hg:"div",name:i.name||"Label"})}let gg=ce(mg),vl=Object.assign(gg,{});function nn(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let d;n.key&&((o=n.debug)!=null&&o.call(n))&&(d=Date.now());const u=e();if(!(u.length!==r.length||u.some((f,g)=>r[g]!==f)))return i;r=u;let m;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(m=Date.now()),i=t(...u),n.key&&((a=n.debug)!=null&&a.call(n))){const f=Math.round((Date.now()-d)*100)/100,g=Math.round((Date.now()-m)*100)/100,b=g/16,v=(x,w)=>{for(x=String(x);x.length<w;)x=" "+x;return x};console.info(`%c⏱ ${v(g,5)} /${v(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function ti(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const vg=(e,t)=>Math.abs(e-t)<1,bg=(e,t)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}},xg=e=>e,yg=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},wg=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=o=>{const{width:s,height:a}=o;t({width:Math.round(s),height:Math.round(a)})};if(r(n.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const i=new ResizeObserver(o=>{const s=o[0];if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a){r({width:a.inlineSize,height:a.blockSize});return}}r(n.getBoundingClientRect())});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},bs={passive:!0},Eg=typeof window>"u"?!0:"onscrollend"in window,Sg=(e,t)=>{const n=e.scrollElement;if(!n)return;let r=0;const i=Eg?()=>{}:bg(()=>{t(r,!1)},e.options.isScrollingResetDelay),o=l=>()=>{r=n[e.options.horizontal?"scrollLeft":"scrollTop"],i(),t(r,l)},s=o(!0),a=o(!1);return a(),n.addEventListener("scroll",s,bs),n.addEventListener("scrollend",a,bs),()=>{n.removeEventListener("scroll",s),n.removeEventListener("scrollend",a)}},Tg=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Og=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class $g{constructor(t){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(typeof ResizeObserver<"u"?n=new ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}):null);return{disconnect:()=>{var i;return(i=r())==null?void 0:i.disconnect()},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:xg,rangeExtractor:yg,onChange:()=>{},measureElement:Tg,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,r)=>{var i,o;const{startIndex:s,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(n||s!==(l==null?void 0:l.startIndex)||a!==(l==null?void 0:l.endIndex))&&((o=(i=this.options).onChange)==null||o.call(i,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.scrollOffset<r?"forward":"backward":null,this.scrollOffset=r;const o=this.isScrolling;this.isScrolling=i,this.notify(o!==i,i)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=nn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,r,i,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o}),{key:!1}),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurements=nn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o},s)=>{const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,a);for(let d=a;d<n;d++){const u=o(d),h=this.options.lanes===1?l[d-1]:this.getFurthestMeasurement(l,d),m=h?h.end+this.options.gap:r+i,f=s.get(u),g=typeof f=="number"?f:this.options.estimateSize(d),b=m+g,v=h?h.lane:d%this.options.lanes;l[d]={index:d,start:m,size:g,end:b,key:u,lane:v}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=nn(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,r,i)=>this.range=n.length>0&&r>0?Cg({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=nn(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.measurementsCache[this.indexFromElement(n)];if(!i||!n.isConnected){this.measureElementCache.forEach((a,l)=>{a===n&&(this.observer.unobserve(n),this.measureElementCache.delete(l))});return}const o=this.measureElementCache.get(i.key);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.measureElementCache.set(i.key,n));const s=this.options.measureElement(n,r,this);this.resizeItem(i,s)},this.resizeItem=(n,r)=>{const i=this.itemSizeCache.get(n.key)??n.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,o,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=nn(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();return ti(r[bl(0,r.length-1,i=>ti(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize();r==="auto"&&(n<=this.scrollOffset?r="start":n>=this.scrollOffset+i?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-i:r==="center"&&(n=n-i/2);const o=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-this.getSize();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=ti(this.getMeasurements()[n]);if(r==="auto")if(i.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)r="end";else if(i.start<=this.scrollOffset+this.options.scrollPaddingStart)r="start";else return[this.scrollOffset,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r),r]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[o,s]=this.getOffsetForIndex(n,r);this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[l]=this.getOffsetForIndex(n,s);vg(l,this.scrollOffset)||this.scrollToIndex(n,{align:s,behavior:i})}else this.scrollToIndex(n,{align:s,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),i-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const bl=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Cg({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=bl(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const Rg=typeof document<"u"?c.useLayoutEffect:c.useEffect;function Fg(e){const t=c.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?ot.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=c.useState(()=>new $g(n));return r.setOptions(n),c.useEffect(()=>r._didMount(),[]),Rg(()=>r._willUpdate()),r}function jg(e){return Fg({observeElementRect:wg,observeElementOffset:Sg,scrollToFn:Og,...e})}function Ag(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function xl(e=Ag){return c.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function Ig(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function $i(e,t=!1){let n=e===null?null:"current"in e?e.current:e,[r,i]=c.useReducer(()=>({}),{}),o=c.useMemo(()=>Ig(n),[n,r]);return Y(()=>{if(!n)return;let s=new ResizeObserver(i);return s.observe(n),()=>{s.disconnect()}},[n]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}function Pg(){let e=Le();return F(t=>{e.dispose(),e.nextFrame(t)})}let Ci=new Map,cn=new Map;function xs(e){var t;let n=(t=cn.get(e))!=null?t:0;return cn.set(e,n+1),n!==0?()=>ys(e):(Ci.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ys(e))}function ys(e){var t;let n=(t=cn.get(e))!=null?t:1;if(n===1?cn.delete(e):cn.set(e,n-1),n!==1)return;let r=Ci.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ci.delete(e))}function yl({allowed:e,disallowed:t}={},n=!0){Y(()=>{var r,i;if(!n)return;let o=je();for(let a of(r=t==null?void 0:t())!=null?r:[])a&&o.add(xs(a));let s=(i=e==null?void 0:e())!=null?i:[];for(let a of s){if(!a)continue;let l=Mt(a);if(!l)continue;let d=a.parentElement;for(;d&&d!==l.body;){for(let u of d.children)s.some(h=>u.contains(h))||o.add(xs(u));d=d.parentElement}}return o.dispose},[n,e,t])}function lo(e,t,n=!0){let r=xe(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&t()});c.useEffect(()=>{if(!n)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let o=je();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[e,r,n])}let Ri=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),_g=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ne=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ne||{}),on=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(on||{}),Mg=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Mg||{});function kg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ri)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Lg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(_g)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var uo=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(uo||{});function wl(e,t=0){var n;return e===((n=Mt(e))==null?void 0:n.body)?!1:re(t,{0(){return e.matches(Ri)},1(){let r=e;for(;r!==null;){if(r.matches(Ri))return!0;r=r.parentElement}return!1}})}var Dg=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Dg||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Ng=["textarea","input"].join(",");function Vg(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Ng))!=null?n:!1}function it(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Dt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?it(e):e:t&64?Lg(e):kg(e);i.length>0&&s.length>1&&(s=s.filter(f=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===f:g===f))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},u=0,h=s.length,m;do{if(u>=h||u+h<=0)return 0;let f=l+u;if(t&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}m=s[f],m==null||m.focus(d),u+=a}while(m!==o.activeElement);return t&6&&Vg(m)&&m.select(),2}function El(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Bg(){return/Android/gi.test(window.navigator.userAgent)}function Sl(){return El()||Bg()}function Nn(e,t,n){let r=xe(t);c.useEffect(()=>{function i(o){r.current(o)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Hg(e,t,n){let r=xe(t);c.useEffect(()=>{function i(o){r.current(o)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function Tl(e,t,n=!0){let r=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(s,a){if(!r.current||s.defaultPrevented)return;let l=a(s);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let d=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let u of d){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(l)||s.composed&&s.composedPath().includes(h))return}return!wl(l,uo.Loose)&&l.tabIndex!==-1&&s.preventDefault(),t(s,l)}let o=c.useRef(null);Nn("pointerdown",s=>{var a,l;r.current&&(o.current=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),Nn("mousedown",s=>{var a,l;r.current&&(o.current=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),Nn("click",s=>{Sl()||o.current&&(i(s,()=>o.current),o.current=null)},!0),Nn("touchend",s=>i(s,()=>s.target instanceof HTMLElement?s.target:null),!0),Hg("blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Cn(...e){return c.useMemo(()=>Mt(...e),[...e])}function zg(e,t,n,r){let i=xe(n);c.useEffect(()=>{e=e??window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Ol(e){let t=c.useRef({value:"",selectionStart:null,selectionEnd:null});return zg(e.current,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),F(()=>{let n=e.current;if(document.activeElement!==n&&n instanceof HTMLInputElement&&n.isConnected){if(n.focus({preventScroll:!0}),n.value!==t.current.value)n.setSelectionRange(n.value.length,n.value.length);else{let{selectionStart:r,selectionEnd:i}=t.current;r!==null&&i!==null&&n.setSelectionRange(r,i)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function ws(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function co(e,t){let[n,r]=c.useState(()=>ws(e));return Y(()=>{r(ws(e))},[e.type,e.as]),Y(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function qg(e){return c.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Ug(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function Wg(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Gg(){return El()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=je();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),u=e.querySelector(d);u&&!r(u)&&(s=u)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Kg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Yg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Et=Ug(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:je(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Yg(n)},i=[Gg(),Wg(),Kg()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Et.subscribe(()=>{let e=Et.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Et.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Et.dispatch("TEARDOWN",n)}});function Zg(e,t,n=()=>({containers:[]})){let r=qg(Et),i=e?r.get(e):void 0,o=i?i.count>0:!1;return Y(()=>{if(!(!e||!t))return Et.dispatch("PUSH",e,n),()=>Et.dispatch("POP",e,n)},[t,e]),o}function $l(e,t,n=()=>[document.body]){Zg(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function Es(e){return[e.screenX,e.screenY]}function Cl(){let e=c.useRef([-1,-1]);return{wasMoved(t){let n=Es(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Es(t)}}}function Xg({container:e,accept:t,walk:n,enabled:r=!0}){let i=c.useRef(t),o=c.useRef(n);c.useEffect(()=>{i.current=t,o.current=n},[t,n]),Y(()=>{if(!e||!r)return;let s=Mt(e);if(!s)return;let a=i.current,l=o.current,d=Object.assign(h=>a(h),{acceptNode:a}),u=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)l(u.currentNode)},[e,r,i,o])}function Ss(e,t){let n=c.useRef([]),r=F(e);c.useEffect(()=>{let i=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let a=r(t,i);return n.current=t,a}},[r,...t])}function Jt(e){return Rl(e)?(e.nodeName||"").toLowerCase():"#document"}function Fe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qe(e){var t;return(t=(Rl(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rl(e){return e instanceof Node||e instanceof Fe(e).Node}function Se(e){return e instanceof Element||e instanceof Fe(e).Element}function qe(e){return e instanceof HTMLElement||e instanceof Fe(e).HTMLElement}function Ts(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fe(e).ShadowRoot}function Rn(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=He(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Jg(e){return["table","td","th"].includes(Jt(e))}function fo(e){const t=po(),n=He(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Qg(e){let t=ut(e);for(;qe(t)&&!Wt(t);){if(fo(t))return t;t=ut(t)}return null}function po(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wt(e){return["html","body","#document"].includes(Jt(e))}function He(e){return Fe(e).getComputedStyle(e)}function Ar(e){return Se(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ut(e){if(Jt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ts(e)&&e.host||Qe(e);return Ts(t)?t.host:t}function Fl(e){const t=ut(e);return Wt(t)?e.ownerDocument?e.ownerDocument.body:e.body:qe(t)&&Rn(t)?t:Fl(t)}function gn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Fl(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Fe(i);return o?t.concat(s,s.visualViewport||[],Rn(i)?i:[],s.frameElement&&n?gn(s.frameElement):[]):t.concat(i,gn(i,[],n))}function ev(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const Gt=Math.min,$e=Math.max,Qn=Math.round,Vn=Math.floor,ct=e=>({x:e,y:e}),tv={left:"right",right:"left",bottom:"top",top:"bottom"},nv={start:"end",end:"start"};function Os(e,t,n){return $e(e,Gt(t,n))}function Fn(e,t){return typeof e=="function"?e(t):e}function dt(e){return e.split("-")[0]}function jn(e){return e.split("-")[1]}function jl(e){return e==="x"?"y":"x"}function Al(e){return e==="y"?"height":"width"}function An(e){return["top","bottom"].includes(dt(e))?"y":"x"}function Il(e){return jl(An(e))}function rv(e,t,n){n===void 0&&(n=!1);const r=jn(e),i=Il(e),o=Al(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=er(s)),[s,er(s)]}function iv(e){const t=er(e);return[Fi(e),t,Fi(t)]}function Fi(e){return e.replace(/start|end/g,t=>nv[t])}function ov(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function sv(e,t,n,r){const i=jn(e);let o=ov(dt(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Fi)))),o}function er(e){return e.replace(/left|right|bottom|top/g,t=>tv[t])}function av(e){return{top:0,right:0,bottom:0,left:0,...e}}function lv(e){return typeof e!="number"?av(e):{top:e,right:e,bottom:e,left:e}}function tr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function $s(e,t,n){let{reference:r,floating:i}=e;const o=An(t),s=Il(t),a=Al(s),l=dt(t),d=o==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(jn(t)){case"start":f[s]-=m*(n&&d?-1:1);break;case"end":f[s]+=m*(n&&d?-1:1);break}return f}const uv=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=$s(d,r,l),m=r,f={},g=0;for(let b=0;b<a.length;b++){const{name:v,fn:x}=a[b],{x:w,y:E,data:S,reset:T}=await x({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:d,platform:s,elements:{reference:e,floating:t}});u=w??u,h=E??h,f={...f,[v]:{...f[v],...S}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(d=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:u,y:h}=$s(d,m,l)),b=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:f}};async function Ir(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Fn(t,e),g=lv(f),v=a[m?h==="floating"?"reference":"floating":h],x=tr(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},T=tr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(x.top-T.top+g.top)/S.y,bottom:(T.bottom-x.bottom+g.bottom)/S.y,left:(x.left-T.left+g.left)/S.x,right:(T.right-x.right+g.right)/S.x}}const cv=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...v}=Fn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=dt(i),w=dt(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(d.floating)),S=m||(w||!b?[er(a)]:iv(a));!m&&g!=="none"&&S.push(...sv(a,b,g,E));const T=[a,...S],O=await Ir(t,v),C=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&C.push(O[x]),h){const $=rv(i,s,E);C.push(O[$[0]],O[$[1]])}if(R=[...R,{placement:i,overflows:C}],!C.every($=>$<=0)){var M,H;const $=(((M=o.flip)==null?void 0:M.index)||0)+1,k=T[$];if(k)return{data:{index:$,overflows:R},reset:{placement:k}};let q=(H=R.filter(P=>P.overflows[0]<=0).sort((P,A)=>P.overflows[1]-A.overflows[1])[0])==null?void 0:H.placement;if(!q)switch(f){case"bestFit":{var j;const P=(j=R.map(A=>[A.placement,A.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((A,U)=>A[1]-U[1])[0])==null?void 0:j[0];P&&(q=P);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};async function dv(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=dt(n),a=jn(n),l=An(n)==="y",d=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,h=Fn(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const fv=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await dv(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},pv=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=Fn(e,t),d={x:n,y:r},u=await Ir(t,l),h=An(dt(i)),m=jl(h);let f=d[m],g=d[h];if(o){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=f+u[v],E=f-u[x];f=Os(w,f,E)}if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=g+u[v],E=g-u[x];g=Os(w,g,E)}const b=a.fn({...t,[m]:f,[h]:g});return{...b,data:{x:b.x-n,y:b.y-r}}}}},hv=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=Fn(e,t),l=await Ir(t,a),d=dt(n),u=jn(n),h=An(n)==="y",{width:m,height:f}=r.floating;let g,b;d==="top"||d==="bottom"?(g=d,b=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=d,g=u==="end"?"top":"bottom");const v=f-l[g],x=m-l[b],w=!t.middlewareData.shift;let E=v,S=x;if(h){const O=m-l.left-l.right;S=u||w?Gt(x,O):O}else{const O=f-l.top-l.bottom;E=u||w?Gt(v,O):O}if(w&&!u){const O=$e(l.left,0),C=$e(l.right,0),R=$e(l.top,0),M=$e(l.bottom,0);h?S=m-2*(O!==0||C!==0?O+C:$e(l.left,l.right)):E=f-2*(R!==0||M!==0?R+M:$e(l.top,l.bottom))}await s({...t,availableWidth:S,availableHeight:E});const T=await i.getDimensions(o.floating);return m!==T.width||f!==T.height?{reset:{rects:!0}}:{}}}};function Pl(e){const t=He(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=qe(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Qn(n)!==o||Qn(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function ho(e){return Se(e)?e:e.contextElement}function Ht(e){const t=ho(e);if(!qe(t))return ct(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Pl(t);let s=(o?Qn(n.width):n.width)/r,a=(o?Qn(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const mv=ct(0);function _l(e){const t=Fe(e);return!po()||!t.visualViewport?mv:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gv(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fe(e)?!1:t}function Rt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=ho(e);let s=ct(1);t&&(r?Se(r)&&(s=Ht(r)):s=Ht(e));const a=gv(o,n,r)?_l(o):ct(0);let l=(i.left+a.x)/s.x,d=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const m=Fe(o),f=r&&Se(r)?Fe(r):r;let g=m,b=g.frameElement;for(;b&&r&&f!==g;){const v=Ht(b),x=b.getBoundingClientRect(),w=He(b),E=x.left+(b.clientLeft+parseFloat(w.paddingLeft))*v.x,S=x.top+(b.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,d*=v.y,u*=v.x,h*=v.y,l+=E,d+=S,g=Fe(b),b=g.frameElement}}return tr({width:u,height:h,x:l,y:d})}const vv=[":popover-open",":modal"];function mo(e){return vv.some(t=>{try{return e.matches(t)}catch{return!1}})}function bv(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Qe(r),a=t?mo(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},d=ct(1);const u=ct(0),h=qe(r);if((h||!h&&!o)&&((Jt(r)!=="body"||Rn(s))&&(l=Ar(r)),qe(r))){const m=Rt(r);d=Ht(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+u.x,y:n.y*d.y-l.scrollTop*d.y+u.y}}function xv(e){return Array.from(e.getClientRects())}function Ml(e){return Rt(Qe(e)).left+Ar(e).scrollLeft}function yv(e){const t=Qe(e),n=Ar(e),r=e.ownerDocument.body,i=$e(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=$e(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ml(e);const a=-n.scrollTop;return He(r).direction==="rtl"&&(s+=$e(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function wv(e,t){const n=Fe(e),r=Qe(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const d=po();(!d||d&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Ev(e,t){const n=Rt(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=qe(e)?Ht(e):ct(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,d=r*o.y;return{width:s,height:a,x:l,y:d}}function Cs(e,t,n){let r;if(t==="viewport")r=wv(e,n);else if(t==="document")r=yv(Qe(e));else if(Se(t))r=Ev(t,n);else{const i=_l(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return tr(r)}function kl(e,t){const n=ut(e);return n===t||!Se(n)||Wt(n)?!1:He(n).position==="fixed"||kl(n,t)}function Sv(e,t){const n=t.get(e);if(n)return n;let r=gn(e,[],!1).filter(a=>Se(a)&&Jt(a)!=="body"),i=null;const o=He(e).position==="fixed";let s=o?ut(e):e;for(;Se(s)&&!Wt(s);){const a=He(s),l=fo(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rn(s)&&!l&&kl(e,s))?r=r.filter(u=>u!==s):i=a,s=ut(s)}return t.set(e,r),r}function Tv(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?mo(t)?[]:Sv(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((d,u)=>{const h=Cs(t,u,i);return d.top=$e(h.top,d.top),d.right=Gt(h.right,d.right),d.bottom=Gt(h.bottom,d.bottom),d.left=$e(h.left,d.left),d},Cs(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ov(e){const{width:t,height:n}=Pl(e);return{width:t,height:n}}function $v(e,t,n){const r=qe(t),i=Qe(t),o=n==="fixed",s=Rt(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ct(0);if(r||!r&&!o)if((Jt(t)!=="body"||Rn(i))&&(a=Ar(t)),r){const h=Rt(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Ml(i));const d=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:d,y:u,width:s.width,height:s.height}}function ni(e){return He(e).position==="static"}function Rs(e,t){return!qe(e)||He(e).position==="fixed"?null:t?t(e):e.offsetParent}function Ll(e,t){const n=Fe(e);if(mo(e))return n;if(!qe(e)){let i=ut(e);for(;i&&!Wt(i);){if(Se(i)&&!ni(i))return i;i=ut(i)}return n}let r=Rs(e,t);for(;r&&Jg(r)&&ni(r);)r=Rs(r,t);return r&&Wt(r)&&ni(r)&&!fo(r)?n:r||Qg(e)||n}const Cv=async function(e){const t=this.getOffsetParent||Ll,n=this.getDimensions,r=await n(e.floating);return{reference:$v(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rv(e){return He(e).direction==="rtl"}const Fv={convertOffsetParentRelativeRectToViewportRelativeRect:bv,getDocumentElement:Qe,getClippingRect:Tv,getOffsetParent:Ll,getElementRects:Cv,getClientRects:xv,getDimensions:Ov,getScale:Ht,isElement:Se,isRTL:Rv};function jv(e,t){let n=null,r;const i=Qe(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:d,top:u,width:h,height:m}=e.getBoundingClientRect();if(a||t(),!h||!m)return;const f=Vn(u),g=Vn(i.clientWidth-(d+h)),b=Vn(i.clientHeight-(u+m)),v=Vn(d),w={rootMargin:-f+"px "+-g+"px "+-b+"px "+-v+"px",threshold:$e(0,Gt(1,l))||1};let E=!0;function S(T){const O=T[0].intersectionRatio;if(O!==l){if(!E)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return s(!0),o}function Av(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=ho(e),u=i||o?[...d?gn(d):[],...gn(t)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=d&&a?jv(d,n):null;let m=-1,f=null;s&&(f=new ResizeObserver(x=>{let[w]=x;w&&w.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(t)})),n()}),d&&!l&&f.observe(d),f.observe(t));let g,b=l?Rt(e):null;l&&v();function v(){const x=Rt(e);b&&(x.x!==b.x||x.y!==b.y||x.width!==b.width||x.height!==b.height)&&n(),b=x,g=requestAnimationFrame(v)}return n(),()=>{var x;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const ri=Ir,Dl=fv,Iv=pv,Pv=cv,_v=hv,Mv=(e,t,n)=>{const r=new Map,i={platform:Fv,...n},o={...i.platform,_c:r};return uv(e,t,{...i,platform:o})};var Un=typeof document<"u"?c.useLayoutEffect:c.useEffect;function nr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!nr(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!nr(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Nl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fs(e,t){const n=Nl(e);return Math.round(t*n)/n}function js(e){const t=c.useRef(e);return Un(()=>{t.current=e}),t}function kv(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:d}=e,[u,h]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=c.useState(r);nr(m,r)||f(r);const[g,b]=c.useState(null),[v,x]=c.useState(null),w=c.useCallback(U=>{U!==O.current&&(O.current=U,b(U))},[]),E=c.useCallback(U=>{U!==C.current&&(C.current=U,x(U))},[]),S=o||g,T=s||v,O=c.useRef(null),C=c.useRef(null),R=c.useRef(u),M=l!=null,H=js(l),j=js(i),$=c.useCallback(()=>{if(!O.current||!C.current)return;const U={placement:t,strategy:n,middleware:m};j.current&&(U.platform=j.current),Mv(O.current,C.current,U).then(z=>{const G={...z,isPositioned:!0};k.current&&!nr(R.current,G)&&(R.current=G,ot.flushSync(()=>{h(G)}))})},[m,t,n,j]);Un(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[d]);const k=c.useRef(!1);Un(()=>(k.current=!0,()=>{k.current=!1}),[]),Un(()=>{if(S&&(O.current=S),T&&(C.current=T),S&&T){if(H.current)return H.current(S,T,$);$()}},[S,T,$,H,M]);const q=c.useMemo(()=>({reference:O,floating:C,setReference:w,setFloating:E}),[w,E]),P=c.useMemo(()=>({reference:S,floating:T}),[S,T]),A=c.useMemo(()=>{const U={position:n,left:0,top:0};if(!P.floating)return U;const z=Fs(P.floating,u.x),G=Fs(P.floating,u.y);return a?{...U,transform:"translate("+z+"px, "+G+"px)",...Nl(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:G}},[n,a,P.floating,u.x,u.y]);return c.useMemo(()=>({...u,update:$,refs:q,elements:P,floatingStyles:A}),[u,$,q,P,A])}const Vl={...fn},Lv=Vl.useInsertionEffect,Dv=Lv||(e=>e());function Bl(e){const t=c.useRef(()=>{});return Dv(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var ji=typeof document<"u"?c.useLayoutEffect:c.useEffect;let As=!1,Nv=0;const Is=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Nv++;function Vv(){const[e,t]=c.useState(()=>As?Is():void 0);return ji(()=>{e==null&&t(Is())},[]),c.useEffect(()=>{As=!0},[]),e}const Bv=Vl.useId,Hv=Bv||Vv;function zv(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const qv=c.createContext(null),Uv=c.createContext(null),Wv=()=>{var e;return((e=c.useContext(qv))==null?void 0:e.id)||null},Gv=()=>c.useContext(Uv);function Kv(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Hv(),o=c.useRef({}),[s]=c.useState(()=>zv()),a=Wv()!=null,[l,d]=c.useState(r.reference),u=Bl((f,g,b)=>{o.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:b,nested:a}),n==null||n(f,g,b)}),h=c.useMemo(()=>({setPositionReference:d}),[]),m=c.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return c.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:m,events:s,floatingId:i,refs:h}),[t,u,m,s,i,h])}function Yv(e){e===void 0&&(e={});const{nodeId:t}=e,n=Kv({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=c.useState(null),[a,l]=c.useState(null),u=(i==null?void 0:i.reference)||o,h=c.useRef(null),m=Gv();ji(()=>{u&&(h.current=u)},[u]);const f=kv({...e,elements:{...i,...a&&{reference:a}}}),g=c.useCallback(E=>{const S=Se(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(S),f.refs.setReference(S)},[f.refs]),b=c.useCallback(E=>{(Se(E)||E===null)&&(h.current=E,s(E)),(Se(f.refs.reference.current)||f.refs.reference.current===null||E!==null&&!Se(E))&&f.refs.setReference(E)},[f.refs]),v=c.useMemo(()=>({...f.refs,setReference:b,setPositionReference:g,domReference:h}),[f.refs,b,g]),x=c.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),w=c.useMemo(()=>({...f,...r,refs:v,elements:x,nodeId:t}),[f,v,x,t,r]);return ji(()=>{r.dataRef.current.floatingContext=w;const E=m==null?void 0:m.nodesRef.current.find(S=>S.id===t);E&&(E.context=w)}),c.useMemo(()=>({...f,context:w,refs:v,elements:x}),[f,v,x,w])}const Ps="active",_s="selected";function ii(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Ps]:s,[_s]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[d,u]=l;if(!(i&&[Ps,_s].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof u=="function"){var h;(h=r.get(d))==null||h.push(u),s[d]=function(){for(var m,f=arguments.length,g=new Array(f),b=0;b<f;b++)g[b]=arguments[b];return(m=r.get(d))==null?void 0:m.map(v=>v(...g)).find(v=>v!==void 0)}}}else s[d]=u}),s),{})}}function Zv(e){e===void 0&&(e=[]);const t=e,n=c.useCallback(o=>ii(o,e,"reference"),t),r=c.useCallback(o=>ii(o,e,"floating"),t),i=c.useCallback(o=>ii(o,e,"item"),e.map(o=>o==null?void 0:o.item));return c.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function Ms(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Xv=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:d,...u}=e,{rects:h,elements:{floating:m}}=t,f=n.current[s];if(!f)return{};const g={...t,...await Dl(-f.offsetTop-m.clientTop-h.reference.height/2-f.offsetHeight/2-o).fn(t)},b=(d==null?void 0:d.current)||m,v=await ri(Ms(g,b.scrollHeight),u),x=await ri(g,{...u,elementContext:"reference"}),w=Math.max(0,v.top),E=g.y+w,S=Math.max(0,b.scrollHeight-w-Math.max(0,v.bottom));return b.style.maxHeight=S+"px",b.scrollTop=w,i&&(b.offsetHeight<f.offsetHeight*Math.min(a,n.current.length-1)-1||x.top>=-l||x.bottom>=-l?ot.flushSync(()=>i(!0)):ot.flushSync(()=>i(!1))),r&&(r.current=await ri(Ms({...g,y:E},b.offsetHeight),u)),{y:E}}});function Jv(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=Bl(a),d=c.useRef(!1),u=c.useRef(null),h=c.useRef(null);return c.useEffect(()=>{if(!i)return;function m(g){if(g.ctrlKey||!f||o.current==null)return;const b=g.deltaY,v=o.current.top>=-.5,x=o.current.bottom>=-.5,w=f.scrollHeight-f.clientHeight,E=b<0?-1:1,S=b<0?"max":"min";f.scrollHeight<=f.clientHeight||(!v&&b>0||!x&&b<0?(g.preventDefault(),ot.flushSync(()=>{l(T=>T+Math[S](b,w*E))})):/firefox/i.test(ev())&&(f.scrollTop+=b))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",m),requestAnimationFrame(()=>{u.current=f.scrollTop,o.current!=null&&(h.current={...o.current})}),()=>{u.current=null,h.current=null,f.removeEventListener("wheel",m)}},[i,n,r.floating,o,s,l]),c.useMemo(()=>i?{floating:{onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const m=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!m||!d.current)){if(u.current!==null){const f=m.scrollTop-u.current;(o.current.bottom<-.5&&f<-1||o.current.top<-.5&&f>1)&&ot.flushSync(()=>l(g=>g+f))}requestAnimationFrame(()=>{u.current=m.scrollTop})}}}}:{},[i,o,r.floating,s,l])}let Qt=c.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Qt.displayName="FloatingContext";let go=c.createContext(null);go.displayName="PlacementContext";function Hl(e){return c.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function zl(){return c.useContext(Qt).setReference}function Qv(){return c.useContext(Qt).getReferenceProps}function ql(){let{getFloatingProps:e,slot:t}=c.useContext(Qt);return c.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Ul(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=c.useContext(go),n=c.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(i,o)=>o instanceof HTMLElement?o.outerHTML:o:void 0)]);Y(()=>{t==null||t(n??null)},[t,n]);let r=c.useContext(Qt);return c.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let ks=4;function Wl({children:e,enabled:t=!0}){let[n,r]=c.useState(null),[i,o]=c.useState(0),s=c.useRef(null),[a,l]=c.useState(null);eb(a);let d=t&&n!==null&&a!==null,{to:u="bottom",gap:h=0,offset:m=0,padding:f=0,inner:g}=tb(n,a),[b,v="center"]=u.split(" ");Y(()=>{d&&o(0)},[d]);let{refs:x,floatingStyles:w,context:E}=Yv({open:d,placement:b==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${b}`:`${b}-${v}`,strategy:"absolute",transform:!1,middleware:[Dl({mainAxis:b==="selection"?0:h,crossAxis:m}),Iv({padding:f}),b!=="selection"&&Pv({padding:f}),b==="selection"&&g?Xv({...g,padding:f,overflowRef:s,offset:i,minItemsVisible:ks,referenceOverflowThreshold:f,onFallbackChange(j){var $,k;if(!j)return;let q=E.elements.floating;if(!q)return;let P=parseFloat(getComputedStyle(q).scrollPaddingBottom)||0,A=Math.min(ks,q.childElementCount),U=0,z=0;for(let G of(k=($=E.elements.floating)==null?void 0:$.childNodes)!=null?k:[])if(G instanceof HTMLElement){let de=G.offsetTop,me=de+G.clientHeight+P,le=q.scrollTop,he=le+q.clientHeight;if(de>=le&&me<=he)A--;else{z=Math.max(0,Math.min(me,he)-Math.max(de,le)),U=G.clientHeight;break}}A>=1&&o(G=>{let de=U*A-z+P;return G>=de?G:de})}}):null,_v({padding:f,apply({availableWidth:j,availableHeight:$,elements:k}){Object.assign(k.floating.style,{overflow:"auto",maxWidth:`${j}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${$}px)`})}})].filter(Boolean),whileElementsMounted:Av}),[S=b,T=v]=E.placement.split("-");b==="selection"&&(S="selection");let O=c.useMemo(()=>({anchor:[S,T].filter(Boolean).join(" ")}),[S,T]),C=Jv(E,{overflowRef:s,onChange:o}),{getReferenceProps:R,getFloatingProps:M}=Zv([C]),H=F(j=>{l(j),x.setFloating(j)});return c.createElement(go.Provider,{value:r},c.createElement(Qt.Provider,{value:{setFloating:H,setReference:x.setReference,styles:w,getReferenceProps:R,getFloatingProps:M,slot:O}},e))}function eb(e){Y(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=e.style.maxHeight;parseFloat(n)!==parseInt(n)&&(e.style.maxHeight=`${Math.ceil(parseFloat(n))}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function tb(e,t){var n,r,i;let o=oi((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=oi((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=oi((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}function oi(e,t,n=void 0){let r=Le(),i=F((l,d)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!d)return[n,null];let u=Ls(l,d);return[u,h=>{let m=Gl(l);{let f=m.map(g=>window.getComputedStyle(d).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let b=!1;for(let[x,w]of m.entries()){let E=window.getComputedStyle(d).getPropertyValue(w);if(f[x]!==E){f[x]=E,b=!0;break}}if(!b)return;let v=Ls(l,d);u!==v&&(h(v),u=v)})}return r.dispose}]}return[n,null]}),o=c.useMemo(()=>i(e,t)[0],[e,t]),[s=o,a]=c.useState();return Y(()=>{let[l,d]=i(e,t);if(a(l),!!d)return d(a)},[e,t]),s}function Gl(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...Gl(i)]:[r]}return[]}function Ls(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let vo=c.createContext(null);vo.displayName="OpenClosedContext";var be=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(be||{});function Pr(){return c.useContext(vo)}function bo({value:e,children:t}){return V.createElement(vo.Provider,{value:e},t)}function nb(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let yt=[];nb(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&yt[0]!==t.target&&(yt.unshift(t.target),yt=yt.filter(n=>n!=null&&n.isConnected),yt.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function rb(e){throw new Error("Unexpected object: "+e)}var K=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(K||{});function dn(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:rb(e)}}var xo=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(xo||{});function ib(e){let t=F(e),n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,io(()=>{n.current&&t()})}),[t])}function ob(){let e=typeof document>"u";return"useSyncExternalStore"in fn?(t=>t.useSyncExternalStore)(fn)(()=>()=>{},()=>!1,()=>!e):!1}function yo(){let e=ob(),[t,n]=c.useState(Ot.isHandoffComplete);return t&&Ot.isHandoffComplete===!1&&n(!1),c.useEffect(()=>{t!==!0&&n(!0)},[t]),c.useEffect(()=>Ot.handoff(),[]),e?!1:t}let sb=c.createContext(!1);function ab(){return c.useContext(sb)}function lb(e){let t=ab(),n=c.useContext(Yl),r=Cn(e),[i,o]=c.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(Ot.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return c.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),c.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let Kl=c.Fragment,ub=ce(function(e,t){let n=e,r=c.useRef(null),i=pe(cg(u=>{r.current=u}),t),o=Cn(r),s=lb(r),[a]=c.useState(()=>{var u;return Ot.isServer?null:(u=o==null?void 0:o.createElement("div"))!=null?u:null}),l=c.useContext(pb),d=yo();return Y(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),Y(()=>{if(a&&l)return l.register(a)},[l,a]),ib(()=>{var u;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((u=s.parentElement)==null||u.removeChild(s)))}),d?!s||!a?null:ot.createPortal(fe({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Kl,name:"Portal"}),a):null});function cb(e,t){let n=pe(t),{enabled:r=!0,...i}=e;return r?V.createElement(ub,{...i,ref:n}):fe({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Kl,name:"Portal"})}let db=c.Fragment,Yl=c.createContext(null);function fb(e,t){let{target:n,...r}=e,i={ref:pe(t)};return V.createElement(Yl.Provider,{value:n},fe({ourProps:i,theirProps:r,defaultTag:db,name:"Popover.Group"}))}let pb=c.createContext(null),hb=ce(cb),mb=ce(fb),Zl=Object.assign(hb,{Group:mb});var gb={},vb=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(vb||{}),bb=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bb||{}),xb=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(xb||{}),yb=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.SetActivationTrigger=5]="SetActivationTrigger",e[e.UpdateVirtualOptions=6]="UpdateVirtualOptions",e))(yb||{});function si(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,a)=>s.dataRef.current.order-a.dataRef.current.order):it(r,s=>s.dataRef.current.domRef.current),o=n?i.indexOf(n):null;return o===-1&&(o=null),{options:i,activeOptionIndex:o}}let wb={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},2(e,t){var n,r,i,o,s;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((i=e.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let u=t.focus===K.Specific?t.idx:dn(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var m,f;return(f=(m=e.activeOptionIndex)!=null?m:e.virtual.options.findIndex(g=>!e.virtual.disabled(g)))!=null?f:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),h=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===u&&e.activationTrigger===h?e:{...e,activeOptionIndex:u,activationTrigger:h,__demoMode:!1}}let a=si(e);if(a.activeOptionIndex===null){let u=a.options.findIndex(h=>!h.dataRef.current.disabled);u!==-1&&(a.activeOptionIndex=u)}let l=t.focus===K.Specific?t.idx:dn(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),d=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===l&&e.activationTrigger===d?e:{...e,...a,activeOptionIndex:l,activationTrigger:d,__demoMode:!1}},3:(e,t)=>{var n,r,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let o=t.payload,s=si(e,l=>(l.push(o),l));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(o));let a={...e,...s,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let r=si(e,i=>{let o=i.findIndex(s=>s.id===t.id);return o!==-1&&i.splice(o,1),i});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},6:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?r=i:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},wo=c.createContext(null);wo.displayName="ComboboxActionsContext";function In(e){let t=c.useContext(wo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,In),n}return t}let Xl=c.createContext(null);function Eb(e){var t;let n=en("VirtualProvider"),[r,i]=c.useMemo(()=>{let d=n.optionsRef.current;if(!d)return[0,0];let u=window.getComputedStyle(d);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[n.optionsRef.current]),o=jg({scrollPaddingStart:r,scrollPaddingEnd:i,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var d;return(d=n.optionsRef.current)!=null?d:null},overscan:12}),[s,a]=c.useState(0);Y(()=>{a(d=>d+1)},[(t=n.virtual)==null?void 0:t.options]);let l=o.getVirtualItems();return l.length===0?null:V.createElement(Xl.Provider,{value:o},V.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:d=>{if(d){if(typeof process<"u"&&gb.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&o.scrollToIndex(n.activeOptionIndex)}}},l.map(d=>{var u;return V.createElement(c.Fragment,{key:d.key},V.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n.virtual.options[d.index],open:n.comboboxState===0}),{key:`${s}-${d.key}`,"data-index":d.index,"aria-setsize":n.virtual.options.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let _r=c.createContext(null);_r.displayName="ComboboxDataContext";function en(e){let t=c.useContext(_r);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,en),n}return t}function Sb(e,t){return re(t.type,wb,e,t)}let Tb=c.Fragment;function Ob(e,t){var n,r;let i=Cr(),{value:o,defaultValue:s,onChange:a,form:l,name:d,by:u,disabled:h=i||!1,onClose:m,__demoMode:f=!1,multiple:g=!1,immediate:b=!1,virtual:v=null,nullable:x,...w}=e,[E=g?[]:void 0,S]=sl(o,a,s),[T,O]=c.useReducer(Sb,{dataRef:c.createRef(),comboboxState:f?0:1,options:[],virtual:v?{options:v.options,disabled:(n=v.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:f}),C=c.useRef(!1),R=c.useRef({static:!1,hold:!1}),M=c.useRef(null),H=c.useRef(null),j=c.useRef(null),$=xl(u),k=F(N=>v?u===null?v.options.indexOf(N):v.options.findIndex(Z=>$(Z,N)):T.options.findIndex(Z=>$(Z.dataRef.current.value,N))),q=c.useCallback(N=>re(A.mode,{1:()=>E.some(Z=>$(Z,N)),0:()=>$(E,N)}),[E]),P=F(N=>T.activeOptionIndex===k(N)),A=c.useMemo(()=>({...T,immediate:b,optionsPropsRef:R,inputRef:M,buttonRef:H,optionsRef:j,value:E,defaultValue:s,disabled:h,mode:g?1:0,virtual:T.virtual,get activeOptionIndex(){if(C.current&&T.activeOptionIndex===null&&(v?v.options.length>0:T.options.length>0)){if(v){let Z=v.options.findIndex(ye=>{var mt,_n;return!((_n=(mt=v==null?void 0:v.disabled)==null?void 0:mt.call(v,ye))!=null&&_n)});if(Z!==-1)return Z}let N=T.options.findIndex(Z=>!Z.dataRef.current.disabled);if(N!==-1)return N}return T.activeOptionIndex},calculateIndex:k,compare:$,isSelected:q,isActive:P}),[E,s,h,g,f,T,v]);Y(()=>{v&&O({type:6,options:v.options})},[v,v==null?void 0:v.options]),Y(()=>{T.dataRef.current=A},[A]),Tl([A.buttonRef,A.inputRef,A.optionsRef],()=>ue.closeCombobox(),A.comboboxState===0);let U=c.useMemo(()=>{var N,Z,ye;return{open:A.comboboxState===0,disabled:h,activeIndex:A.activeOptionIndex,activeOption:A.activeOptionIndex===null?null:A.virtual?A.virtual.options[(N=A.activeOptionIndex)!=null?N:0]:(ye=(Z=A.options[A.activeOptionIndex])==null?void 0:Z.dataRef.current.value)!=null?ye:null,value:E}},[A,h,E]),z=F(()=>{if(A.activeOptionIndex!==null){if(A.virtual)he(A.virtual.options[A.activeOptionIndex]);else{let{dataRef:N}=A.options[A.activeOptionIndex];he(N.current.value)}ue.goToOption(K.Specific,A.activeOptionIndex)}}),G=F(()=>{O({type:0}),C.current=!0}),de=F(()=>{O({type:1}),C.current=!1,m==null||m()}),me=F((N,Z,ye)=>(C.current=!1,N===K.Specific?O({type:2,focus:K.Specific,idx:Z,trigger:ye}):O({type:2,focus:N,trigger:ye}))),le=F((N,Z)=>(O({type:3,payload:{id:N,dataRef:Z}}),()=>{A.isActive(Z.current.value)&&(C.current=!0),O({type:4,id:N})})),he=F(N=>re(A.mode,{0(){return S==null?void 0:S(N)},1(){let Z=A.value.slice(),ye=Z.findIndex(mt=>$(mt,N));return ye===-1?Z.push(N):Z.splice(ye,1),S==null?void 0:S(Z)}})),L=F(N=>{O({type:5,trigger:N})}),ue=c.useMemo(()=>({onChange:he,registerOption:le,goToOption:me,closeCombobox:de,openCombobox:G,setActivationTrigger:L,selectActiveOption:z}),[]),[ee,te]=gl(),J=t===null?{}:{ref:t},Q=c.useCallback(()=>S==null?void 0:S(s),[S]);return V.createElement(te,{value:ee,props:{htmlFor:(r=A.inputRef.current)==null?void 0:r.id},slot:{open:A.comboboxState===0,disabled:h}},V.createElement(Wl,null,V.createElement(wo.Provider,{value:ue},V.createElement(_r.Provider,{value:A},V.createElement(bo,{value:re(A.comboboxState,{0:be.Open,1:be.Closed})},d!=null&&V.createElement(cl,{disabled:h,data:E!=null?{[d]:E}:{},form:l,onReset:Q}),fe({ourProps:J,theirProps:w,slot:U,defaultTag:Tb,name:"Combobox"}))))))}let $b="input";function Cb(e,t){var n,r,i,o,s;let a=en("Combobox.Input"),l=In("Combobox.Input"),d=c.useId(),u=so(),{id:h=u||`headlessui-combobox-input-${d}`,onChange:m,displayValue:f,disabled:g=a.disabled||!1,autoFocus:b=!1,type:v="text",...x}=e,w=pe(a.inputRef,t,zl()),E=Cn(a.inputRef),S=c.useRef(!1),T=Le(),O=F(()=>{l.onChange(null),a.optionsRef.current&&(a.optionsRef.current.scrollTop=0),l.goToOption(K.Nothing)}),C=c.useMemo(()=>{var L;return typeof f=="function"&&a.value!==void 0?(L=f(a.value))!=null?L:"":typeof a.value=="string"?a.value:""},[a.value,f]);Ss(([L,ue],[ee,te])=>{if(S.current)return;let J=a.inputRef.current;J&&((te===0&&ue===1||L!==ee)&&(J.value=L),requestAnimationFrame(()=>{if(S.current||!J||(E==null?void 0:E.activeElement)!==J)return;let{selectionStart:Q,selectionEnd:N}=J;Math.abs((N??0)-(Q??0))===0&&Q===0&&J.setSelectionRange(J.value.length,J.value.length)}))},[C,a.comboboxState,E]),Ss(([L],[ue])=>{if(L===0&&ue===1){if(S.current)return;let ee=a.inputRef.current;if(!ee)return;let te=ee.value,{selectionStart:J,selectionEnd:Q,selectionDirection:N}=ee;ee.value="",ee.value=te,N!==null?ee.setSelectionRange(J,Q,N):ee.setSelectionRange(J,Q)}},[a.comboboxState]);let R=c.useRef(!1),M=F(()=>{R.current=!0}),H=F(()=>{T.nextFrame(()=>{R.current=!1})}),j=Pg(),$=F(L=>{switch(S.current=!0,j(()=>{S.current=!1}),L.key){case W.Enter:if(S.current=!1,a.comboboxState!==0||R.current)return;if(L.preventDefault(),L.stopPropagation(),a.activeOptionIndex===null){l.closeCombobox();return}l.selectActiveOption(),a.mode===0&&l.closeCombobox();break;case W.ArrowDown:return S.current=!1,L.preventDefault(),L.stopPropagation(),re(a.comboboxState,{0:()=>l.goToOption(K.Next),1:()=>l.openCombobox()});case W.ArrowUp:return S.current=!1,L.preventDefault(),L.stopPropagation(),re(a.comboboxState,{0:()=>l.goToOption(K.Previous),1:()=>{l.openCombobox(),T.nextFrame(()=>{a.value||l.goToOption(K.Last)})}});case W.Home:if(L.shiftKey)break;return S.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.First);case W.PageUp:return S.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.First);case W.End:if(L.shiftKey)break;return S.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.Last);case W.PageDown:return S.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.Last);case W.Escape:return S.current=!1,a.comboboxState!==0?void 0:(L.preventDefault(),a.optionsRef.current&&!a.optionsPropsRef.current.static&&L.stopPropagation(),a.mode===0&&a.value===null&&O(),l.closeCombobox());case W.Tab:if(S.current=!1,a.comboboxState!==0)return;a.mode===0&&a.activationTrigger!==1&&l.selectActiveOption(),l.closeCombobox();break}}),k=F(L=>{m==null||m(L),a.mode===0&&L.target.value===""&&O(),l.openCombobox()}),q=F(L=>{var ue,ee,te;let J=(ue=L.relatedTarget)!=null?ue:yt.find(Q=>Q!==L.currentTarget);if(S.current=!1,!((ee=a.optionsRef.current)!=null&&ee.contains(J))&&!((te=a.buttonRef.current)!=null&&te.contains(J))&&a.comboboxState===0)return L.preventDefault(),a.mode===0&&a.value===null&&O(),l.closeCombobox()}),P=F(L=>{var ue,ee,te;let J=(ue=L.relatedTarget)!=null?ue:yt.find(Q=>Q!==L.currentTarget);(ee=a.buttonRef.current)!=null&&ee.contains(J)||(te=a.optionsRef.current)!=null&&te.contains(J)||a.disabled||a.immediate&&a.comboboxState!==0&&(l.openCombobox(),T.nextFrame(()=>{l.setActivationTrigger(1)}))}),A=$n(),U=hl(),{isFocused:z,focusProps:G}=On({autoFocus:b}),{isHovered:de,hoverProps:me}=$r({isDisabled:g}),le=c.useMemo(()=>({open:a.comboboxState===0,disabled:g,hover:de,focus:z,autofocus:b}),[a,de,z,b,g]),he=kt({ref:w,id:h,role:"combobox",type:v,"aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.comboboxState===0,"aria-activedescendant":a.activeOptionIndex===null?void 0:a.virtual?(r=a.options.find(L=>!L.dataRef.current.disabled&&a.compare(L.dataRef.current.value,a.virtual.options[a.activeOptionIndex])))==null?void 0:r.id:(i=a.options[a.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":A,"aria-describedby":U,"aria-autocomplete":"list",defaultValue:(s=(o=e.defaultValue)!=null?o:a.defaultValue!==void 0?f==null?void 0:f(a.defaultValue):null)!=null?s:a.defaultValue,disabled:g||void 0,autoFocus:b,onCompositionStart:M,onCompositionEnd:H,onKeyDown:$,onChange:k,onFocus:P,onBlur:q},G,me);return fe({ourProps:he,theirProps:x,slot:le,defaultTag:$b,name:"Combobox.Input"})}let Rb="button";function Fb(e,t){var n;let r=en("Combobox.Button"),i=In("Combobox.Button"),o=pe(r.buttonRef,t),s=c.useId(),{id:a=`headlessui-combobox-button-${s}`,disabled:l=r.disabled||!1,autoFocus:d=!1,...u}=e,h=Le(),m=Ol(r.inputRef),f=F(R=>{switch(R.key){case W.Space:case W.Enter:return R.preventDefault(),R.stopPropagation(),r.comboboxState===1&&i.openCombobox(),h.nextFrame(()=>m());case W.ArrowDown:return R.preventDefault(),R.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),h.nextFrame(()=>{r.value||i.goToOption(K.First)})),h.nextFrame(()=>m());case W.ArrowUp:return R.preventDefault(),R.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),h.nextFrame(()=>{r.value||i.goToOption(K.Last)})),h.nextFrame(()=>m());case W.Escape:return r.comboboxState!==0?void 0:(R.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&R.stopPropagation(),i.closeCombobox(),h.nextFrame(()=>m()));default:return}}),g=F(R=>{R.preventDefault(),!dl(R.currentTarget)&&(R.button===xo.Left&&(r.comboboxState===0?i.closeCombobox():i.openCombobox()),m())}),b=$n([a]),{isFocusVisible:v,focusProps:x}=On({autoFocus:d}),{isHovered:w,hoverProps:E}=$r({isDisabled:l}),{pressed:S,pressProps:T}=oo({disabled:l}),O=c.useMemo(()=>({open:r.comboboxState===0,active:S||r.comboboxState===0,disabled:l,value:r.value,hover:w,focus:v}),[r,w,v,S,l]),C=kt({ref:o,id:a,type:co(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":b,disabled:l||void 0,autoFocus:d,onMouseDown:g,onKeyDown:f},x,E,T);return fe({ourProps:C,theirProps:u,slot:O,defaultTag:Rb,name:"Combobox.Button"})}let jb="div",Ab=lt.RenderStrategy|lt.Static;function Ib(e,t){var n;let r=c.useId(),{id:i=`headlessui-combobox-options-${r}`,hold:o=!1,anchor:s,portal:a=!1,modal:l=!0,...d}=e,u=en("Combobox.Options"),h=In("Combobox.Options"),m=Hl(s);m&&(a=!0);let[f,g]=Ul(m),b=ql(),v=pe(u.optionsRef,t,m?f:null),x=Cn(u.optionsRef),w=Pr(),E=w!==null?(w&be.Open)===be.Open:u.comboboxState===0;lo(u.inputRef,h.closeCombobox,E),$l(x,u.__demoMode?!1:l&&u.comboboxState===0),yl({allowed:F(()=>[u.inputRef.current,u.buttonRef.current,u.optionsRef.current])},u.__demoMode?!1:l&&u.comboboxState===0),Y(()=>{var j;u.optionsPropsRef.current.static=(j=e.static)!=null?j:!1},[u.optionsPropsRef,e.static]),Y(()=>{u.optionsPropsRef.current.hold=o},[u.optionsPropsRef,o]),Xg({container:u.optionsRef.current,enabled:u.comboboxState===0,accept(j){return j.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:j.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(j){j.setAttribute("role","none")}});let S=$n([(n=u.buttonRef.current)==null?void 0:n.id]),T=c.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u]),O=F(()=>{h.setActivationTrigger(0)}),C=kt(m?b():{},{"aria-labelledby":S,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:i,ref:v,style:{...g,"--input-width":$i(u.inputRef,!0).width,"--button-width":$i(u.buttonRef,!0).width},onWheel:O});u.virtual&&E&&Object.assign(d,{children:V.createElement(Eb,null,d.children)});let[R,M]=c.useState(u.value);u.value!==R&&u.comboboxState===0&&u.mode!==1&&M(u.value);let H=F(j=>u.compare(R,j));return V.createElement(Zl,{enabled:a?e.static||E:!1},V.createElement(_r.Provider,{value:u.mode===1?u:{...u,isSelected:H}},fe({ourProps:C,theirProps:d,slot:T,defaultTag:jb,features:Ab,visible:E,name:"Combobox.Options"})))}let Pb="div";function _b(e,t){var n,r,i;let o=en("Combobox.Option"),s=In("Combobox.Option"),a=c.useId(),{id:l=`headlessui-combobox-option-${a}`,value:d,disabled:u=(r=(n=o.virtual)==null?void 0:n.disabled(d))!=null?r:!1,order:h=null,...m}=e,f=Ol(o.inputRef),g=o.virtual?o.activeOptionIndex===o.calculateIndex(d):o.activeOptionIndex===null?!1:((i=o.options[o.activeOptionIndex])==null?void 0:i.id)===l,b=o.isSelected(d),v=c.useRef(null),x=xe({disabled:u,value:d,domRef:v,order:h}),w=c.useContext(Xl),E=pe(t,v,w?w.measureElement:null),S=F(()=>s.onChange(d));Y(()=>s.registerOption(l,x),[x,l]);let T=c.useRef(!(o.virtual||o.__demoMode));Y(()=>{if(!o.virtual&&!o.__demoMode)return je().requestAnimationFrame(()=>{T.current=!0})},[o.virtual,o.__demoMode]),Y(()=>{if(T.current&&o.comboboxState===0&&g&&o.activationTrigger!==0)return je().requestAnimationFrame(()=>{var k,q;(q=(k=v.current)==null?void 0:k.scrollIntoView)==null||q.call(k,{block:"nearest"})})},[v,g,o.comboboxState,o.activationTrigger,o.activeOptionIndex]);let O=F(k=>{k.preventDefault(),k.button===xo.Left&&(u||(S(),Sl()||requestAnimationFrame(()=>f()),o.mode===0&&s.closeCombobox()))}),C=F(()=>{if(u)return s.goToOption(K.Nothing);let k=o.calculateIndex(d);s.goToOption(K.Specific,k)}),R=Cl(),M=F(k=>R.update(k)),H=F(k=>{if(!R.wasMoved(k)||u||g)return;let q=o.calculateIndex(d);s.goToOption(K.Specific,q,0)}),j=F(k=>{R.wasMoved(k)&&(u||g&&(o.optionsPropsRef.current.hold||s.goToOption(K.Nothing)))}),$=c.useMemo(()=>({active:g,focus:g,selected:b,disabled:u}),[g,b,u]);return fe({ourProps:{id:l,ref:E,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:O,onFocus:C,onPointerEnter:M,onMouseEnter:M,onPointerMove:H,onMouseMove:H,onPointerLeave:j,onMouseLeave:j},theirProps:m,slot:$,defaultTag:Pb,name:"Combobox.Option"})}let Mb=ce(Ob),kb=ce(Fb),Jl=ce(Cb),Lb=vl,Ql=ce(Ib),eu=ce(_b),Db=Object.assign(Mb,{Input:Jl,Button:kb,Label:Lb,Options:Ql,Option:eu});function Mr(){let e=c.useRef(!1);return Y(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Nb(e,t){let[n,r]=c.useState(e),i=xe(e);return Y(()=>r(i.current),[i,r,...t]),n}function Vb(e,t=!0){let n=c.useRef({left:0,top:0});if(Y(()=>{let i=e.current;if(!i)return;let o=i.getBoundingClientRect();o&&(n.current=o)},[t]),e.current==null||!t||e.current===document.activeElement)return!1;let r=e.current.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Ds=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ns(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return Ds.test(s)&&(s=s.replace(Ds,"")),s}function Bb(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():Ns(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Ns(e).trim()}function Hb(e){let t=c.useRef(""),n=c.useRef("");return F(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=Bb(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var zb=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(zb||{}),qb=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(qb||{}),Ub=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ub||{}),Wb=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e))(Wb||{});function ai(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=it(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Gb={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===K.Nothing)return{...a,activeOptionIndex:null};if(t.focus===K.Specific)return{...a,activeOptionIndex:e.options.findIndex(u=>u.id===t.id)};if(t.focus===K.Previous){let u=e.activeOptionIndex;if(u!==null){let h=e.options[u].dataRef.current.domRef,m=dn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(m!==null){let f=e.options[m].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:m}}}}else if(t.focus===K.Next){let u=e.activeOptionIndex;if(u!==null){let h=e.options[u].dataRef.current.domRef,m=dn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(m!==null){let f=e.options[m].dataRef.current.domRef;if(((o=h.current)==null?void 0:o.nextElementSibling)===f.current||((s=f.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeOptionIndex:m}}}}let l=ai(e),d=dn(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeOptionIndex:d}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var a;return!s.dataRef.current.disabled&&((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ai(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=ai(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}}},Eo=c.createContext(null);Eo.displayName="ListboxActionsContext";function kr(e){let t=c.useContext(Eo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kr),n}return t}let Lr=c.createContext(null);Lr.displayName="ListboxDataContext";function Pn(e){let t=c.useContext(Lr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pn),n}return t}function Kb(e,t){return re(t.type,Gb,e,t)}let Yb=c.Fragment;function Zb(e,t){var n;let r=Cr(),{value:i,defaultValue:o,form:s,name:a,onChange:l,by:d,invalid:u=!1,disabled:h=r||!1,horizontal:m=!1,multiple:f=!1,__demoMode:g=!1,...b}=e;const v=m?"horizontal":"vertical";let x=pe(t),[w=f?[]:void 0,E]=sl(i,l,o),[S,T]=c.useReducer(Kb,{dataRef:c.createRef(),listboxState:g?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,__demoMode:g}),O=c.useRef({static:!1,hold:!1}),C=c.useRef(null),R=c.useRef(null),M=c.useRef(new Map),H=xl(d),j=c.useCallback(Q=>re($.mode,{1:()=>w.some(N=>H(N,Q)),0:()=>H(w,Q)}),[w]),$=c.useMemo(()=>({...S,value:w,disabled:h,invalid:u,mode:f?1:0,orientation:v,compare:H,isSelected:j,optionsPropsRef:O,buttonRef:C,optionsRef:R,listRef:M}),[w,h,u,f,S,M]);Y(()=>{S.dataRef.current=$},[$]),Tl([$.buttonRef,$.optionsRef],(Q,N)=>{var Z;T({type:1}),wl(N,uo.Loose)||(Q.preventDefault(),(Z=$.buttonRef.current)==null||Z.focus())},$.listboxState===0);let k=c.useMemo(()=>({open:$.listboxState===0,disabled:h,invalid:u,value:w}),[$,h,w,u]),q=F(Q=>{let N=$.options.find(Z=>Z.id===Q);N&&me(N.dataRef.current.value)}),P=F(()=>{if($.activeOptionIndex!==null){let{dataRef:Q,id:N}=$.options[$.activeOptionIndex];me(Q.current.value),T({type:2,focus:K.Specific,id:N})}}),A=F(()=>T({type:0})),U=F(()=>T({type:1})),z=Le(),G=F((Q,N,Z)=>{z.dispose(),z.microTask(()=>Q===K.Specific?T({type:2,focus:K.Specific,id:N,trigger:Z}):T({type:2,focus:Q,trigger:Z}))}),de=F((Q,N)=>(T({type:5,id:Q,dataRef:N}),()=>T({type:6,id:Q}))),me=F(Q=>re($.mode,{0(){return E==null?void 0:E(Q)},1(){let N=$.value.slice(),Z=N.findIndex(ye=>H(ye,Q));return Z===-1?N.push(Q):N.splice(Z,1),E==null?void 0:E(N)}})),le=F(Q=>T({type:3,value:Q})),he=F(()=>T({type:4})),L=c.useMemo(()=>({onChange:me,registerOption:de,goToOption:G,closeListbox:U,openListbox:A,selectActiveOption:P,selectOption:q,search:le,clearSearch:he}),[]),[ue,ee]=gl({inherit:!0}),te={ref:x},J=c.useCallback(()=>E==null?void 0:E(o),[E]);return V.createElement(ee,{value:ue,props:{htmlFor:(n=$.buttonRef.current)==null?void 0:n.id},slot:{open:$.listboxState===0,disabled:h}},V.createElement(Wl,null,V.createElement(Eo.Provider,{value:L},V.createElement(Lr.Provider,{value:$},V.createElement(bo,{value:re($.listboxState,{0:be.Open,1:be.Closed})},a!=null&&w!=null&&V.createElement(cl,{disabled:h,data:{[a]:w},form:s,onReset:J}),fe({ourProps:te,theirProps:b,slot:k,defaultTag:Yb,name:"Listbox"}))))))}let Xb="button";function Jb(e,t){var n;let r=Pn("Listbox.Button"),i=kr("Listbox.Button"),o=c.useId(),s=so(),{id:a=s||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:d=!1,...u}=e,h=pe(r.buttonRef,t,zl()),m=Qv(),f=Le(),g=F($=>{switch($.key){case W.Enter:ng($.currentTarget);break;case W.Space:case W.ArrowDown:$.preventDefault(),i.openListbox(),f.nextFrame(()=>{r.value||i.goToOption(K.First)});break;case W.ArrowUp:$.preventDefault(),i.openListbox(),f.nextFrame(()=>{r.value||i.goToOption(K.Last)});break}}),b=F($=>{switch($.key){case W.Space:$.preventDefault();break}}),v=F($=>{if(dl($.currentTarget))return $.preventDefault();r.listboxState===0?(i.closeListbox(),f.nextFrame(()=>{var k;return(k=r.buttonRef.current)==null?void 0:k.focus({preventScroll:!0})})):($.preventDefault(),i.openListbox())}),x=F($=>$.preventDefault()),w=$n([a]),E=hl(),{isFocusVisible:S,focusProps:T}=On({autoFocus:d}),{isHovered:O,hoverProps:C}=$r({isDisabled:l}),{pressed:R,pressProps:M}=oo({disabled:l}),H=c.useMemo(()=>({open:r.listboxState===0,active:R||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:O,focus:S,autofocus:d}),[r.listboxState,r.value,l,O,S,R,r.invalid,d]),j=kt(m(),{ref:h,id:a,type:co(e,r.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":w,"aria-describedby":E,disabled:l||void 0,autoFocus:d,onKeyDown:g,onKeyUp:b,onKeyPress:x,onClick:v},T,C,M);return fe({ourProps:j,theirProps:u,slot:H,defaultTag:Xb,name:"Listbox.Button"})}let tu=c.createContext(!1),Qb="div",e0=lt.RenderStrategy|lt.Static;function t0(e,t){var n;let r=c.useId(),{id:i=`headlessui-listbox-options-${r}`,anchor:o,portal:s=!1,modal:a=!0,...l}=e,d=Hl(o);d&&(s=!0);let u=Pn("Listbox.Options"),h=kr("Listbox.Options"),m=Cn(u.optionsRef),f=Pr(),g=f!==null?(f&be.Open)===be.Open:u.listboxState===0;lo(u.buttonRef,h.closeListbox,g),$l(m,u.__demoMode?!1:a&&u.listboxState===0),yl({allowed:F(()=>[u.buttonRef.current,u.optionsRef.current])},u.__demoMode?!1:a&&u.listboxState===0);let b=c.useRef(null);c.useEffect(()=>{var P;if(!((P=d==null?void 0:d.to)!=null&&P.includes("selection")))return;if(!g){b.current=null;return}let A=Array.from(u.listRef.current.values());b.current=A.findIndex(U=>(U==null?void 0:U.dataset.selected)===""),b.current===-1&&(b.current=A.findIndex(U=>(U==null?void 0:U.dataset.disabled)===void 0),h.goToOption(K.First))},[g,u.listRef]);let v=Vb(u.buttonRef,u.listboxState!==0)?!1:g,x=(()=>{if(d==null)return;if(u.listRef.current.size<=0)return{...d,inner:void 0};let P=Array.from(u.listRef.current.values());return{...d,inner:{listRef:{current:P},index:b.current}}})(),[w,E]=Ul(x),S=ql(),T=pe(u.optionsRef,t,d?w:null),O=Le(),C=Le();c.useEffect(()=>{var P;let A=u.optionsRef.current;A&&u.listboxState===0&&A!==((P=Mt(A))==null?void 0:P.activeElement)&&(A==null||A.focus({preventScroll:!0}))},[u.listboxState,u.optionsRef,u.optionsRef.current]);let R=F(P=>{switch(C.dispose(),P.key){case W.Space:if(u.searchQuery!=="")return P.preventDefault(),P.stopPropagation(),h.search(P.key);case W.Enter:if(P.preventDefault(),P.stopPropagation(),u.activeOptionIndex!==null){let{dataRef:A}=u.options[u.activeOptionIndex];h.onChange(A.current.value)}u.mode===0&&(h.closeListbox(),je().nextFrame(()=>{var A;return(A=u.buttonRef.current)==null?void 0:A.focus({preventScroll:!0})}));break;case re(u.orientation,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return P.preventDefault(),P.stopPropagation(),h.goToOption(K.Next);case re(u.orientation,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return P.preventDefault(),P.stopPropagation(),h.goToOption(K.Previous);case W.Home:case W.PageUp:return P.preventDefault(),P.stopPropagation(),h.goToOption(K.First);case W.End:case W.PageDown:return P.preventDefault(),P.stopPropagation(),h.goToOption(K.Last);case W.Escape:return P.preventDefault(),P.stopPropagation(),h.closeListbox(),O.nextFrame(()=>{var A;return(A=u.buttonRef.current)==null?void 0:A.focus({preventScroll:!0})});case W.Tab:P.preventDefault(),P.stopPropagation();break;default:P.key.length===1&&(h.search(P.key),C.setTimeout(()=>h.clearSearch(),350));break}}),M=Nb(()=>{var P;return(P=u.buttonRef.current)==null?void 0:P.id},[u.buttonRef.current]),H=c.useMemo(()=>({open:u.listboxState===0}),[u]),j=kt(d?S():{},{id:i,ref:T,"aria-activedescendant":u.activeOptionIndex===null||(n=u.options[u.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":u.mode===1?!0:void 0,"aria-labelledby":M,"aria-orientation":u.orientation,onKeyDown:R,role:"listbox",tabIndex:0,style:{...E,"--button-width":$i(u.buttonRef,!0).width}}),[$,k]=c.useState(u.value);u.value!==$&&u.listboxState===0&&u.mode!==1&&k(u.value);let q=F(P=>u.compare($,P));return V.createElement(Zl,{enabled:s?e.static||g:!1},V.createElement(Lr.Provider,{value:u.mode===1?u:{...u,isSelected:q}},fe({ourProps:j,theirProps:l,slot:H,defaultTag:Qb,features:e0,visible:v,name:"Listbox.Options"})))}let n0="div";function r0(e,t){let n=c.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,a=c.useContext(tu)===!0,l=Pn("Listbox.Option"),d=kr("Listbox.Option"),u=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,h=l.isSelected(o),m=c.useRef(null),f=Hb(m),g=xe({disabled:i,value:o,domRef:m,get textValue(){return f()}}),b=pe(t,m,R=>{R?l.listRef.current.set(r,R):l.listRef.current.delete(r)});Y(()=>{if(l.__demoMode||l.listboxState!==0||!u||l.activationTrigger===0)return;let R=je();return R.requestAnimationFrame(()=>{var M,H;(H=(M=m.current)==null?void 0:M.scrollIntoView)==null||H.call(M,{block:"nearest"})}),R.dispose},[m,u,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),Y(()=>{if(!a)return d.registerOption(r,g)},[g,r,a]);let v=F(R=>{if(i)return R.preventDefault();d.onChange(o),l.mode===0&&(d.closeListbox(),je().nextFrame(()=>{var M;return(M=l.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})}))}),x=F(()=>{if(i)return d.goToOption(K.Nothing);d.goToOption(K.Specific,r)}),w=Cl(),E=F(R=>{w.update(R),!i&&(u||d.goToOption(K.Specific,r,0))}),S=F(R=>{w.wasMoved(R)&&(i||u||d.goToOption(K.Specific,r,0))}),T=F(R=>{w.wasMoved(R)&&(i||u&&d.goToOption(K.Nothing))}),O=c.useMemo(()=>({active:u,focus:u,selected:h,disabled:i,selectedOption:h&&a}),[u,h,i,a]);return!h&&a?null:fe({ourProps:a?{}:{id:r,ref:b,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:v,onFocus:x,onPointerEnter:E,onMouseEnter:E,onPointerMove:S,onMouseMove:S,onPointerLeave:T,onMouseLeave:T},theirProps:s,slot:O,defaultTag:n0,name:"Listbox.Option"})}let i0=c.Fragment;function o0(e,t){let{options:n,placeholder:r,...i}=e,o={ref:pe(t)},s=Pn("ListboxSelectedOption"),a=c.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0;return V.createElement(tu.Provider,{value:!0},fe({ourProps:o,theirProps:{...i,children:V.createElement(V.Fragment,null,r&&l?r:n)},slot:a,defaultTag:i0,name:"ListboxSelectedOption"}))}let s0=ce(Zb),nu=ce(Jb),a0=vl,ru=ce(t0),iu=ce(r0),l0=ce(o0),u0=Object.assign(s0,{Button:nu,Label:a0,Options:ru,Option:iu,SelectedOption:l0});function c0({onFocus:e}){let[t,n]=c.useState(!0),r=Mr();return t?V.createElement(Fr,{as:"button",type:"button",features:Rr.Focusable,onFocus:i=>{i.preventDefault();let o,s=50;function a(){if(s--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const ou=c.createContext(null);function d0(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let o=Array.from(r.keys()).indexOf(t);function s(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[o,s]}}}function f0({children:e}){let t=c.useRef(d0());return c.createElement(ou.Provider,{value:t},e)}function su(e){let t=c.useContext(ou);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=p0(),[r,i]=t.current.get(e,n);return c.useEffect(()=>i,[]),r}function p0(){var e,t,n;let r=(n=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let i=[],o=r;for(;o;)i.push(o.index),o=o.return;return"$."+i.join(".")}var h0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(h0||{}),m0=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(m0||{}),g0=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(g0||{});let v0={0(e,t){var n;let r=it(e.tabs,u=>u.current),i=it(e.panels,u=>u.current),o=r.filter(u=>{var h;return!((h=u.current)!=null&&h.hasAttribute("disabled"))}),s={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let u=re(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>re(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return s;let h=re(u,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...s,selectedIndex:h===-1?e.selectedIndex:h}}let a=r.slice(0,t.index),l=[...r.slice(t.index),...a].find(u=>o.includes(u));if(!l)return s;let d=(n=r.indexOf(l))!=null?n:e.selectedIndex;return d===-1&&(d=e.selectedIndex),{...s,selectedIndex:d}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=it([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:it([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},So=c.createContext(null);So.displayName="TabsDataContext";function Kt(e){let t=c.useContext(So);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Kt),n}return t}let To=c.createContext(null);To.displayName="TabsActionsContext";function Oo(e){let t=c.useContext(To);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Oo),n}return t}function b0(e,t){return re(t.type,v0,e,t)}let x0="div";function y0(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:s=null,...a}=e;const l=r?"vertical":"horizontal",d=i?"manual":"auto";let u=s!==null,h=xe({isControlled:u}),m=pe(t),[f,g]=c.useReducer(b0,{info:h,selectedIndex:s??n,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),v=xe(o||(()=>{})),x=xe(f.tabs),w=c.useMemo(()=>({orientation:l,activation:d,...f}),[l,d,f]),E=F(M=>(g({type:1,tab:M}),()=>g({type:2,tab:M}))),S=F(M=>(g({type:3,panel:M}),()=>g({type:4,panel:M}))),T=F(M=>{O.current!==M&&v.current(M),u||g({type:0,index:M})}),O=xe(u?e.selectedIndex:f.selectedIndex),C=c.useMemo(()=>({registerTab:E,registerPanel:S,change:T}),[]);Y(()=>{g({type:0,index:s??n})},[s]),Y(()=>{if(O.current===void 0||f.tabs.length<=0)return;let M=it(f.tabs,H=>H.current);M.some((H,j)=>f.tabs[j]!==H)&&T(M.indexOf(f.tabs[O.current]))});let R={ref:m};return V.createElement(f0,null,V.createElement(To.Provider,{value:C},V.createElement(So.Provider,{value:w},w.tabs.length<=0&&V.createElement(c0,{onFocus:()=>{var M,H;for(let j of x.current)if(((M=j.current)==null?void 0:M.tabIndex)===0)return(H=j.current)==null||H.focus(),!0;return!1}}),fe({ourProps:R,theirProps:a,slot:b,defaultTag:x0,name:"Tabs"}))))}let w0="div";function E0(e,t){let{orientation:n,selectedIndex:r}=Kt("Tab.List"),i=pe(t),o=c.useMemo(()=>({selectedIndex:r}),[r]);return fe({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:o,defaultTag:w0,name:"Tabs.List"})}let S0="button";function T0(e,t){var n,r;let i=c.useId(),{id:o=`headlessui-tabs-tab-${i}`,disabled:s=!1,autoFocus:a=!1,...l}=e,{orientation:d,activation:u,selectedIndex:h,tabs:m,panels:f}=Kt("Tab"),g=Oo("Tab"),b=Kt("Tab"),v=c.useRef(null),x=pe(v,t);Y(()=>g.registerTab(v),[g,v]);let w=su("tabs"),E=m.indexOf(v);E===-1&&(E=w);let S=E===h,T=F(z=>{var G;let de=z();if(de===on.Success&&u==="auto"){let me=(G=Mt(v))==null?void 0:G.activeElement,le=b.tabs.findIndex(he=>he.current===me);le!==-1&&g.change(le)}return de}),O=F(z=>{let G=m.map(de=>de.current).filter(Boolean);if(z.key===W.Space||z.key===W.Enter){z.preventDefault(),z.stopPropagation(),g.change(E);return}switch(z.key){case W.Home:case W.PageUp:return z.preventDefault(),z.stopPropagation(),T(()=>Dt(G,Ne.First));case W.End:case W.PageDown:return z.preventDefault(),z.stopPropagation(),T(()=>Dt(G,Ne.Last))}if(T(()=>re(d,{vertical(){return z.key===W.ArrowUp?Dt(G,Ne.Previous|Ne.WrapAround):z.key===W.ArrowDown?Dt(G,Ne.Next|Ne.WrapAround):on.Error},horizontal(){return z.key===W.ArrowLeft?Dt(G,Ne.Previous|Ne.WrapAround):z.key===W.ArrowRight?Dt(G,Ne.Next|Ne.WrapAround):on.Error}}))===on.Success)return z.preventDefault()}),C=c.useRef(!1),R=F(()=>{var z;C.current||(C.current=!0,(z=v.current)==null||z.focus({preventScroll:!0}),g.change(E),io(()=>{C.current=!1}))}),M=F(z=>{z.preventDefault()}),{isFocusVisible:H,focusProps:j}=On({autoFocus:a}),{isHovered:$,hoverProps:k}=$r({isDisabled:s}),{pressed:q,pressProps:P}=oo({disabled:s}),A=c.useMemo(()=>({selected:S,hover:$,active:q,focus:H,autofocus:a,disabled:s}),[S,$,H,q,a,s]),U=kt({ref:x,onKeyDown:O,onMouseDown:M,onClick:R,id:o,role:"tab",type:co(e,v),"aria-controls":(r=(n=f[E])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1,disabled:s||void 0,autoFocus:a},j,k,P);return fe({ourProps:U,theirProps:l,slot:A,defaultTag:S0,name:"Tabs.Tab"})}let O0="div";function $0(e,t){let{selectedIndex:n}=Kt("Tab.Panels"),r=pe(t),i=c.useMemo(()=>({selectedIndex:n}),[n]);return fe({ourProps:{ref:r},theirProps:e,slot:i,defaultTag:O0,name:"Tabs.Panels"})}let C0="div",R0=lt.RenderStrategy|lt.Static;function F0(e,t){var n,r,i,o;let s=c.useId(),{id:a=`headlessui-tabs-panel-${s}`,tabIndex:l=0,...d}=e,{selectedIndex:u,tabs:h,panels:m}=Kt("Tab.Panel"),f=Oo("Tab.Panel"),g=c.useRef(null),b=pe(g,t);Y(()=>f.registerPanel(g),[f,g]);let v=su("panels"),x=m.indexOf(g);x===-1&&(x=v);let w=x===u,{isFocusVisible:E,focusProps:S}=On(),T=c.useMemo(()=>({selected:w,focus:E}),[w,E]),O=kt({ref:b,id:a,role:"tabpanel","aria-labelledby":(r=(n=h[x])==null?void 0:n.current)==null?void 0:r.id,tabIndex:w?l:-1},S);return!w&&((i=d.unmount)==null||i)&&!((o=d.static)!=null&&o)?V.createElement(Fr,{as:"span","aria-hidden":"true",...O}):fe({ourProps:O,theirProps:d,slot:T,defaultTag:C0,features:R0,visible:w,name:"Tabs.Panel"})}let j0=ce(T0),au=ce(y0),lu=ce(E0),uu=ce($0),cu=ce(F0),A0=Object.assign(j0,{Group:au,List:lu,Panels:uu,Panel:cu});function I0(e=0){let[t,n]=c.useState(e),r=Mr(),i=c.useCallback(l=>{r.current&&n(d=>d|l)},[t,r]),o=c.useCallback(l=>!!(t&l),[t]),s=c.useCallback(l=>{r.current&&n(d=>d&~l)},[n,r]),a=c.useCallback(l=>{r.current&&n(d=>d^l)},[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}function du(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function li(e,...t){e&&t.length>0&&e.classList.add(...t)}function ui(e,...t){e&&t.length>0&&e.classList.remove(...t)}function P0(e,t){let n=du(t),r=je();if(!e)return r.dispose;let{transitionDuration:i,transitionDelay:o}=getComputedStyle(e),[s,a]=[i,o].map(d=>{let[u=0]=d.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,m)=>m-h);return u}),l=s+a;if(l!==0){let d=r.group(u=>{let h=u.setTimeout(()=>{n(),u.dispose()},l);u.addEventListener(e,"transitionrun",m=>{m.target===m.currentTarget&&(h(),u.addEventListener(e,"transitioncancel",f=>{f.target===f.currentTarget&&(n(),d())}))})});r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(n(),r.dispose())})}else n();return r.dispose}function _0(e,{direction:t,done:n,classes:r,inFlight:i}){let o=je(),s=n!==void 0?du(n):()=>{};t==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=re(t,{enter:()=>r.enter,leave:()=>r.leave}),l=re(t,{enter:()=>r.enterTo,leave:()=>r.leaveTo}),d=re(t,{enter:()=>r.enterFrom,leave:()=>r.leaveFrom});return M0(e,{prepare(){ui(e,...r.base,...r.enter,...r.enterTo,...r.enterFrom,...r.leave,...r.leaveFrom,...r.leaveTo,...r.entered),li(e,...r.base,...a,...d)},inFlight:i}),i&&(i.current=!0),o.nextFrame(()=>{o.add(P0(e,()=>(ui(e,...r.base,...a),li(e,...r.base,...r.entered,...l),i&&(i.current=!1),s()))),ui(e,...r.base,...a,...d),li(e,...r.base,...a,...l)}),o.dispose}function M0(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function k0({container:e,direction:t,classes:n,onStart:r,onStop:i}){let o=Mr(),s=Le(),a=c.useRef(!1);Y(()=>{if(t==="idle"||!o.current)return;r.current(t);let l=e.current;return l?s.add(_0(l,{direction:t,classes:n.current,inFlight:a,done(){i.current(t)}})):i.current(t),s.dispose},[t])}function tt(e=""){return e.split(/\s+/).filter(t=>t.length>1)}function fu(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:hu)!==c.Fragment||V.Children.count(e.children)===1}let Dr=c.createContext(null);Dr.displayName="TransitionContext";var L0=(e=>(e.Visible="visible",e.Hidden="hidden",e))(L0||{});function D0(){let e=c.useContext(Dr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function N0(){let e=c.useContext(Nr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Nr=c.createContext(null);Nr.displayName="NestingContext";function Vr(e){return"children"in e?Vr(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function pu(e,t){let n=xe(e),r=c.useRef([]),i=Mr(),o=Le(),s=F((f,g=rt.Hidden)=>{let b=r.current.findIndex(({el:v})=>v===f);b!==-1&&(re(g,{[rt.Unmount](){r.current.splice(b,1)},[rt.Hidden](){r.current[b].state="hidden"}}),o.microTask(()=>{var v;!Vr(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),a=F(f=>{let g=r.current.find(({el:b})=>b===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,rt.Unmount)}),l=c.useRef([]),d=c.useRef(Promise.resolve()),u=c.useRef({enter:[],leave:[],idle:[]}),h=F((f,g,b)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([v])=>v!==f)),t==null||t.chains.current[g].push([f,new Promise(v=>{l.current.push(v)})]),t==null||t.chains.current[g].push([f,new Promise(v=>{Promise.all(u.current[g].map(([x,w])=>w)).then(()=>v())})]),g==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(g)):b(g)}),m=F((f,g,b)=>{Promise.all(u.current[g].splice(0).map(([v,x])=>x)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>b(g))});return c.useMemo(()=>({children:r,register:a,unregister:s,onStart:h,onStop:m,wait:d,chains:u}),[a,s,r,h,m,u,d])}let hu=c.Fragment,mu=lt.RenderStrategy;function V0(e,t){var n,r,i;let{beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:d,enterFrom:u,enterTo:h,entered:m,leave:f,leaveFrom:g,leaveTo:b,...v}=e,x=c.useRef(null),w=fu(e),E=pe(...w?[x,t]:t===null?[]:[t]),S=(n=v.unmount)==null||n?rt.Unmount:rt.Hidden,{show:T,appear:O,initial:C}=D0(),[R,M]=c.useState(T?"visible":"hidden"),H=N0(),{register:j,unregister:$}=H;Y(()=>j(x),[j,x]),Y(()=>{if(S===rt.Hidden&&x.current){if(T&&R!=="visible"){M("visible");return}return re(R,{hidden:()=>$(x),visible:()=>j(x)})}},[R,x,j,$,T,S]);let k=xe({base:tt(v.className),enter:tt(d),enterFrom:tt(u),enterTo:tt(h),entered:tt(m),leave:tt(f),leaveFrom:tt(g),leaveTo:tt(b)}),q=xe({beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l}),P=yo();Y(()=>{if(w&&P&&R==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,R,P,w]);let A=C&&!O,U=O&&T&&C,z=U?"enter":!P||A?"idle":T?"enter":"leave",G=I0(0),de=F(ee=>re(ee,{enter:()=>{var te,J;G.addFlag(be.Opening),(J=(te=q.current).beforeEnter)==null||J.call(te)},leave:()=>{var te,J;G.addFlag(be.Closing),(J=(te=q.current).beforeLeave)==null||J.call(te)},idle:()=>{}})),me=F(ee=>re(ee,{enter:()=>{var te,J;G.removeFlag(be.Opening),(J=(te=q.current).afterEnter)==null||J.call(te)},leave:()=>{var te,J;G.removeFlag(be.Closing),(J=(te=q.current).afterLeave)==null||J.call(te)},idle:()=>{}})),le=c.useRef(!1),he=pu(()=>{le.current||(M("hidden"),$(x))},H);k0({container:x,classes:k,direction:z,onStart:xe(ee=>{le.current=!0,he.onStart(x,ee,de)}),onStop:xe(ee=>{le.current=!1,he.onStop(x,ee,me),ee==="leave"&&!Vr(he)&&(M("hidden"),$(x))})});let L=v,ue={ref:E};return U?L={...L,className:un(v.className,...k.current.enter,...k.current.enterFrom)}:le.current?(L.className=un(v.className,(r=x.current)==null?void 0:r.className),L.className===""&&delete L.className):(L.className=un(v.className,(i=x.current)==null?void 0:i.className,...re(z,{enter:[...k.current.enterTo,...k.current.entered],leave:k.current.leaveTo,idle:[]})),L.className===""&&delete L.className),V.createElement(Nr.Provider,{value:he},V.createElement(bo,{value:re(R,{visible:be.Open,hidden:be.Closed})|G.flags},fe({ourProps:ue,theirProps:L,defaultTag:hu,features:mu,visible:R==="visible",name:"Transition.Child"})))}function B0(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=c.useRef(null),a=fu(e),l=pe(...a?[s,t]:t===null?[]:[t]);yo();let d=Pr();if(n===void 0&&d!==null&&(n=(d&be.Open)===be.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=c.useState(n?"visible":"hidden"),m=pu(()=>{n||h("hidden")}),[f,g]=c.useState(!0),b=c.useRef([n]);Y(()=>{f!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),g(!1))},[b,n]);let v=c.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);lo(s,()=>h("hidden")),Y(()=>{n?h("visible"):!Vr(m)&&s.current!==null&&h("hidden")},[n,m]);let x={unmount:i},w=F(()=>{var S;f&&g(!1),(S=e.beforeEnter)==null||S.call(e)}),E=F(()=>{var S;f&&g(!1),(S=e.beforeLeave)==null||S.call(e)});return V.createElement(Nr.Provider,{value:m},V.createElement(Dr.Provider,{value:v},fe({ourProps:{...x,as:c.Fragment,children:V.createElement(gu,{ref:l,...x,...o,beforeEnter:w,beforeLeave:E})},theirProps:{},defaultTag:c.Fragment,features:mu,visible:u==="visible",name:"Transition"})))}function H0(e,t){let n=c.useContext(Dr)!==null,r=Pr()!==null;return V.createElement(V.Fragment,null,!n&&r?V.createElement(Ai,{ref:t,...e}):V.createElement(gu,{ref:t,...e}))}let Ai=ce(B0),gu=ce(V0),z0=ce(H0),q0=Object.assign(Ai,{Child:z0,Root:Ai});function U0({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"}))}const W0=c.forwardRef(U0);function G0({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const vu=c.forwardRef(G0);function K0({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Y0=c.forwardRef(K0),$o={label:I.string,organisation:I.string,type:I.string,user:I.string,value:I.string},bu={name:I.string.isRequired,id:I.string.isRequired,codelists:I.arrayOf(I.shape($o)).isRequired};function Ii({label:e,value:t}){return p.jsx(iu,{className:({active:n})=>Me("relative cursor-pointer select-none py-2 pl-10 pr-4",n?"bg-oxford-600 text-white":"text-gray-900"),value:t,children:({selected:n,active:r})=>p.jsxs(p.Fragment,{children:[p.jsx("span",{className:Me("block truncate",n?"font-medium":"font-normal"),children:p.jsx("span",{children:e})}),n?p.jsx("span",{className:Me("absolute inset-y-0 left-0 flex items-center px-3 z-10",r?"text-white":"text-oxford-600"),children:p.jsx(vu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})})}Ii.propTypes={label:I.string.isRequired,value:I.shape($o).isRequired};function xu({defaultValue:e,handleChange:t,name:n}){const{formData:r}=De();return p.jsx(u0,{name:n,onChange:i=>t(i),value:e,children:p.jsxs("div",{className:"relative mt-1",children:[p.jsx(nu,{className:Me("relative w-fit max-w-prose rounded-md border-gray-400 border-2 bg-white py-2 pl-3 pr-10 text-left shadow-sm","focus:outline-none","focus-visible:border-oxford-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300"),children:({value:i})=>p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"block truncate",children:i.label}),p.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 ",children:p.jsx(Y0,{"aria-hidden":"true",className:"h-5 w-5 text-gray-400"})})]})}),p.jsx(q0,{as:c.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p.jsxs(ru,{className:"absolute z-10 mt-1 max-h-60 w-fit max-w-prose overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[r.codelist0?p.jsx(Ii,{label:r.codelist0.label,value:r.codelist0}):null,r.codelist1?p.jsx(Ii,{label:r.codelist1.label,value:r.codelist1}):null]})})]})})}xu.propTypes={defaultValue:I.shape($o).isRequired,handleChange:I.func.isRequired,name:I.string.isRequired};function Z0(){var h,m;const{dates:{startStr:e,endStr:t}}=Yt(),{formData:n}=De(),{errors:r,setFieldTouched:i,setFieldValue:o,touched:s,validateField:a,values:l}=Je();function d(f){f===l.codelistA&&(o("codelistA",l.codelistB),o("codelistB",f)),f===l.codelistB&&(o("codelistB",l.codelistA),o("codelistA",f))}function u(f,g,b){a(g),i(g),o(g,f.target.value),i("timeOption"),o("timeOption",qn({[g]:f.target.value,[b]:l==null?void 0:l[b]}))}return p.jsxs("div",{className:"flex flex-col gap-y-1",children:[p.jsx("p",{className:"max-w-prose text-lg",children:Pe[0]}),p.jsx(xu,{defaultValue:(l==null?void 0:l.codelistA)||l.codelist0,handleChange:f=>d(f),name:"codelistA"}),p.jsxs("p",{className:"max-w-prose text-lg grid gap-y-1",children:[Pe[1],p.jsxs("span",{children:[p.jsx("strong",{children:e})," ",Pe[2]," ",p.jsx("strong",{children:t})]}),Pe[3]]}),p.jsxs("p",{className:"max-w-prose text-lg",children:[p.jsx("strong",{className:"block mb-1",children:l.codelistB.label||((h=n.codelist1)==null?void 0:h.label)}),Pe[4]," ",p.jsxs("span",{className:"block mt-1",children:[p.jsx("strong",{children:l.codelistA.label||((m=n.codelist0)==null?void 0:m.label)})," ",Pe[5]]})]}),p.jsxs(Yn,{hideLegend:!0,legend:"Select a time scale",children:[p.jsxs(Zn,{id:"timeHasValue",label:qn(l),labelClassName:"flex flex-row gap-1 items-center mt-2",name:"timeOption",type:"radio",value:qn(l),children:["up to",p.jsx(Ut,{className:"inline-flex w-[6ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-sm",inputMode:"numeric",max:"52",min:"0",name:"timeValue",onChange:f=>u(f,"timeValue","timeScale"),type:"text"}),p.jsx(Ut,{as:"select",className:"inline-flex w-[12ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-sm",name:"timeScale",onChange:f=>u(f,"timeScale","timeValue"),children:na.map(({label:f,value:g})=>p.jsx("option",{value:g,children:f},g))}),Xa]}),p.jsx(Zn,{id:"anyTime",label:Ve,name:"timeOption",type:"radio",value:Ve})]}),r.timeValue&&s.timeValue?p.jsx(at,{children:r.timeValue}):null]})}const rr=e=>Xt().shape({label:Be().required("Select a codelist"),organisation:Be(),value:Be().required("Select a codelist"),type:Be().oneOf(e.map(t=>t.id)).required()}).required("Select a codelist");function X0(e){return{codelistA:e.codelistA||e.codelist0,codelistB:e.codelistB||e.codelist1,timeOption:e.timeOption===Ve?Ve:qn({timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}),timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}}function J0(){const[,e]=ft(),{codelistGroups:t}=Yt(),{formData:n,setFormData:r}=De();if(xn(["codelist0","codelist1"]))return p.jsx(bn,{to:""});const i=Xt().shape({codelistA:rr(t),codelistB:rr(t),timeOption:Be().required(),timeValue:Va().typeError("Amount must be a number").positive("Time value must be a positive number").min(0,"Time scale cannot be less than 0").required("Amount of time is required").test("tenYears","Time scale cannot be longer than 10 years",(o,s)=>{const{timeScale:a,timeOption:l}=s.parent;return l===Ve?!0:!(o===void 0||Number.isNaN(o)||a==="weeks"&&o>522||a==="months"&&o>120||a==="years"&&o>10)}),timeScale:Be().oneOf(na.map(o=>o.value)).required()});return p.jsx(yr,{initialValues:X0(n),onSubmit:(o,s)=>s.validateForm().then(()=>{const{timeOption:a,timeScale:l,timeValue:d,...u}=o;return a===Ve?(r({...n,timeOption:a,timeEver:"true",timeScale:null,timeValue:null,...u}),e("/preview-request")):(r({...n,timeEver:null,...o}),e("/preview-request"))}),validateOnBlur:!0,validateOnChange:!0,validateOnMount:!0,validationSchema:i,children:({isValid:o})=>p.jsxs(En,{children:[p.jsx(Or,{}),p.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Report request"}),p.jsx(Z0,{}),p.jsx(ht,{className:"mt-6",disabled:!o,type:"submit",children:"Next"})]})})}function yu({id:e,label:t,name:n,value:r,onClick:i=()=>null}){return p.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[p.jsx(Ut,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:e,name:n,onClick:i,type:"checkbox",value:r}),p.jsx("label",{className:"cursor-pointer touch-manipulation tracking-tight",htmlFor:e,children:t})]})}yu.propTypes={id:I.string.isRequired,label:I.string.isRequired,name:I.string.isRequired,onClick:I.func,value:I.string.isRequired};function Q0(){const[,e]=ft(),{formData:t,setFormData:n}=De();if(xn(["codelistA","codelistB","timeOption"]))return p.jsx(bn,{to:""});const r=Xt().shape({filterPopulation:Be().oneOf(Bn.items.map(o=>o.value)).required("Select a filter for the population"),demographics:Ua().of(Be().oneOf(rn.items.map(o=>o.value))).min(0).max(rn.items.length)}),i={filterPopulation:t.filterPopulation||"",demographics:t.demographics||[]};return p.jsx(yr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/analysis-information")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>p.jsxs(En,{className:"flex flex-col gap-y-8",children:[p.jsx(Or,{}),p.jsx("h1",{className:"text-4xl font-bold",children:"Set report filters"}),p.jsxs(Yn,{legend:Bn.label,children:[Bn.items.map(l=>p.jsx(Zn,{id:l.value,label:l.label,name:"filterPopulation",value:l.value},l.value)),o.filterPopulation&&a.filterPopulation?p.jsx(at,{children:o.filterPopulation}):null]}),p.jsxs(Yn,{legend:rn.label,children:[p.jsx(no,{children:p.jsx("p",{children:"These should only be selected if they align with your approved project purpose. Selecting more options will increase report processing time."})}),rn.items.map(l=>p.jsx(yu,{id:l.value,label:l.label,name:"demographics",value:l.value},l.value)),o.demographics&&a.demographics?p.jsx(at,{children:"Select one or more demographics"}):null]}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:p.jsx(ht,{disabled:!s,type:"submit",children:"Next"})})]})})}function ex(){const{codelistGroups:e}=Yt();return p.jsx(lu,{className:"flex space-x-1 rounded bg-gray-100 p-1 max-w-prose",children:e.map(t=>p.jsx(A0,{className:({selected:n})=>Me("w-full rounded-lg p-1 font-semibold text-oxford-700 leading-5 md:py-2.5","ring-white ring-opacity-60 ring-offset-2 ring-offset-oxford-400 focus:outline-none focus:ring-2",n?"bg-white shadow":"hover:bg-white/[0.12] hover:text-oxford-900"),children:t.name},t.id))})}function tx(e){const t={year:"numeric",month:"short",day:"2-digit"},n=new Date(e);return new Intl.DateTimeFormat("en-GB",t).format(n)}function wu({codelistGroup:e,codelistID:t,query:n}){const{values:r}=Je(),i=o=>n.length<2?o:o.filter(s=>s.label.toLowerCase().includes(n.toLowerCase()));return n.length<3?p.jsxs("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:["Type ",3-n.length," more characters to search"]}):i(e.codelists).length===0?p.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:"Nothing found"}):p.jsx(p.Fragment,{children:i(e.codelists.sort((o,s)=>o.label.localeCompare(s.label))).map(o=>p.jsx(eu,{className:({active:s})=>Me("relative cursor-pointer select-none py-2 pl-10 pr-4",s?"bg-oxford-600 text-white":"text-gray-900"),value:o,children:({selected:s,active:a})=>{var l;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:Me("block truncate",s?"font-medium":"font-normal"),children:[p.jsx("span",{children:o.label}),p.jsxs("dl",{className:`flex flex-row flex-wrap text-sm mt-0.5 ${a?"text-white":"text-gray-600"}`,children:[p.jsxs("div",{className:"flex flex-row gap-1",children:[p.jsx("dt",{children:"From:"})," ",p.jsx("dd",{children:o.organisation?o.organisation:o.user})]}),p.jsxs("div",{className:"flex flex-row gap-1 ml-2 border-l border-l-gray-300 pl-2",children:[p.jsx("dt",{children:"Last updated:"})," ",p.jsx("dd",{children:tx(o.updatedDate)})]})]})]}),s||((l=r[t])==null?void 0:l.value)===o.value?p.jsx("span",{className:Me("absolute inset-y-0 left-0 flex items-center pl-3 z-10",a?"text-white":"text-oxford-600"),children:p.jsx(vu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})}},o.value))})}wu.propTypes={codelistGroup:I.shape(bu).isRequired,codelistID:I.string.isRequired,query:I.string.isRequired};function Eu({codelistGroup:e,codelistID:t,query:n,setQuery:r}){const{errors:i,setFieldValue:o,setTouched:s,touched:a}=Je(),[l,d]=c.useState("");return c.useEffect(()=>i[t]&&a[t]?wc(i[t])?d(i[t].label):d(i[t]):d(""),[i,a,t]),p.jsx(cu,{children:p.jsx(Ut,{name:t,children:({field:u})=>{var h;return p.jsxs("div",{className:"mt-2",children:[p.jsx(Db,{defaultValue:u.value,name:u.name,onChange:m=>{s({...a,[t]:!0}),o(u.name,m)},children:p.jsxs("div",{className:"relative w-full max-w-prose",children:[p.jsx(Jl,{autoComplete:"off",autoCorrect:"false",className:Me("block w-full px-3 py-2 border-2 border-gray-400 rounded-md shadow-sm placeholder-gray-400","focus:cursor-text focus:outline-none focus:ring-oxford-500 focus:border-oxford-500"),displayValue:m=>m.label,onChange:m=>r(m.target.value),placeholder:"Type 3 or more characters to find a codelist"}),p.jsx(Ql,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:p.jsx(wu,{codelistGroup:e,codelistID:t,query:n})})]})}),l?p.jsx(at,{children:l}):null,(h=u==null?void 0:u.value)!=null&&h.value?p.jsx("ul",{className:"text-sm mt-2",children:p.jsx("li",{children:p.jsxs("a",{className:"text-oxford-600 font-semibold underline underline-offset-1 transition-colors hover:text-oxford-700 hover:no-underline focus:text-oxford-900 focus:no-underline",href:`https://www.opencodelists.org/codelist/${u.value.value}`,rel:"noopener noreferrer",target:"_blank",children:["View “",u.value.label,"” codelist",p.jsx(W0,{className:"inline h-4 -mt-0.5",height:20,width:20})]})})}):null]})}})},e.id)}Eu.propTypes={codelistGroup:I.shape(bu).isRequired,codelistID:I.string.isRequired,query:I.string.isRequired,setQuery:I.func.isRequired};function Pi({id:e,label:t}){const{setFieldValue:n}=Je(),{formData:r}=De(),{codelistGroups:i}=Yt(),[o,s]=c.useState(""),a=`codelist${e}`,l=i.findIndex(d=>{var u;return d.id===((u=r==null?void 0:r[a])==null?void 0:u.type)});return p.jsxs(au,{as:"div",defaultIndex:l!==-1?l:0,onChange:()=>{s(""),n(a,{})},children:[p.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-2 md:mb-1",children:t}),p.jsx(ex,{}),p.jsx(uu,{children:i.map(d=>p.jsx(Eu,{codelistGroup:d,codelistID:a,query:o,setQuery:s},d.id))})]})}Pi.propTypes={id:I.number.isRequired,label:I.string.isRequired};function nx(){const{formData:e,setFormData:t}=De(),{codelistGroups:n}=Yt(),[,r]=ft(),i=Xt({codelist0:rr(n),codelist1:rr(n).test("compare_codelists","Codelists cannot be the same, please change one codelist",(s,a)=>Object.entries(a.parent.codelist0).toString()!==Object.entries(s).toString())}),o={codelist0:e.codelist0||"",codelist1:e.codelist1||""};return p.jsx(yr,{initialValues:o,onSubmit:(s,a)=>{a.validateForm().then(()=>(t({...e,...s,codelistA:null,codelistB:null}),r("/build-query")))},validateOnMount:!0,validationSchema:i,children:({isValid:s})=>p.jsxs(En,{className:"flex flex-col gap-y-12",children:[p.jsx(Or,{}),p.jsx(Pi,{id:0,label:"Select a codelist"}),p.jsx(Pi,{id:1,label:"Select a second codelist"}),p.jsx(ht,{disabled:!s,type:"submit",children:"Next"})]})})}function rx(){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"prose prose-blue",children:[p.jsx("p",{className:"text-lg",children:"Requesting an analysis requires you to select two SNOMED CT or dm+d codelists to see how they are used in combination over time."}),p.jsx("p",{className:"text-lg",children:"To make sure this is the right tool for you, check that you understand the following terms before continuing."}),p.jsx("h3",{children:"Codelist"}),p.jsx("p",{children:"A codelist is a set of codes that can be recorded in clinical systems. Codelists are used to select patients with activities and conditions of interest."}),p.jsx("p",{children:"Any codelist you require in your Analysis Request must:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"use either the SNOMED CT or dm+d coding system"}),p.jsxs("li",{children:["be published on"," ",p.jsx("a",{href:"https://www.opencodelists.org/",rel:"noopener noreferrer",target:"_blank",children:"OpenCodelists"})]})]}),p.jsx("p",{children:"You should review the codelists you wish to use on OpenCodelists and confirm it is suitable for your request before you start."}),p.jsx("p",{children:"Speak to your co-pilot if you can’t find a codelist you want to use, or you wish to add a new codelist to OpenCodelists."}),p.jsx("h3",{children:"SNOMED CT"}),p.jsxs("p",{children:[p.jsx("a",{href:"https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct",rel:"noopener noreferrer",target:"_blank",children:"SNOMED CT"})," ","is a systematically organised computer-processable collection of medical terms used in clinical documentation and reporting. It provides a consistent vocabulary for recording patient clinical information across the NHS and helps ensure data is recorded consistently and accurately."]}),p.jsx("p",{children:"SNOMED CT codelists can query data related to recording of events such as:"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Condition Diagnoses "}),"— for example: Crohn’s Disease, Bipolar disorder"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Symptoms "}),"— for example: Headache, Blood in urine"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Test Results "}),"— for example: Potassium level, Abnormal ECG"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Procedures "}),"— for example: Coronary artery bypass graft, Hysterectomy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Activities "}),"— for example: Medication review"]})]}),p.jsx("h3",{children:"dm+d"}),p.jsxs("p",{children:[p.jsx("a",{href:"https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd",rel:"noopener noreferrer",target:"_blank",children:"dm+d"})," ","is a dictionary of descriptions and codes which represent medicines and devices in use across the NHS."]}),p.jsx("p",{children:"dm+d codelists can query data related to prescriptions that have been issued for medicines or devices, for example: a prescription for Paracetamol 500mg tablets or for a Salbutamol 100micrograms/dose inhaler."})]}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:p.jsx(Qs,{asChild:!0,to:"/find-codelists",children:p.jsx(ht,{children:"Next"})})})]})}function Su({timeOption:e,timeScale:t=null,timeValue:n=null}){const r=e==="at any time prior."?"Any time":`${n} ${t}`;return p.jsxs("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 415 233",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",children:[p.jsx("path",{className:"fill-gray-300",d:"M194 52.03h6V157h-6zM394 52h6v105h-6z"}),p.jsx("path",{className:"fill-gray-500",d:"M3.9 99.9c-.6.5-.6 1.5 0 2l9.35 9.6c.26.2.57.3.89.3a1.5 1.5 0 0 0 1.18-2.4l-8.37-8.5 8.37-8.5a1.5 1.5 0 0 0-1.18-2.4c-.32 0-.63.1-.89.3l-9.46 9.5.1.1Zm189.1 2c.6-.5.6-1.5 0-2l-9.35-9.6c-.26-.2-.57-.3-.89-.3a1.5 1.5 0 0 0-1.18 2.4l8.37 8.5-8.37 8.5a1.5 1.5 0 0 0 1.18 2.4c.32 0 .63-.1.89-.3l9.46-9.5-.1-.1Zm-188.12.5h187.14v-3H4.88v3Z",fillRule:"nonzero"}),p.jsx("path",{className:"fill-green-600 stroke-green-600",d:"M1 128c-.6.5-.6 1.5 0 2l9.5 9.6a1.5 1.5 0 0 0 2.1-2.1L4.1 129l8.5-8.5a1.5 1.5 0 0 0-2.1-2.1l-9.6 9.5.1.1Zm392 2c.6-.5.6-1.5 0-2l-9.5-9.6a1.5 1.5 0 0 0-2.1 2.1l8.5 8.5-8.5 8.5a1.5 1.5 0 0 0 2.1 2.1l9.6-9.5-.1-.1Zm-391 .5h390v-3H2v3Z",fillRule:"nonzero",strokeWidth:"2",transform:"matrix(.99262 0 0 1 2.9 1.9)"}),p.jsx("path",{className:"fill-bn-ribbon-300 stroke-bn-ribbon-700",d:"M297 97.4 284.4 85l-3.5 3.5 12.5 12.5-12.4 12.3 3.5 3.5 12.4-12.4 12.4 12.4 3.5-3.5-12.4-12.4 12.4-12.4-3.5-3.5-12.4 12.4h.1Z"}),p.jsx("path",{className:"fill-oxford-300",d:"M296 74.55c.5.6 1.5.6 2 0l9.6-9.5a1.5 1.5 0 0 0-2.1-2.1l-8.5 8.5-8.5-8.5a1.5 1.5 0 0 0-2.1 2.1l9.5 9.6.1-.1Zm-.5-71v70h3v-70h-3ZM50 150.6c-.2-.8-1-1.3-1.8-1l-13 3.4a1.54 1.54 0 0 0 .7 3l11.6-3.2 3.1 11.6a1.5 1.5 0 0 0 2.9-.7l-3.5-13v-.1ZM3.3 232.4l46.6-80.6-2.6-1.6L.7 231l2.6 1.5v-.1Z",fillRule:"nonzero"}),p.jsx("text",{fontSize:"12",x:"177",y:"170",children:"Start of"}),p.jsx("text",{fontSize:"12",x:"180",y:"183",children:"month"}),p.jsx("text",{fontSize:"12",x:"379",y:"170",children:"End of"}),p.jsx("text",{fontSize:"12",x:"380",y:"183",children:"month"}),p.jsx("text",{fontSize:"12",x:"67",y:"88.63",children:r})]})}Su.propTypes={timeOption:I.string.isRequired,timeScale:I.string,timeValue:I.number};function ix(){const{formData:e}=De();return xn(["codelistA","codelistB","timeOption"])?p.jsx(bn,{to:""}):p.jsxs(p.Fragment,{children:[p.jsx(Ya,{}),p.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Preview your request"}),p.jsx("div",{className:"px-4 py-24",children:p.jsxs("div",{className:"relative",children:[p.jsxs("p",{className:"absolute max-w-[28ch] text-center -translate-y-[80%] top-0 right-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual has qualifying event from:",p.jsx("br",{}),p.jsx("strong",{children:e.codelistA.label})]}),p.jsx(Su,{timeOption:e.timeOption,timeScale:e.timeScale,timeValue:e.timeValue}),p.jsxs("p",{className:"absolute max-w-[28ch] text-center bottom-0 translate-y-[80%] left-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual ALSO has an event from:",p.jsx("br",{}),p.jsx("strong",{children:e.codelistB.label})]})]})}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-16",children:p.jsx(Qs,{asChild:!0,to:"/filter-request",children:p.jsx(ht,{children:"Next"})})})]})}function Nt({title:e,children:t,page:n}){const[,r]=ft();return p.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5",children:[p.jsx("dt",{className:"text-lg font-bold text-gray-700 md:text-base",children:e}),p.jsxs("dd",{className:"mt-1 flex text-gray-900 sm:col-span-2 sm:mt-0",children:[p.jsx("span",{className:"flex-grow break-words",children:t}),p.jsx("span",{className:"ml-4 flex-shrink-0",children:p.jsx("button",{className:"rounded-md bg-white font-medium text-oxford-600 hover:text-oxford-500 focus:outline-none focus:ring-2 focus:ring-oxford-500 focus:ring-offset-2",onClick:()=>r(`/${n}`),type:"button",children:"Edit"})})]})]})}Nt.propTypes={title:I.string.isRequired,children:I.node.isRequired,page:I.string.isRequired};function ox(){var g,b,v,x,w;const{basePath:e,csrfToken:t,dates:{startISO:n,endISO:r,startStr:i,endStr:o}}=Yt(),{formData:s}=De(),[a,l]=c.useState(!1),[d,u]=c.useState("");if(xn(["codelistA","codelistB","timeOption","filterPopulation","title","purpose"]))return p.jsx(bn,{to:""});const h=()=>{const{codelistA:E,codelistB:S,timeOption:T,timeScale:O,timeValue:C,filterPopulation:R,demographics:M,title:H,purpose:j}=s;return Sc({codelistA:{label:E.label,type:E.type,value:E.value},codelistB:{label:S.label,type:S.type,value:S.value},startDate:n.slice(0,10),endDate:r.slice(0,10),timeEver:T===Ve?"true":null,timeScale:T===Ve?void 0:O,timeValue:T===Ve?void 0:C,filterPopulation:R,demographics:M,title:H,purpose:j})},m=async()=>{l(!0),u("");const E=JSON.stringify(h());Fo(T=>{T.setLevel("debug"),qr("formData",E),jo("Submitting analysis request")});const S=await fetch(`${e}publish`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:E});if(!S.ok){l(!1);const T=`An error has occurred: ${S.status} - ${S.statusText}`;throw u(T),new Error(T)}to(),Fo(T=>{T.setLevel("debug"),qr("formData",E),qr("response",S.url),jo("Analysis ok, redirecting")}),window.location.href=S.url},f=s.timeOption===Ve?Ve:`up to ${s.timeValue} ${s.timeScale} ${Xa}`;return p.jsxs(p.Fragment,{children:[p.jsx(Ya,{}),p.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Review your request"}),p.jsx("div",{className:"mt-5 border-t border-gray-200",children:p.jsxs("dl",{className:"divide-y divide-gray-200",children:[p.jsxs(Nt,{page:"find-codelists",title:"Codelists",children:[(g=s.codelist0)==null?void 0:g.label,",",p.jsx("br",{}),(b=s.codelist1)==null?void 0:b.label]}),(v=s.codelistA)!=null&&v.label&&((x=s.codelistB)!=null&&x.label)?p.jsxs(Nt,{page:"build-query",title:"Report request",children:[` ${Pe[0]} `,p.jsx("strong",{children:s.codelistA.label}),` ${Pe[1]} `,p.jsx("strong",{children:i})," ",Pe[2]," ",p.jsx("strong",{children:o}),` ${Pe[3]} `,p.jsx("strong",{children:s.codelistB.label}),` ${Pe[4]} `,p.jsx("strong",{children:` ${s.codelistA.label}`}),` ${Pe[5]} ${f}`]}):null,p.jsx(Nt,{page:"filter-request",title:"Filter population",children:Bn.items.filter(E=>E.value===s.filterPopulation)[0].label}),p.jsx(Nt,{page:"filter-request",title:"Break down the report by demographics",children:s.demographics.length?p.jsx("ul",{children:(w=s.demographics)==null?void 0:w.map(E=>{var S;return p.jsx("li",{children:(S=rn.items.find(T=>(T==null?void 0:T.value)===E))==null?void 0:S.label},E)})}):p.jsx("p",{children:"No demographics selected"})}),p.jsxs(Nt,{page:"analysis-information",title:"Analysis information",children:[p.jsxs("p",{className:"mb-4",children:[p.jsx("strong",{children:"Title: "}),p.jsx("br",{}),s.title]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Description: "}),p.jsx("br",{}),s.purpose]})]})]})}),p.jsxs("section",{className:"prose prose-blue mt-8 pt-6 border-t max-w-full",children:[p.jsx("h2",{className:"sr-only",children:"Read and agree"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Your analyses will be run on primary care patient records for approximately 44% of the English population"}),p.jsx("li",{children:"The analysis you are requesting may take up to 5 days to return results"}),p.jsx("li",{children:"The time for the analysis to generate may vary significantly dependent on current loads on our servers and current demand for our disclosure checking service"}),p.jsx("p",{children:"By making this request you are agreeing:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"That your request falls within your approved project purpose"}),p.jsx("li",{children:"To abide by the Terms and Conditions you signed previously"}),p.jsx("li",{children:"That the contents of this request, along with your name and email address, will be publicly available"})]})]})]}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:p.jsx(ht,{disabled:a,onClick:m,type:"submit",children:a?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"h-5 w-5 flex-1 animate-spin stroke-current stroke-[3] mr-2",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{className:"stroke-current opacity-25",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"}),p.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 14.7255 3.09032 17.1962 4.85857 19"})]}),"Submitting"]}):"Submit request"})}),d?p.jsx(at,{children:d}):null]})}function sx(){const[e]=ft();return c.useEffect(()=>{window.scrollTo(0,0)},[e]),null}var ax={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Co=document.getElementById("osi");if(!Co)throw new Error("Failed to find the root element");const lx=_u(Co),{dataset:xt}=Co,ux={basePath:"Basename",csrfToken:"CSRF Token",dateEnd:"End date",dateStart:"Start date",events:"Events codelist data",medications:"Medications codelist data"};Object.entries(ux).map(([e,t])=>{if(!xt[e])throw new Error(`${t} not provided`);return null});Mu({dsn:ax.VITE_SENTRY_DSN,tracesSampleRate:1});lx.render(p.jsx(V.StrictMode,{children:p.jsx(Vi.Provider,{value:Ec({dataset:xt}),children:p.jsx(ta,{children:p.jsxs(Js,{base:xt.basePath.slice(0,-1),children:[p.jsx(sx,{}),p.jsx(ra,{basePath:xt.basePath,csrfToken:xt.csrfToken,events:xt.events,medications:xt.medications,children:p.jsxs(xc,{children:[p.jsx(et,{component:rx,path:"/"}),p.jsx(et,{component:nx,path:"/find-codelists"}),p.jsx(et,{component:J0,path:"/build-query"}),p.jsx(et,{component:ix,path:"/preview-request"}),p.jsx(et,{component:Q0,path:"/filter-request"}),p.jsx(et,{component:Im,path:"/analysis-information"}),p.jsx(et,{component:ox,path:"/review-request"}),p.jsx(et,{path:"*",children:p.jsxs("div",{className:"prose",children:[p.jsx("h2",{children:"An error occurred"}),p.jsx("p",{className:"lead",children:"Your request was not submitted."}),p.jsxs("p",{children:["Please try again, or"," ",p.jsx("a",{href:"mailto:team@opensafely.org",children:"email team@opensafely.org"}),"."]})]})})]})})]})})})}))});export default cx();
