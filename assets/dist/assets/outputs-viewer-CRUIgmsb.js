var wr=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var n=(t,e,r)=>(wr(t,e,"read from private field"),r?r.call(t):e.get(t)),E=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},b=(t,e,r,s)=>(wr(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);var sr=(t,e,r,s)=>({set _(i){b(t,e,i,r)},get _(){return n(t,e,s)}}),I=(t,e,r)=>(wr(t,e,"access private method"),r);import{r as y,e as bi,j as f,P as w,R as Fs,i as xi,c as wi}from"./index-CZ071t0L.js";import{c as Ci,g as Ei}from"./_commonjsHelpers-BosuxZz1.js";/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lt(){return Lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Lt.apply(this,arguments)}var at;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(at||(at={}));const ss="popstate";function Ri(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:u,hash:h}=s.location;return Or("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:js(i)}return Si(e,r,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oi(){return Math.random().toString(36).substr(2,8)}function is(t,e){return{usr:t.state,key:t.key,idx:e}}function Or(t,e,r,s){return r===void 0&&(r=null),Lt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yr(e):e,{state:r,key:e&&e.key||s||Oi()})}function js(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function yr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Si(t,e,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,u=i.history,h=at.Pop,c=null,p=d();p==null&&(p=0,u.replaceState(Lt({},u.state,{idx:p}),""));function d(){return(u.state||{idx:null}).idx}function C(){h=at.Pop;let m=d(),R=m==null?null:m-p;p=m,c&&c({action:h,location:D.location,delta:R})}function x(m,R){h=at.Push;let N=Or(D.location,m,R);r&&r(N,m),p=d()+1;let L=is(N,p),z=D.createHref(N);try{u.pushState(L,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(z)}a&&c&&c({action:h,location:D.location,delta:1})}function v(m,R){h=at.Replace;let N=Or(D.location,m,R);r&&r(N,m),p=d();let L=is(N,p),z=D.createHref(N);u.replaceState(L,"",z),a&&c&&c({action:h,location:D.location,delta:0})}function j(m){let R=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof m=="string"?m:js(m);return N=N.replace(/ $/,"%20"),Ne(R,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,R)}let D={get action(){return h},get location(){return t(i,u)},listen(m){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ss,C),c=m,()=>{i.removeEventListener(ss,C),c=null}},createHref(m){return e(i,m)},createURL:j,encodeLocation(m){let R=j(m);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:v,go(m){return u.go(m)}};return D}var ns;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ns||(ns={}));function _i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function ki(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?yr(t):t;return{pathname:r?r.startsWith("/")?r:Ti(r,e):e,search:Di(s),hash:Ni(i)}}function Ti(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Cr(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fi(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ji(t,e){let r=Fi(t);return e?r.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Pi(t,e,r,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=yr(t):(i=Lt({},t),Ne(!i.pathname||!i.pathname.includes("?"),Cr("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Cr("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Cr("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=r;else{let C=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),C-=1;i.pathname=x.join("/")}h=C>=0?e[C]:"/"}let c=ki(i,h),p=u&&u!=="/"&&u.endsWith("/"),d=(a||u===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(p||d)&&(c.pathname+="/"),c}const Ii=t=>t.join("/").replace(/\/\/+/g,"/"),Di=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ni=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ps=["post","put","patch","delete"];new Set(Ps);const Mi=["get",...Ps];new Set(Mi);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hr(){return hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},hr.apply(this,arguments)}const Is=y.createContext(null),Kr=y.createContext(null),Hr=y.createContext(null),Wr=y.createContext({outlet:null,matches:[],isDataRoute:!1});function Gr(){return y.useContext(Hr)!=null}function Ds(){return Gr()||Ne(!1),y.useContext(Hr).location}function Ns(t){y.useContext(Kr).static||y.useLayoutEffect(t)}function Ui(){let{isDataRoute:t}=y.useContext(Wr);return t?Qi():Li()}function Li(){Gr()||Ne(!1);let t=y.useContext(Is),{basename:e,future:r,navigator:s}=y.useContext(Kr),{matches:i}=y.useContext(Wr),{pathname:a}=Ds(),u=JSON.stringify(ji(i,r.v7_relativeSplatPath)),h=y.useRef(!1);return Ns(()=>{h.current=!0}),y.useCallback(function(p,d){if(d===void 0&&(d={}),!h.current)return;if(typeof p=="number"){s.go(p);return}let C=Pi(p,JSON.parse(u),a,d.relative==="path");t==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:Ii([e,C.pathname])),(d.replace?s.replace:s.push)(C,d.state,d)},[e,s,u,a,t])}var Ms=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ms||{}),Us=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Us||{});function Ai(t){let e=y.useContext(Is);return e||Ne(!1),e}function qi(t){let e=y.useContext(Wr);return e||Ne(!1),e}function Bi(t){let e=qi(),r=e.matches[e.matches.length-1];return r.route.id||Ne(!1),r.route.id}function Qi(){let{router:t}=Ai(Ms.UseNavigateStable),e=Bi(Us.UseNavigateStable),r=y.useRef(!1);return Ns(()=>{r.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hr({fromRouteId:e},a)))},[t,e])}function $i(t){let{basename:e="/",children:r=null,location:s,navigationType:i=at.Pop,navigator:a,static:u=!1,future:h}=t;Gr()&&Ne(!1);let c=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:c,navigator:a,static:u,future:hr({v7_relativeSplatPath:!1},h)}),[c,h,a,u]);typeof s=="string"&&(s=yr(s));let{pathname:d="/",search:C="",hash:x="",state:v=null,key:j="default"}=s,D=y.useMemo(()=>{let m=_i(d,c);return m==null?null:{location:{pathname:m,search:C,hash:x,state:v,key:j},navigationType:i}},[c,d,C,x,v,j,i]);return D==null?null:y.createElement(Kr.Provider,{value:p},y.createElement(Hr.Provider,{children:r,value:D}))}new Promise(()=>{});/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zi="6";try{window.__reactRouterVersion=zi}catch{}const Ki="startTransition",as=bi[Ki];function Hi(t){let{basename:e,children:r,future:s,window:i}=t,a=y.useRef();a.current==null&&(a.current=Ri({window:i,v5Compat:!0}));let u=a.current,[h,c]=y.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},d=y.useCallback(C=>{p&&as?as(()=>c(C)):c(C)},[c,p]);return y.useLayoutEffect(()=>u.listen(d),[u,d]),y.createElement($i,{basename:e,children:r,location:h.location,navigationType:h.action,navigator:u,future:s})}var os;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(os||(os={}));var us;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(us||(us={}));var Mt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nt=typeof window>"u"||"Deno"in window;function Oe(){}function Wi(t,e){return typeof t=="function"?t(e):t}function Sr(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ls(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ls(t,e){const{type:r="all",exact:s,fetchStatus:i,predicate:a,queryKey:u,stale:h}=t;if(u){if(s){if(e.queryHash!==Vr(u,e.options))return!1}else if(!At(e.queryKey,u))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function cs(t,e){const{exact:r,status:s,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(mt(e.options.mutationKey)!==mt(a))return!1}else if(!At(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Vr(t,e){return((e==null?void 0:e.queryKeyHashFn)||mt)(t)}function mt(t){return JSON.stringify(t,(e,r)=>_r(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function At(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!At(t[r],e[r])):!1}function As(t,e){if(t===e)return t;const r=hs(t)&&hs(e);if(r||_r(t)&&_r(e)){const s=r?t:Object.keys(t),i=s.length,a=r?e:Object.keys(e),u=a.length,h=r?[]:{};let c=0;for(let p=0;p<u;p++){const d=r?p:a[p];!r&&t[d]===void 0&&e[d]===void 0&&s.includes(d)?(h[d]=void 0,c++):(h[d]=As(t[d],e[d]),h[d]===t[d]&&t[d]!==void 0&&c++)}return i===u&&c===i?t:h}return e}function dr(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function hs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _r(t){if(!ds(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ds(r)||!r.hasOwnProperty("isPrototypeOf"))}function ds(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gi(t){return new Promise(e=>{setTimeout(e,t)})}function kr(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?As(t,e):e}function Vi(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Ji(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ot,Ge,bt,xs,Yi=(xs=class extends Mt{constructor(){super();E(this,ot,void 0);E(this,Ge,void 0);E(this,bt,void 0);b(this,bt,e=>{if(!Nt&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){n(this,Ge)||this.setEventListener(n(this,bt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ge))==null||e.call(this),b(this,Ge,void 0))}setEventListener(e){var r;b(this,bt,e),(r=n(this,Ge))==null||r.call(this),b(this,Ge,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){n(this,ot)!==e&&(b(this,ot,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof n(this,ot)=="boolean"?n(this,ot):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ot=new WeakMap,Ge=new WeakMap,bt=new WeakMap,xs),fr=new Yi,xt,Ve,wt,ws,Zi=(ws=class extends Mt{constructor(){super();E(this,xt,!0);E(this,Ve,void 0);E(this,wt,void 0);b(this,wt,e=>{if(!Nt&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){n(this,Ve)||this.setEventListener(n(this,wt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ve))==null||e.call(this),b(this,Ve,void 0))}setEventListener(e){var r;b(this,wt,e),(r=n(this,Ve))==null||r.call(this),b(this,Ve,e(this.setOnline.bind(this)))}setOnline(e){n(this,xt)!==e&&(b(this,xt,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return n(this,xt)}},xt=new WeakMap,Ve=new WeakMap,wt=new WeakMap,ws),pr=new Zi;function Xi(t){return Math.min(1e3*2**t,3e4)}function vr(t){return(t??"online")==="online"?pr.isOnline():!0}var qs=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Er(t){return t instanceof qs}function Bs(t){let e=!1,r=0,s=!1,i,a,u;const h=new Promise((m,R)=>{a=m,u=R}),c=m=>{var R;s||(v(new qs(m)),(R=t.abort)==null||R.call(t))},p=()=>{e=!0},d=()=>{e=!1},C=()=>!fr.isFocused()||t.networkMode!=="always"&&!pr.isOnline(),x=m=>{var R;s||(s=!0,(R=t.onSuccess)==null||R.call(t,m),i==null||i(),a(m))},v=m=>{var R;s||(s=!0,(R=t.onError)==null||R.call(t,m),i==null||i(),u(m))},j=()=>new Promise(m=>{var R;i=N=>{const L=s||!C();return L&&m(N),L},(R=t.onPause)==null||R.call(t)}).then(()=>{var m;i=void 0,s||(m=t.onContinue)==null||m.call(t)}),D=()=>{if(s)return;let m;try{m=t.fn()}catch(R){m=Promise.reject(R)}Promise.resolve(m).then(x).catch(R=>{var X;if(s)return;const N=t.retry??(Nt?0:3),L=t.retryDelay??Xi,z=typeof L=="function"?L(r,R):L,H=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,R);if(e||!H){v(R);return}r++,(X=t.onFail)==null||X.call(t,r,R),Gi(z).then(()=>{if(C())return j()}).then(()=>{e?v(R):D()})})};return vr(t.networkMode)?D():j().then(D),{promise:h,cancel:c,continue:()=>(i==null?void 0:i())?h:Promise.resolve(),cancelRetry:p,continueRetry:d}}function en(){let t=[],e=0,r=x=>{x()},s=x=>{x()},i=x=>setTimeout(x,0);const a=x=>{i=x},u=x=>{let v;e++;try{v=x()}finally{e--,e||p()}return v},h=x=>{e?t.push(x):i(()=>{r(x)})},c=x=>(...v)=>{h(()=>{x(...v)})},p=()=>{const x=t;t=[],x.length&&i(()=>{s(()=>{x.forEach(v=>{r(v)})})})};return{batch:u,batchCalls:c,schedule:h,setNotifyFunction:x=>{r=x},setBatchNotifyFunction:x=>{s=x},setScheduler:a}}var se=en(),ut,Cs,Qs=(Cs=class{constructor(){E(this,ut,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sr(this.gcTime)&&b(this,ut,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nt?1/0:5*60*1e3))}clearGcTimeout(){n(this,ut)&&(clearTimeout(n(this,ut)),b(this,ut,void 0))}},ut=new WeakMap,Cs),Ct,Et,Ce,Je,Ee,ae,qt,lt,Rt,nr,ke,Ae,Es,tn=(Es=class extends Qs{constructor(e){super();E(this,Rt);E(this,ke);E(this,Ct,void 0);E(this,Et,void 0);E(this,Ce,void 0);E(this,Je,void 0);E(this,Ee,void 0);E(this,ae,void 0);E(this,qt,void 0);E(this,lt,void 0);b(this,lt,!1),b(this,qt,e.defaultOptions),I(this,Rt,nr).call(this,e.options),b(this,ae,[]),b(this,Ce,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,Ct,e.state||rn(this.options)),this.state=n(this,Ct),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!n(this,ae).length&&this.state.fetchStatus==="idle"&&n(this,Ce).remove(this)}setData(e,r){const s=kr(this.state.data,e,this.options);return I(this,ke,Ae).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){I(this,ke,Ae).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s;const r=n(this,Je);return(s=n(this,Ee))==null||s.cancel(e),r?r.then(Oe).catch(Oe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Ct))}isActive(){return n(this,ae).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||this.state.data===void 0||n(this,ae).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ls(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=n(this,ae).find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=n(this,Ee))==null||r.continue()}onOnline(){var r;const e=n(this,ae).find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=n(this,Ee))==null||r.continue()}addObserver(e){n(this,ae).includes(e)||(n(this,ae).push(e),this.clearGcTimeout(),n(this,Ce).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){n(this,ae).includes(e)&&(b(this,ae,n(this,ae).filter(r=>r!==e)),n(this,ae).length||(n(this,Ee)&&(n(this,lt)?n(this,Ee).cancel({revert:!0}):n(this,Ee).cancelRetry()),this.scheduleGc()),n(this,Ce).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return n(this,ae).length}invalidate(){this.state.isInvalidated||I(this,ke,Ae).call(this,{type:"invalidate"})}fetch(e,r){var p,d,C,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(n(this,Je))return(p=n(this,Ee))==null||p.continueRetry(),n(this,Je)}if(e&&I(this,Rt,nr).call(this,e),!this.options.queryFn){const v=n(this,ae).find(j=>j.options.queryFn);v&&I(this,Rt,nr).call(this,v.options)}const s=new AbortController,i={queryKey:this.queryKey,meta:this.meta},a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(b(this,lt,!0),s.signal)})};a(i);const u=()=>this.options.queryFn?(b(this,lt,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),h={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};a(h),(d=this.options.behavior)==null||d.onFetch(h,this),b(this,Et,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((C=h.fetchOptions)==null?void 0:C.meta))&&I(this,ke,Ae).call(this,{type:"fetch",meta:(x=h.fetchOptions)==null?void 0:x.meta});const c=v=>{var j,D,m,R;Er(v)&&v.silent||I(this,ke,Ae).call(this,{type:"error",error:v}),Er(v)||((D=(j=n(this,Ce).config).onError)==null||D.call(j,v,this),(R=(m=n(this,Ce).config).onSettled)==null||R.call(m,this.state.data,v,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return b(this,Ee,Bs({fn:h.fetchFn,abort:s.abort.bind(s),onSuccess:v=>{var j,D,m,R;if(v===void 0){c(new Error(`${this.queryHash} data is undefined`));return}this.setData(v),(D=(j=n(this,Ce).config).onSuccess)==null||D.call(j,v,this),(R=(m=n(this,Ce).config).onSettled)==null||R.call(m,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(v,j)=>{I(this,ke,Ae).call(this,{type:"failed",failureCount:v,error:j})},onPause:()=>{I(this,ke,Ae).call(this,{type:"pause"})},onContinue:()=>{I(this,ke,Ae).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode})),b(this,Je,n(this,Ee).promise),n(this,Je)}},Ct=new WeakMap,Et=new WeakMap,Ce=new WeakMap,Je=new WeakMap,Ee=new WeakMap,ae=new WeakMap,qt=new WeakMap,lt=new WeakMap,Rt=new WeakSet,nr=function(e){this.options={...n(this,qt),...e},this.updateGcTime(this.options.gcTime)},ke=new WeakSet,Ae=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:vr(this.options.networkMode)?"fetching":"paused",...s.data===void 0&&{error:null,status:"pending"}};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Er(i)&&i.revert&&n(this,Et)?{...n(this,Et),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),se.batch(()=>{n(this,ae).forEach(s=>{s.onQueryUpdate()}),n(this,Ce).notify({query:this,type:"updated",action:e})})},Es);function rn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fe,Rs,$s=(Rs=class extends Mt{constructor(e={}){super();E(this,Fe,void 0);this.config=e,b(this,Fe,new Map)}build(e,r,s){const i=r.queryKey,a=r.queryHash??Vr(i,r);let u=this.get(a);return u||(u=new tn({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){n(this,Fe).has(e.queryHash)||(n(this,Fe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=n(this,Fe).get(e.queryHash);r&&(e.destroy(),r===e&&n(this,Fe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){se.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,Fe).get(e)}getAll(){return[...n(this,Fe).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ls(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>ls(e,s)):r}notify(e){se.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){se.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){se.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fe=new WeakMap,Rs),je,Bt,me,Ot,Pe,He,Os,sn=(Os=class extends Qs{constructor(e){super();E(this,Pe);E(this,je,void 0);E(this,Bt,void 0);E(this,me,void 0);E(this,Ot,void 0);this.mutationId=e.mutationId,b(this,Bt,e.defaultOptions),b(this,me,e.mutationCache),b(this,je,[]),this.state=e.state||zs(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...n(this,Bt),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,je).includes(e)||(n(this,je).push(e),this.clearGcTimeout(),n(this,me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,je,n(this,je).filter(r=>r!==e)),this.scheduleGc(),n(this,me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,je).length||(this.state.status==="pending"?this.scheduleGc():n(this,me).remove(this))}continue(){var e;return((e=n(this,Ot))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,u,h,c,p,d,C,x,v,j,D,m,R,N,L,z,H,X,M;const r=()=>(b(this,Ot,Bs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{I(this,Pe,He).call(this,{type:"failed",failureCount:o,error:l})},onPause:()=>{I(this,Pe,He).call(this,{type:"pause"})},onContinue:()=>{I(this,Pe,He).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),n(this,Ot).promise),s=this.state.status==="pending";try{if(!s){I(this,Pe,He).call(this,{type:"pending",variables:e}),await((a=(i=n(this,me).config).onMutate)==null?void 0:a.call(i,e,this));const l=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e));l!==this.state.context&&I(this,Pe,He).call(this,{type:"pending",context:l,variables:e})}const o=await r();return await((p=(c=n(this,me).config).onSuccess)==null?void 0:p.call(c,o,e,this.state.context,this)),await((C=(d=this.options).onSuccess)==null?void 0:C.call(d,o,e,this.state.context)),await((v=(x=n(this,me).config).onSettled)==null?void 0:v.call(x,o,null,this.state.variables,this.state.context,this)),await((D=(j=this.options).onSettled)==null?void 0:D.call(j,o,null,e,this.state.context)),I(this,Pe,He).call(this,{type:"success",data:o}),o}catch(o){try{throw await((R=(m=n(this,me).config).onError)==null?void 0:R.call(m,o,e,this.state.context,this)),await((L=(N=this.options).onError)==null?void 0:L.call(N,o,e,this.state.context)),await((H=(z=n(this,me).config).onSettled)==null?void 0:H.call(z,void 0,o,this.state.variables,this.state.context,this)),await((M=(X=this.options).onSettled)==null?void 0:M.call(X,void 0,o,e,this.state.context)),o}finally{I(this,Pe,He).call(this,{type:"error",error:o})}}}},je=new WeakMap,Bt=new WeakMap,me=new WeakMap,Ot=new WeakMap,Pe=new WeakSet,He=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!vr(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),se.batch(()=>{n(this,je).forEach(s=>{s.onMutationUpdate(e)}),n(this,me).notify({mutation:this,type:"updated",action:e})})},Os);function zs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Re,Qt,ct,Ss,nn=(Ss=class extends Mt{constructor(e={}){super();E(this,Re,void 0);E(this,Qt,void 0);E(this,ct,void 0);this.config=e,b(this,Re,[]),b(this,Qt,0)}build(e,r,s){const i=new sn({mutationCache:this,mutationId:++sr(this,Qt)._,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){n(this,Re).push(e),this.notify({type:"added",mutation:e})}remove(e){b(this,Re,n(this,Re).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){se.batch(()=>{n(this,Re).forEach(e=>{this.remove(e)})})}getAll(){return n(this,Re)}find(e){const r={exact:!0,...e};return n(this,Re).find(s=>cs(r,s))}findAll(e={}){return n(this,Re).filter(r=>cs(e,r))}notify(e){se.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return b(this,ct,(n(this,ct)??Promise.resolve()).then(()=>{const e=n(this,Re).filter(r=>r.state.isPaused);return se.batch(()=>e.reduce((r,s)=>r.then(()=>s.continue().catch(Oe)),Promise.resolve()))}).then(()=>{b(this,ct,void 0)})),n(this,ct)}},Re=new WeakMap,Qt=new WeakMap,ct=new WeakMap,Ss);function an(t){return{onFetch:(e,r)=>{const s=async()=>{var j,D,m,R,N;const i=e.options,a=(m=(D=(j=e.fetchOptions)==null?void 0:j.meta)==null?void 0:D.fetchMore)==null?void 0:m.direction,u=((R=e.state.data)==null?void 0:R.pages)||[],h=((N=e.state.data)==null?void 0:N.pageParams)||[],c={pages:[],pageParams:[]};let p=!1;const d=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},C=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),x=async(L,z,H)=>{if(p)return Promise.reject();if(z==null&&L.pages.length)return Promise.resolve(L);const X={queryKey:e.queryKey,pageParam:z,direction:H?"backward":"forward",meta:e.options.meta};d(X);const M=await C(X),{maxPages:o}=e.options,l=H?Ji:Vi;return{pages:l(L.pages,M,o),pageParams:l(L.pageParams,z,o)}};let v;if(a&&u.length){const L=a==="backward",z=L?on:fs,H={pages:u,pageParams:h},X=z(i,H);v=await x(H,X,L)}else{v=await x(c,h[0]??i.initialPageParam);const L=t??u.length;for(let z=1;z<L;z++){const H=fs(i,v);v=await x(v,H)}}return v};e.options.persister?e.fetchFn=()=>{var i,a;return(a=(i=e.options).persister)==null?void 0:a.call(i,s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=s}}}function fs(t,{pages:e,pageParams:r}){const s=e.length-1;return t.getNextPageParam(e[s],e,r[s],r)}function on(t,{pages:e,pageParams:r}){var s;return(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r)}var re,Ye,Ze,St,_t,Xe,kt,Tt,_s,un=(_s=class{constructor(t={}){E(this,re,void 0);E(this,Ye,void 0);E(this,Ze,void 0);E(this,St,void 0);E(this,_t,void 0);E(this,Xe,void 0);E(this,kt,void 0);E(this,Tt,void 0);b(this,re,t.queryCache||new $s),b(this,Ye,t.mutationCache||new nn),b(this,Ze,t.defaultOptions||{}),b(this,St,new Map),b(this,_t,new Map),b(this,Xe,0)}mount(){sr(this,Xe)._++,n(this,Xe)===1&&(b(this,kt,fr.subscribe(()=>{fr.isFocused()&&(this.resumePausedMutations(),n(this,re).onFocus())})),b(this,Tt,pr.subscribe(t=>{t&&(this.resumePausedMutations(),n(this,re).onOnline())})))}unmount(){var t,e;sr(this,Xe)._--,n(this,Xe)===0&&((t=n(this,kt))==null||t.call(this),b(this,kt,void 0),(e=n(this,Tt))==null||e.call(this),b(this,Tt,void 0))}isFetching(t){return n(this,re).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return n(this,Ye).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=n(this,re).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=n(this,re).get(s.queryHash),a=i==null?void 0:i.state.data,u=Wi(e,a);if(u!==void 0)return n(this,re).build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return se.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=n(this,re).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=n(this,re);se.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=n(this,re),s={type:"active",...t};return se.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=se.batch(()=>n(this,re).findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(Oe).catch(Oe)}invalidateQueries(t={},e={}){return se.batch(()=>{if(n(this,re).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=se.batch(()=>n(this,re).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Oe)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Oe)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=n(this,re).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oe).catch(Oe)}fetchInfiniteQuery(t){return t.behavior=an(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oe).catch(Oe)}resumePausedMutations(){return pr.isOnline()?n(this,Ye).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,re)}getMutationCache(){return n(this,Ye)}getDefaultOptions(){return n(this,Ze)}setDefaultOptions(t){b(this,Ze,t)}setQueryDefaults(t,e){n(this,St).set(mt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...n(this,St).values()];let r={};return e.forEach(s=>{At(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){n(this,_t).set(mt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...n(this,_t).values()];let r={};return e.forEach(s=>{At(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...n(this,Ze).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vr(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...n(this,Ze).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){n(this,re).clear(),n(this,Ye).clear()}},re=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,St=new WeakMap,_t=new WeakMap,Xe=new WeakMap,kt=new WeakMap,Tt=new WeakMap,_s),fe,$,$t,de,ht,Ft,Ie,zt,jt,Pt,dt,ft,et,It,pt,Ut,Kt,Tr,Ht,Fr,Wt,jr,Gt,Pr,Vt,Ir,Jt,Dr,Yt,Nr,gr,Ks,ks,ln=(ks=class extends Mt{constructor(e,r){super();E(this,pt);E(this,Kt);E(this,Ht);E(this,Wt);E(this,Gt);E(this,Vt);E(this,Jt);E(this,Yt);E(this,gr);E(this,fe,void 0);E(this,$,void 0);E(this,$t,void 0);E(this,de,void 0);E(this,ht,void 0);E(this,Ft,void 0);E(this,Ie,void 0);E(this,zt,void 0);E(this,jt,void 0);E(this,Pt,void 0);E(this,dt,void 0);E(this,ft,void 0);E(this,et,void 0);E(this,It,new Set);this.options=r,b(this,fe,e),b(this,Ie,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,$).addObserver(this),ps(n(this,$),this.options)?I(this,pt,Ut).call(this):this.updateResult(),I(this,Gt,Pr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mr(n(this,$),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mr(n(this,$),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,I(this,Vt,Ir).call(this),I(this,Jt,Dr).call(this),n(this,$).removeObserver(this)}setOptions(e,r){const s=this.options,i=n(this,$);if(this.options=n(this,fe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");I(this,Yt,Nr).call(this),dr(this.options,s)||n(this,fe).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,$),observer:this});const a=this.hasListeners();a&&ms(n(this,$),i,this.options,s)&&I(this,pt,Ut).call(this),this.updateResult(r),a&&(n(this,$)!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&I(this,Kt,Tr).call(this);const u=I(this,Ht,Fr).call(this);a&&(n(this,$)!==i||this.options.enabled!==s.enabled||u!==n(this,et))&&I(this,Wt,jr).call(this,u)}getOptimisticResult(e){const r=n(this,fe).getQueryCache().build(n(this,fe),e),s=this.createResult(r,e);return hn(this,s)&&(b(this,de,s),b(this,Ft,this.options),b(this,ht,n(this,$).state)),s}getCurrentResult(){return n(this,de)}trackResult(e,r){const s={};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),s}trackProp(e){n(this,It).add(e)}getCurrentQuery(){return n(this,$)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=n(this,fe).defaultQueryOptions(e),s=n(this,fe).getQueryCache().build(n(this,fe),r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(e){return I(this,pt,Ut).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,de)))}createResult(e,r){var M;const s=n(this,$),i=this.options,a=n(this,de),u=n(this,ht),h=n(this,Ft),p=e!==s?e.state:n(this,$t),{state:d}=e;let{error:C,errorUpdatedAt:x,fetchStatus:v,status:j}=d,D=!1,m;if(r._optimisticResults){const o=this.hasListeners(),l=!o&&ps(e,r),g=o&&ms(e,s,r,i);(l||g)&&(v=vr(e.options.networkMode)?"fetching":"paused",d.data===void 0&&(j="pending")),r._optimisticResults==="isRestoring"&&(v="idle")}if(r.select&&d.data!==void 0)if(a&&d.data===(u==null?void 0:u.data)&&r.select===n(this,zt))m=n(this,jt);else try{b(this,zt,r.select),m=r.select(d.data),m=kr(a==null?void 0:a.data,m,r),b(this,jt,m),b(this,Ie,null)}catch(o){b(this,Ie,o)}else m=d.data;if(r.placeholderData!==void 0&&m===void 0&&j==="pending"){let o;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(h==null?void 0:h.placeholderData))o=a.data;else if(o=typeof r.placeholderData=="function"?r.placeholderData((M=n(this,Pt))==null?void 0:M.state.data,n(this,Pt)):r.placeholderData,r.select&&o!==void 0)try{o=r.select(o),b(this,Ie,null)}catch(l){b(this,Ie,l)}o!==void 0&&(j="success",m=kr(a==null?void 0:a.data,o,r),D=!0)}n(this,Ie)&&(C=n(this,Ie),m=n(this,jt),x=Date.now(),j="error");const R=v==="fetching",N=j==="pending",L=j==="error",z=N&&R,H=d.data!==void 0;return{status:j,fetchStatus:v,isPending:N,isSuccess:j==="success",isError:L,isInitialLoading:z,isLoading:z,data:m,dataUpdatedAt:d.dataUpdatedAt,error:C,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>p.dataUpdateCount||d.errorUpdateCount>p.errorUpdateCount,isFetching:R,isRefetching:R&&!N,isLoadingError:L&&!H,isPaused:v==="paused",isPlaceholderData:D,isRefetchError:L&&H,isStale:Jr(e,r),refetch:this.refetch}}updateResult(e){const r=n(this,de),s=this.createResult(n(this,$),this.options);if(b(this,ht,n(this,$).state),b(this,Ft,this.options),n(this,ht).data!==void 0&&b(this,Pt,n(this,$)),dr(s,r))return;b(this,de,s);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:u}=this.options,h=typeof u=="function"?u():u;if(h==="all"||!h&&!n(this,It).size)return!0;const c=new Set(h??n(this,It));return this.options.throwOnError&&c.add("error"),Object.keys(n(this,de)).some(p=>{const d=p;return n(this,de)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),I(this,gr,Ks).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&I(this,Gt,Pr).call(this)}},fe=new WeakMap,$=new WeakMap,$t=new WeakMap,de=new WeakMap,ht=new WeakMap,Ft=new WeakMap,Ie=new WeakMap,zt=new WeakMap,jt=new WeakMap,Pt=new WeakMap,dt=new WeakMap,ft=new WeakMap,et=new WeakMap,It=new WeakMap,pt=new WeakSet,Ut=function(e){I(this,Yt,Nr).call(this);let r=n(this,$).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Oe)),r},Kt=new WeakSet,Tr=function(){if(I(this,Vt,Ir).call(this),Nt||n(this,de).isStale||!Sr(this.options.staleTime))return;const r=Ls(n(this,de).dataUpdatedAt,this.options.staleTime)+1;b(this,dt,setTimeout(()=>{n(this,de).isStale||this.updateResult()},r))},Ht=new WeakSet,Fr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,$)):this.options.refetchInterval)??!1},Wt=new WeakSet,jr=function(e){I(this,Jt,Dr).call(this),b(this,et,e),!(Nt||this.options.enabled===!1||!Sr(n(this,et))||n(this,et)===0)&&b(this,ft,setInterval(()=>{(this.options.refetchIntervalInBackground||fr.isFocused())&&I(this,pt,Ut).call(this)},n(this,et)))},Gt=new WeakSet,Pr=function(){I(this,Kt,Tr).call(this),I(this,Wt,jr).call(this,I(this,Ht,Fr).call(this))},Vt=new WeakSet,Ir=function(){n(this,dt)&&(clearTimeout(n(this,dt)),b(this,dt,void 0))},Jt=new WeakSet,Dr=function(){n(this,ft)&&(clearInterval(n(this,ft)),b(this,ft,void 0))},Yt=new WeakSet,Nr=function(){const e=n(this,fe).getQueryCache().build(n(this,fe),this.options);if(e===n(this,$))return;const r=n(this,$);b(this,$,e),b(this,$t,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},gr=new WeakSet,Ks=function(e){se.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(n(this,de))}),n(this,fe).getQueryCache().notify({query:n(this,$),type:"observerResultsUpdated"})})},ks);function cn(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ps(t,e){return cn(t,e)||t.state.data!==void 0&&Mr(t,e,e.refetchOnMount)}function Mr(t,e,r){if(e.enabled!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Jr(t,e)}return!1}function ms(t,e,r,s){return r.enabled!==!1&&(t!==e||s.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Jr(t,r)}function Jr(t,e){return t.isStaleByTime(e.staleTime)}function hn(t,e){return!dr(t.getCurrentResult(),e)}var tt,rt,ge,qe,Dt,ar,Zt,Ur,Ts,dn=(Ts=class extends Mt{constructor(r,s){super();E(this,Dt);E(this,Zt);E(this,tt,void 0);E(this,rt,void 0);E(this,ge,void 0);E(this,qe,void 0);b(this,tt,r),this.setOptions(s),this.bindMethods(),I(this,Dt,ar).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const s=this.options;this.options=n(this,tt).defaultMutationOptions(r),dr(this.options,s)||n(this,tt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,ge),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&mt(s.mutationKey)!==mt(this.options.mutationKey)?this.reset():(i=n(this,ge))==null||i.setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=n(this,ge))==null||r.removeObserver(this)}onMutationUpdate(r){I(this,Dt,ar).call(this),I(this,Zt,Ur).call(this,r)}getCurrentResult(){return n(this,rt)}reset(){var r;(r=n(this,ge))==null||r.removeObserver(this),b(this,ge,void 0),I(this,Dt,ar).call(this),I(this,Zt,Ur).call(this)}mutate(r,s){var i;return b(this,qe,s),(i=n(this,ge))==null||i.removeObserver(this),b(this,ge,n(this,tt).getMutationCache().build(n(this,tt),this.options)),n(this,ge).addObserver(this),n(this,ge).execute(r)}},tt=new WeakMap,rt=new WeakMap,ge=new WeakMap,qe=new WeakMap,Dt=new WeakSet,ar=function(){var s;const r=((s=n(this,ge))==null?void 0:s.state)??zs();b(this,rt,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Zt=new WeakSet,Ur=function(r){se.batch(()=>{var s,i,a,u,h,c,p,d;if(n(this,qe)&&this.hasListeners()){const C=n(this,rt).variables,x=n(this,rt).context;(r==null?void 0:r.type)==="success"?((i=(s=n(this,qe)).onSuccess)==null||i.call(s,r.data,C,x),(u=(a=n(this,qe)).onSettled)==null||u.call(a,r.data,null,C,x)):(r==null?void 0:r.type)==="error"&&((c=(h=n(this,qe)).onError)==null||c.call(h,r.error,C,x),(d=(p=n(this,qe)).onSettled)==null||d.call(p,void 0,r.error,C,x))}this.listeners.forEach(C=>{C(n(this,rt))})})},Ts),Hs=y.createContext(void 0),Ws=t=>{const e=y.useContext(Hs);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fn=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Hs.Provider,{value:t,children:e})),Gs=y.createContext(!1),pn=()=>y.useContext(Gs);Gs.Provider;function mn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gn=y.createContext(mn()),yn=()=>y.useContext(gn);function Vs(t,e){return typeof t=="function"?t(...e):!!t}function vn(){}var bn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},xn=t=>{y.useEffect(()=>{t.clearReset()},[t])},wn=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&Vs(r,[t.error,s]),Cn=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},En=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Rn=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function On(t,e,r){const s=Ws(r),i=pn(),a=yn(),u=s.defaultQueryOptions(t);u._optimisticResults=i?"isRestoring":"optimistic",Cn(u),bn(u,a),xn(a);const[h]=y.useState(()=>new e(s,u)),c=h.getOptimisticResult(u);if(y.useSyncExternalStore(y.useCallback(p=>{const d=i?()=>{}:h.subscribe(se.batchCalls(p));return h.updateResult(),d},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),y.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),En(u,c))throw Rn(u,h,a);if(wn({result:c,errorResetBoundary:a,throwOnError:u.throwOnError,query:s.getQueryCache().get(u.queryHash)}))throw c.error;return u.notifyOnChangeProps?c:h.trackResult(c)}function Js(t,e){return On(t,ln,e)}function Ys(t,e){const r=Ws(e),[s]=y.useState(()=>new dn(r,t));y.useEffect(()=>{s.setOptions(t)},[s,t]);const i=y.useSyncExternalStore(y.useCallback(u=>s.subscribe(se.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=y.useCallback((u,h)=>{s.mutate(u,h).catch(vn)},[s]);if(i.error&&Vs(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var Sn=function(){return null};function Xt({children:t,disabled:e,type:r,className:s,onClick:i,variant:a}){return f.jsx("button",{className:`
        inline-flex w-fit items-center justify-center rounded-md shadow-sm transition-buttons duration-200 px-4 py-2 text-sm font-medium

        ${e?"":`
              hover:shadow-lg
              focus:outline-none focus:ring-2 focus:ring-offset-2`}

        ${a==="primary"?`
              bg-oxford-600 text-white
              hover:bg-oxford-700
              focus:bg-oxford-700 focus:ring-oxford-500 focus:ring-offset-white
            `:""}
        ${a==="secondary"?`
              bg-slate-500 text-white
              hover:bg-slate-600
              focus:bg-slate-600 focus:ring-slate-500 focus:ring-offset-white
            `:""}

        ${s}
      `,disabled:e,onClick:i,type:r,children:t})}Xt.propTypes={children:w.node.isRequired,className:w.string,disabled:w.bool,onClick:w.func,type:w.string,variant:w.string};Xt.defaultProps={className:null,disabled:!1,onClick:()=>null,type:"button",variant:"primary"};function _n(t){let e=[],r=[];return t.map((s,i)=>{const a=s.name.split("/");return i===0?(e=[],e=a):(r=[],a.map((u,h)=>u===e[h]?r.push(u):null))}),r.join("/")}function kn(t){const e=new Intl.Collator("en"),r=[...t].sort((i,a)=>a.date.localeCompare(i.date)).map((i,a)=>({dateOrder:a,...i})).sort((i,a)=>e.compare(i.name.toUpperCase(),a.name.toUpperCase())).map((i,a)=>({nameOrder:a,...i}));if(r.length<2)return r.map(i=>({...i,shortName:i.name,visible:!0}));const s=_n(r);return r.map(i=>({...i,shortName:i.name.replace(`${s}/`,""),visible:!0}))}function Zs({authToken:t,filesUrl:e}){return Js({queryKey:["FILE_LIST"],queryFn:async()=>{const r=await fetch(e,{headers:{Authorization:t}});if(!r.ok)throw new Error("File list not found");return r.json()},select:r=>kn(r.files),meta:{errorMessage:"Unable to load files",id:e}})}const pe={authToken:w.string,basePath:w.string,csrfToken:w.string,filesUrl:w.string,prepareUrl:w.string,publishUrl:w.string},De={date:w.string,id:w.string,is_deleted:w.bool,name:w.string,sha256:w.string,size:w.number,url:w.string,user:w.string};let Tn={data:""},Fn=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Tn,jn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Pn=/\/\*[^]*?\*\/|  +/g,gs=/\n+/g,We=(t,e)=>{let r="",s="",i="";for(let a in t){let u=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+u+";":s+=a[1]=="f"?We(u,a):a+"{"+We(u,a[1]=="k"?"":e)+"}":typeof u=="object"?s+=We(u,e?e.replace(/([^,])+/g,h=>a.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,h):h?h+" "+c:c)):a):u!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=We.p?We.p(a,u):a+":"+u+";")}return r+(e&&i?e+"{"+i+"}":i)+s},Le={},Xs=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Xs(t[r]);return e}return t},In=(t,e,r,s,i)=>{let a=Xs(t),u=Le[a]||(Le[a]=(c=>{let p=0,d=11;for(;p<c.length;)d=101*d+c.charCodeAt(p++)>>>0;return"go"+d})(a));if(!Le[u]){let c=a!==t?t:(p=>{let d,C,x=[{}];for(;d=jn.exec(p.replace(Pn,""));)d[4]?x.shift():d[3]?(C=d[3].replace(gs," ").trim(),x.unshift(x[0][C]=x[0][C]||{})):x[0][d[1]]=d[2].replace(gs," ").trim();return x[0]})(t);Le[u]=We(i?{["@keyframes "+u]:c}:c,r?"":"."+u)}let h=r&&Le.g?Le.g:null;return r&&(Le.g=Le[u]),((c,p,d,C)=>{C?p.data=p.data.replace(C,c):p.data.indexOf(c)===-1&&(p.data=d?c+p.data:p.data+c)})(Le[u],e,s,h),u},Dn=(t,e,r)=>t.reduce((s,i,a)=>{let u=e[a];if(u&&u.call){let h=u(r),c=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=c?"."+c:h&&typeof h=="object"?h.props?"":We(h,""):h===!1?"":h}return s+i+(u??"")},"");function br(t){let e=this||{},r=t.call?t(e.p):t;return In(r.unshift?r.raw?Dn(r,[].slice.call(arguments,1),e.p):r.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):r,Fn(e.target),e.g,e.o,e.k)}let ei,Lr,Ar;br.bind({g:1});let Be=br.bind({k:1});function Nn(t,e,r,s){We.p=e,ei=t,Lr=r,Ar=s}function st(t,e){let r=this||{};return function(){let s=arguments;function i(a,u){let h=Object.assign({},a),c=h.className||i.className;r.p=Object.assign({theme:Lr&&Lr()},h),r.o=/ *go\d+/.test(c),h.className=br.apply(r,s)+(c?" "+c:""),e&&(h.ref=u);let p=t;return t[0]&&(p=h.as||t,delete h.as),Ar&&p[0]&&Ar(h),ei(p,h)}return e?e(i):i}}var Mn=t=>typeof t=="function",mr=(t,e)=>Mn(t)?t(e):t,Un=(()=>{let t=0;return()=>(++t).toString()})(),ti=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Ln=20,or=new Map,An=1e3,ys=t=>{if(or.has(t))return;let e=setTimeout(()=>{or.delete(t),gt({type:4,toastId:t})},An);or.set(t,e)},qn=t=>{let e=or.get(t);e&&clearTimeout(e)},qr=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Ln)};case 1:return e.toast.id&&qn(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?qr(t,{type:1,toast:r}):qr(t,{type:0,toast:r});case 3:let{toastId:s}=e;return s?ys(s):t.toasts.forEach(a=>{ys(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},ur=[],lr={toasts:[],pausedAt:void 0},gt=t=>{lr=qr(lr,t),ur.forEach(e=>{e(lr)})},Bn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Qn=(t={})=>{let[e,r]=y.useState(lr);y.useEffect(()=>(ur.push(r),()=>{let i=ur.indexOf(r);i>-1&&ur.splice(i,1)}),[e]);let s=e.toasts.map(i=>{var a,u;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||Bn[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:s}},$n=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Un()}),er=t=>(e,r)=>{let s=$n(e,t,r);return gt({type:2,toast:s}),s.id},ye=(t,e)=>er("blank")(t,e);ye.error=er("error");ye.success=er("success");ye.loading=er("loading");ye.custom=er("custom");ye.dismiss=t=>{gt({type:3,toastId:t})};ye.remove=t=>gt({type:4,toastId:t});ye.promise=(t,e,r)=>{let s=ye.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(ye.success(mr(e.success,i),{id:s,...r,...r==null?void 0:r.success}),i)).catch(i=>{ye.error(mr(e.error,i),{id:s,...r,...r==null?void 0:r.error})}),t};var zn=(t,e)=>{gt({type:1,toast:{id:t,height:e}})},Kn=()=>{gt({type:5,time:Date.now()})},Hn=t=>{let{toasts:e,pausedAt:r}=Qn(t);y.useEffect(()=>{if(r)return;let a=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let c=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(c<0){h.visible&&ye.dismiss(h.id);return}return setTimeout(()=>ye.dismiss(h.id),c)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,r]);let s=y.useCallback(()=>{r&&gt({type:6,time:Date.now()})},[r]),i=y.useCallback((a,u)=>{let{reverseOrder:h=!1,gutter:c=8,defaultPosition:p}=u||{},d=e.filter(v=>(v.position||p)===(a.position||p)&&v.height),C=d.findIndex(v=>v.id===a.id),x=d.filter((v,j)=>j<C&&v.visible).length;return d.filter(v=>v.visible).slice(...h?[x+1]:[0,x]).reduce((v,j)=>v+(j.height||0)+c,0)},[e]);return{toasts:e,handlers:{updateHeight:zn,startPause:Kn,endPause:s,calculateOffset:i}}},Wn=Be`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gn=Be`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vn=Be`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Jn=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yn=Be`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Zn=st("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Yn} 1s linear infinite;
`,Xn=Be`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ea=Be`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ta=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ea} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ra=st("div")`
  position: absolute;
`,sa=st("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ia=Be`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,na=st("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ia} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aa=({toast:t})=>{let{icon:e,type:r,iconTheme:s}=t;return e!==void 0?typeof e=="string"?y.createElement(na,null,e):e:r==="blank"?null:y.createElement(sa,null,y.createElement(Zn,{...s}),r!=="loading"&&y.createElement(ra,null,r==="error"?y.createElement(Jn,{...s}):y.createElement(ta,{...s})))},oa=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ua=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,la="0%{opacity:0;} 100%{opacity:1;}",ca="0%{opacity:1;} 100%{opacity:0;}",ha=st("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,da=st("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fa=(t,e)=>{let r=t.includes("top")?1:-1,[s,i]=ti()?[la,ca]:[oa(r),ua(r)];return{animation:e?`${Be(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Be(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ri=y.memo(({toast:t,position:e,style:r,children:s})=>{let i=t.height?fa(t.position||e||"top-center",t.visible):{opacity:0},a=y.createElement(aa,{toast:t}),u=y.createElement(da,{...t.ariaProps},mr(t.message,t));return y.createElement(ha,{className:t.className,style:{...i,...r,...t.style}},typeof s=="function"?s({icon:a,message:u}):y.createElement(y.Fragment,null,a,u))});Nn(y.createElement);var pa=({id:t,className:e,style:r,onHeightUpdate:s,children:i})=>{let a=y.useCallback(u=>{if(u){let h=()=>{let c=u.getBoundingClientRect().height;s(t,c)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return y.createElement("div",{ref:a,className:e,style:r},i)},ma=(t,e)=>{let r=t.includes("top"),s=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ti()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...s,...i}},ga=br`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ir=16,ya=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:s,children:i,containerStyle:a,containerClassName:u})=>{let{toasts:h,handlers:c}=Hn(r);return y.createElement("div",{style:{position:"fixed",zIndex:9999,top:ir,left:ir,right:ir,bottom:ir,pointerEvents:"none",...a},className:u,onMouseEnter:c.startPause,onMouseLeave:c.endPause},h.map(p=>{let d=p.position||e,C=c.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),x=ma(d,C);return y.createElement(pa,{id:p.id,key:p.id,onHeightUpdate:c.updateHeight,className:p.visible?ga:"",style:x},p.type==="custom"?mr(p.message,p):i?i(p):y.createElement(ri,{toast:p,position:d}))}))},Yr=ye;function si({toastId:t}){Yr.dismiss(t)}function Zr({toastId:t,message:e,...r}){console.error(e,{...r}),Yr.error(e,{id:t})}function ii({authToken:t,csrfToken:e,filesUrl:r,prepareUrl:s}){const{data:i}=Zs({authToken:t,filesUrl:r}),a="PrepareButton",u=Ys({mutationFn:async c=>{const p=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({file_ids:c})});if(!p.ok){const d=await p.json();throw new Error(d.detail)}return p.json()},onMutate:()=>{si({toastId:a})},onSuccess:c=>{window.location.href=c.url},onError:c=>{Zr({message:`${c}`,toastId:a,prepareUrl:s,url:document.location.href})}});if(!(i!=null&&i.length))return null;const h=i.map(c=>c.id);return f.jsx(Xt,{disabled:u.isPending,onClick:c=>(c.preventDefault(),u.mutate(h)),type:"button",variant:u.isPending?"secondary":"primary",children:u.isPending?"Creating…":"Create a draft publication"})}ii.propTypes={authToken:pe.authToken.isRequired,csrfToken:pe.csrfToken.isRequired,filesUrl:pe.filesUrl.isRequired,prepareUrl:pe.prepareUrl.isRequired};function ni({csrfToken:t,publishUrl:e}){const r="PublishButton",s=Ys({mutationFn:async()=>{const i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:""});if(!i.ok){const a=await i.json();throw new Error(a.detail)}return i.text()},onMutate:()=>{si({toastId:r})},onSuccess:()=>{window.location.reload()},onError:i=>{Zr({message:`${i}`,toastId:r,publishUrl:e,url:document.location.href})}});return f.jsx(Xt,{disabled:s.isPending,onClick:i=>(i.preventDefault(),s.mutate()),type:"button",variant:s.isPending?"secondary":"primary",children:s.isPending?"Creating…":"Create a public published output"})}ni.propTypes={csrfToken:pe.csrfToken.isRequired,publishUrl:pe.publishUrl.isRequired};function vt({className:t,container:e,header:r,innerClassName:s,children:i}){return f.jsxs("div",{className:`bg-white shadow ${t}`,children:[r?f.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-between px-4 py-2 sm:px-6 sm:py-4 sm:flex-nowrap bg-slate-50",children:r}):null,f.jsx("div",{className:`
          ${s}
          ${e?"px-4 py-3 md:px-6 md:py-5":""}
          ${r&&e?"border-t border-slate-200":""}
        `,children:i})]})}vt.propTypes={children:w.element.isRequired,className:w.string,container:w.bool,header:w.element,innerClassName:w.string};vt.defaultProps={className:"",container:!1,header:null,innerClassName:""};const va=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ba=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],xa=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],wa=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],vs=(t,e,r)=>{let s=t;return typeof e=="string"||Array.isArray(e)?s=t.toLocaleString(e,r):(e===!0||r!==void 0)&&(s=t.toLocaleString(void 0,r)),s};function Ca(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const r=e.bits?e.binary?wa:xa:e.binary?ba:va,s=e.space?" ":"";if(e.signed&&t===0)return` 0${s}${r[0]}`;const i=t<0,a=i?"-":e.signed?"+":"";i&&(t=-t);let u;if(e.minimumFractionDigits!==void 0&&(u={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(u={maximumFractionDigits:e.maximumFractionDigits,...u}),t<1){const d=vs(t,e.locale,u);return a+d+s+r[0]}const h=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),r.length-1);t/=(e.binary?1024:1e3)**h,u||(t=t.toPrecision(3));const c=vs(Number(t),e.locale,u),p=r[h];return a+c+s+p}function ai(t){return t?Ca(t,{locale:"en-gb"}):"unknown"}function Xr({autocapitalize:t,autocomplete:e,autocorrect:r,className:s,hideLabel:i,hintText:a,id:u,inputClassName:h,inputmode:c,label:p,labelClass:d,onChange:C,placeholder:x,required:v,type:j,value:D}){return f.jsxs("div",{className:s,children:[f.jsxs("label",{className:`inline-block font-semibold text-lg text-slate-900 cursor-pointer ${d} ${i?"sr-only":"null"}`,htmlFor:u,children:[p,v?f.jsx("span",{"aria-hidden":"true",className:"text-bn-ribbon-700 font-bold",children:"*"}):null]}),a?f.jsx("p",{className:"mb-2 text-sm text-gray-700",children:{hintText:a}}):null,f.jsx("div",{className:"relative",children:f.jsx("input",{autoCapitalize:t,autoComplete:e,autoCorrect:r,className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
            [&:not(:placeholder-shown):not(:focus)]:invalid:border-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-1
            ${h}
            ${i?"":"mt-1"}
          `,id:u,inputMode:c,onChange:C,placeholder:x,required:v,type:j,value:D})})]})}Xr.propTypes={autocapitalize:w.string,autocomplete:w.oneOf(["none","off","characters","words","sentences"]),autocorrect:w.oneOf(["on","off"]),className:w.string,hideLabel:w.bool,hintText:w.string,id:w.string,inputClassName:w.string,inputmode:w.string,label:w.string,labelClass:w.string,onChange:w.func,placeholder:w.string,required:w.bool,type:w.string,value:w.string};Xr.defaultProps={autocapitalize:null,autocomplete:null,autocorrect:null,className:null,hideLabel:!1,hintText:null,id:"inputID",inputClassName:null,inputmode:null,label:null,labelClass:null,onChange:()=>null,placeholder:null,required:null,type:"text",value:null};function oi({files:t,listRef:e,setFiles:r}){const[s,i]=y.useState("");y.useEffect(()=>{const u=[...t].map(h=>({...h,visible:h.shortName.toLowerCase().includes(s.toLowerCase())}));r(u)},[s]);function a(u){var h;(h=e==null?void 0:e.current)==null||h.scrollToItem(0),i(u.target.value)}return f.jsx(Xr,{autocapitalize:"off",autocomplete:"off",autocorrect:"off",className:"mb-1",hideLabel:!0,id:"filterFiles",label:"Find a file…",onChange:u=>a(u),placeholder:"Find a file…",type:"search",value:s})}oi.propTypes={files:w.arrayOf(w.shape()).isRequired,listRef:w.oneOfType([w.func,w.shape({current:w.instanceOf(Element)})]).isRequired,setFiles:w.func.isRequired};function ui({authToken:t,filesUrl:e,listVisible:r,setSelectedFile:s}){const[i,a]=y.useState([]),[u,h]=y.useState("nameOrder"),{data:c,isError:p,isLoading:d,isSuccess:C}=Zs({authToken:t,filesUrl:e}),x=Ui(),v=Ds(),j=y.createRef();if(y.useEffect(()=>{const m=c==null?void 0:c.find(R=>`/${R.name}`===v.pathname);s(m),c&&a(c)},[C]),d)return f.jsx(vt,{container:!0,children:f.jsx("p",{children:"Loading…"})});if(p)return f.jsx(vt,{container:!0,header:f.jsx("h2",{className:"font-semibold text-lg",children:"Error"}),children:f.jsx("p",{children:"Unable to load files"})});const D=({e:m,item:R})=>{m.preventDefault();const N=`/${R.name}`;return x(N),s(R)};return f.jsxs("div",{className:r?"block md:sticky md:top-2":"hidden",children:[f.jsxs("div",{className:"flex flex-row items-center gap-2 mb-1",children:[f.jsx("label",{className:"inline-block font-semibold text-sm text-slate-900 cursor-pointer flex-shrink-0",htmlFor:"fileSort",children:"Sort files by"}),f.jsxs("select",{className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
          `,id:"fileSort",name:"file-sort",onChange:m=>h(m.target.value),value:u,children:[f.jsx("option",{value:"nameOrder",children:"File name"}),f.jsx("option",{value:"dateOrder",children:"Created date"})]})]}),f.jsx(oi,{files:c,listRef:j,setFiles:a}),f.jsx(vt,{className:"py-2 md:max-h-screen md:h-full overflow-x-auto md:overflow-y-auto",container:!1,children:f.jsx("ul",{className:"text-sm text-oxford-600 flex flex-col gap-y-1 items-start",children:i.sort((m,R)=>m[u]-R[u]).map(m=>f.jsx(Fs.Fragment,{children:m.visible&&f.jsx("li",{className:`leading-tight px-4 ${`/${m.name}`===v.pathname?"font-bold text-oxford-800":""}`,children:`/${m.name}`===v.pathname?f.jsx("span",{children:m.shortName}):f.jsx("a",{disabled:`/${m.name}`===v.pathname,href:m.url,onClick:R=>D({e:R,item:m}),title:`File size: ${ai(m.size)}`,children:m.shortName})})},m.id))})})]})}ui.propTypes={authToken:pe.authToken.isRequired,filesUrl:pe.filesUrl.isRequired,listVisible:w.bool.isRequired,setSelectedFile:w.func.isRequired};function tr({className:t,children:e,href:r,newTab:s}){return f.jsx("a",{className:`
        font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
        hover:decoration-transparent hover:text-oxford
        focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
        ${t}
      `,href:r,rel:s?"noreferrer noopener":void 0,target:s?"filePreview":void 0,children:e})}tr.propTypes={children:w.oneOfType([w.element,w.string]),className:w.string,href:w.string.isRequired,newTab:w.bool};tr.defaultProps={children:null,className:null,newTab:!1};function li({fileDate:t,fileName:e,fileSize:r,fileUrl:s}){const i=()=>{if(Date.parse(t)){const a=new Date(t);return{absolute:a.toISOString(),formatted:new Intl.DateTimeFormat("en-GB",{timeZone:"UTC",dateStyle:"short",timeStyle:"short"}).format(a)}}return!1};return f.jsxs("ul",{className:"flex flex-row gap-2 items-center w-full flex-wrap",children:[f.jsx("li",{className:"mr-auto pr-4",children:f.jsx(tr,{className:`
            font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
            hover:decoration-transparent hover:text-oxford
            focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
            after:content-['↗'] after:text-sm after:ml-1 after:absolute after:mt-0.5
          `,href:s,newTab:!0,children:e})}),i()&&f.jsxs("li",{className:"font-mono text-sm text-right whitespace-nowrap",children:[f.jsx("div",{className:"sr-only",children:"Last modified at: "}),f.jsx("time",{className:"",dateTime:i().absolute,title:i().absolute,children:i().formatted})]}),f.jsx("li",{className:"font-mono text-sm text-right whitespace-nowrap ml-4",children:ai(r)})]})}li.propTypes={fileDate:De.date.isRequired,fileName:De.name.isRequired,fileSize:De.size.isRequired,fileUrl:De.url.isRequired};function Ea(){return f.jsx(ya,{position:"top-right",toastOptions:{duration:1/0,style:{whiteSpace:"pre-line",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},error:{style:{color:"#721c24",backgroundColor:"#f8d7da"}}},children:t=>f.jsx(ri,{id:"ToastBar",toast:t,children:({icon:e,message:r})=>f.jsxs(f.Fragment,{children:[e,r,t.type!=="loading"&&f.jsxs("button",{className:"border border-current rounded p-1 hover:bg-current hover:fill-white",onClick:()=>Yr.dismiss(t.id),type:"button",children:[f.jsx("span",{className:"sr-only",children:"Dismiss"}),f.jsx("svg",{className:"h-4 w-4",fill:"currentFill",viewBox:"0 0 20 20",width:"12",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{clipRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",fillRule:"evenodd"})})]})]})})})}const Br=t=>t.toLowerCase().match(/.*\.(?:csv)$/i),ci=t=>t.toLowerCase().match(/.*\.(?:html)$/i),Qr=t=>t.toLowerCase().match(/.*\.(?:gif|jpg|jpeg|png|svg)$/i),hi=t=>t.toLowerCase().match(/.*\.(?:txt)$/i),di=t=>t.toLowerCase().match(/.*\.(?:json)$/i),bs=t=>Br(t)||ci(t)||Qr(t)||hi(t)||di(t),Rr='"File not yet uploaded"';var Ra=Oa;function Oa(t,e,r){var s=null,i=null,a=function(){s&&(clearTimeout(s),i=null,s=null)},u=function(){var c=i;a(),c&&c()},h=function(){if(!e)return t.apply(this,arguments);var c=this,p=arguments,d=r&&!s;if(a(),i=function(){t.apply(c,p)},s=setTimeout(function(){if(s=null,!d){var C=i;return i=null,C()}},e),d)return i()};return h.cancel=a,h.flush=u,h}function Sa(t=100){const[e,r]=y.useState({width:void 0,height:void 0});return y.useEffect(()=>{function s(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",Ra(s,t)),s(),()=>window.removeEventListener("resize",s)},[t]),e}function fi({data:t,fileName:e,fileUrl:r}){const s=Sa(),[i,a]=y.useState(0),u=encodeURIComponent(r).replace(/\W/g,"");return y.useLayoutEffect(()=>{var c;if(document.getElementById(u)&&window.innerWidth>991){const p=Math.round((c=document==null?void 0:document.getElementById("outputsSPA"))==null?void 0:c.offsetHeight);if(!p||p<1e3)return a(1e3)}return a(1e3)},[s,u]),f.jsx("iframe",{className:"-mx-4 -my-3 w-[calc(100%+2rem)] md:-mx-6 md:-my-5 md:w-[calc(100%+3rem)]",frameBorder:"0",height:i,id:u,src:r,srcDoc:t,title:e,width:"100%"})}fi.propTypes={data:w.string.isRequired,fileName:De.name.isRequired,fileUrl:De.url.isRequired};function pi({data:t}){return f.jsx("img",{alt:"",className:"h-auto max-w-full",src:t})}pi.propTypes={data:w.string.isRequired};function es({error:t,fileUrl:e}){return f.jsxs(f.Fragment,{children:[t?f.jsx("p",{children:"Error: Unable to load file"}):f.jsx("p",{children:"We cannot show a preview of this file."}),f.jsx("p",{className:"mt-3",children:f.jsx(tr,{href:e,newTab:!0,children:"Open file in a new tab ↗"})})]})}es.propTypes={error:w.shape({message:w.string}),fileUrl:De.url.isRequired};es.defaultProps={error:null};var mi={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(r,s){t.exports=s()})(Ci,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},i=!s.document&&!!s.postMessage,a=s.IS_PAPA_WORKER||!1,u={},h=0,c={parse:function(o,l){var g=(l=l||{}).dynamicTyping||!1;if(M(g)&&(l.dynamicTypingFunction=g,g={}),l.dynamicTyping=g,l.transform=!!M(l.transform)&&l.transform,l.worker&&c.WORKERS_SUPPORTED){var O=function(){if(!c.WORKERS_SUPPORTED)return!1;var P=(oe=s.URL||s.webkitURL||null,V=r.toString(),c.BLOB_URL||(c.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))),U=new s.Worker(P),oe,V;return U.onmessage=N,U.id=h++,u[U.id]=U}();return O.userStep=l.step,O.userChunk=l.chunk,O.userComplete=l.complete,O.userError=l.error,l.step=M(l.step),l.chunk=M(l.chunk),l.complete=M(l.complete),l.error=M(l.error),delete l.worker,void O.postMessage({input:o,config:l,workerId:O.id})}var _=null;return c.NODE_STREAM_INPUT,typeof o=="string"?(o=function(P){return P.charCodeAt(0)===65279?P.slice(1):P}(o),_=l.download?new C(l):new v(l)):o.readable===!0&&M(o.read)&&M(o.on)?_=new j(l):(s.File&&o instanceof File||o instanceof Object)&&(_=new x(l)),_.stream(o)},unparse:function(o,l){var g=!1,O=!0,_=",",P=`\r
`,U='"',oe=U+U,V=!1,k=null,Y=!1;(function(){if(typeof l=="object"){if(typeof l.delimiter!="string"||c.BAD_DELIMITERS.filter(function(S){return l.delimiter.indexOf(S)!==-1}).length||(_=l.delimiter),(typeof l.quotes=="boolean"||typeof l.quotes=="function"||Array.isArray(l.quotes))&&(g=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(V=l.skipEmptyLines),typeof l.newline=="string"&&(P=l.newline),typeof l.quoteChar=="string"&&(U=l.quoteChar),typeof l.header=="boolean"&&(O=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");k=l.columns}l.escapeChar!==void 0&&(oe=l.escapeChar+U),(typeof l.escapeFormulae=="boolean"||l.escapeFormulae instanceof RegExp)&&(Y=l.escapeFormulae instanceof RegExp?l.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(m(U),"g");if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return Se(null,o,V);if(typeof o[0]=="object")return Se(k||Object.keys(o[0]),o,V)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||k),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),Se(o.fields||[],o.data||[],V);throw new Error("Unable to serialize unrecognized input");function Se(S,K,ce){var J="";typeof S=="string"&&(S=JSON.parse(S)),typeof K=="string"&&(K=JSON.parse(K));var ue=Array.isArray(S)&&0<S.length,ie=!Array.isArray(K[0]);if(ue&&O){for(var ne=0;ne<S.length;ne++)0<ne&&(J+=_),J+=le(S[ne],ne);0<K.length&&(J+=P)}for(var T=0;T<K.length;T++){var A=ue?S.length:K[T].length,W=!1,te=ue?Object.keys(K[T]).length===0:K[T].length===0;if(ce&&!ue&&(W=ce==="greedy"?K[T].join("").trim()==="":K[T].length===1&&K[T][0].length===0),ce==="greedy"&&ue){for(var B=[],he=0;he<A;he++){var Z=ie?S[he]:he;B.push(K[T][Z])}W=B.join("").trim()===""}if(!W){for(var Q=0;Q<A;Q++){0<Q&&!te&&(J+=_);var _e=ue&&ie?S[Q]:Q;J+=le(K[T][_e],Q)}T<K.length-1&&(!ce||0<A&&!te)&&(J+=P)}}return J}function le(S,K){if(S==null)return"";if(S.constructor===Date)return JSON.stringify(S).slice(1,25);var ce=!1;Y&&typeof S=="string"&&Y.test(S)&&(S="'"+S,ce=!0);var J=S.toString().replace(F,oe);return(ce=ce||g===!0||typeof g=="function"&&g(S,K)||Array.isArray(g)&&g[K]||function(ue,ie){for(var ne=0;ne<ie.length;ne++)if(-1<ue.indexOf(ie[ne]))return!0;return!1}(J,c.BAD_DELIMITERS)||-1<J.indexOf(_)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?U+J+U:J}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!s.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=R,c.ParserHandle=D,c.NetworkStreamer=C,c.FileStreamer=x,c.StringStreamer=v,c.ReadableStreamStreamer=j,s.jQuery){var p=s.jQuery;p.fn.parse=function(o){var l=o.config||{},g=[];return this.each(function(P){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)g.push({file:this.files[U],inputElem:this,instanceConfig:p.extend({},l)})}),O(),this;function O(){if(g.length!==0){var P,U,oe,V,k=g[0];if(M(o.before)){var Y=o.before(k.file,k.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return P="AbortError",U=k.file,oe=k.inputElem,V=Y.reason,void(M(o.error)&&o.error({name:P},U,oe,V));if(Y.action==="skip")return void _();typeof Y.config=="object"&&(k.instanceConfig=p.extend(k.instanceConfig,Y.config))}else if(Y==="skip")return void _()}var F=k.instanceConfig.complete;k.instanceConfig.complete=function(Se){M(F)&&F(Se,k.file,k.inputElem),_()},c.parse(k.file,k.instanceConfig)}else M(o.complete)&&o.complete()}function _(){g.splice(0,1),O()}}}function d(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var g=H(l);g.chunkSize=parseInt(g.chunkSize),l.step||l.chunk||(g.chunkSize=null),this._handle=new D(g),(this._handle.streamer=this)._config=g}).call(this,o),this.parseChunk=function(l,g){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var O=this._config.beforeFirstChunk(l);O!==void 0&&(l=O)}this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+l;this._partialLine="";var P=this._handle.parse(_,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var U=P.meta.cursor;this._finished||(this._partialLine=_.substring(U-this._baseIndex),this._baseIndex=U),P&&P.data&&(this._rowCount+=P.data.length);var oe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)s.postMessage({results:P,workerId:c.WORKER_ID,finished:oe});else if(M(this._config.chunk)&&!g){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);P=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!oe||!M(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),oe||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(l){M(this._config.error)?this._config.error(l):a&&this._config.error&&s.postMessage({workerId:c.WORKER_ID,error:l,finished:!1})}}function C(o){var l;(o=o||{}).chunkSize||(o.chunkSize=c.RemoteChunkSize),d.call(this,o),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(g){this._input=g,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),i||(l.onload=X(this._chunkLoaded,this),l.onerror=X(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var g=this._config.downloadRequestHeaders;for(var O in g)l.setRequestHeader(O,g[O])}if(this._config.chunkSize){var _=this._start+this._config.chunkSize-1;l.setRequestHeader("Range","bytes="+this._start+"-"+_)}try{l.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}i&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:l.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(g){var O=g.getResponseHeader("Content-Range");return O===null?-1:parseInt(O.substring(O.lastIndexOf("/")+1))}(l),this.parseChunk(l.responseText)))},this._chunkError=function(g){var O=l.statusText||g;this._sendError(new Error(O))}}function x(o){var l,g;(o=o||{}).chunkSize||(o.chunkSize=c.LocalChunkSize),d.call(this,o);var O=typeof FileReader<"u";this.stream=function(_){this._input=_,g=_.slice||_.webkitSlice||_.mozSlice,O?((l=new FileReader).onload=X(this._chunkLoaded,this),l.onerror=X(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input;if(this._config.chunkSize){var P=Math.min(this._start+this._config.chunkSize,this._input.size);_=g.call(_,this._start,P)}var U=l.readAsText(_,this._config.encoding);O||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(l.error)}}function v(o){var l;d.call(this,o=o||{}),this.stream=function(g){return l=g,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var g,O=this._config.chunkSize;return O?(g=l.substring(0,O),l=l.substring(O)):(g=l,l=""),this._finished=!l,this.parseChunk(g)}}}function j(o){d.call(this,o=o||{});var l=[],g=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):g=!0},this._streamData=X(function(_){try{l.push(typeof _=="string"?_:_.toString(this._config.encoding)),g&&(g=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(P){this._streamError(P)}},this),this._streamError=X(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=X(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function D(o){var l,g,O,_=Math.pow(2,53),P=-_,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,k=0,Y=0,F=!1,Se=!1,le=[],S={data:[],errors:[],meta:{}};if(M(o.step)){var K=o.step;o.step=function(T){if(S=T,ue())J();else{if(J(),S.data.length===0)return;k+=T.data.length,o.preview&&k>o.preview?g.abort():(S.data=S.data[0],K(S,V))}}}function ce(T){return o.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function J(){return S&&O&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),O=!1),o.skipEmptyLines&&(S.data=S.data.filter(function(T){return!ce(T)})),ue()&&function(){if(!S)return;function T(W,te){M(o.transformHeader)&&(W=o.transformHeader(W,te)),le.push(W)}if(Array.isArray(S.data[0])){for(var A=0;ue()&&A<S.data.length;A++)S.data[A].forEach(T);S.data.splice(0,1)}else S.data.forEach(T)}(),function(){if(!S||!o.header&&!o.dynamicTyping&&!o.transform)return S;function T(W,te){var B,he=o.header?{}:[];for(B=0;B<W.length;B++){var Z=B,Q=W[B];o.header&&(Z=B>=le.length?"__parsed_extra":le[B]),o.transform&&(Q=o.transform(Q,Z)),Q=ie(Z,Q),Z==="__parsed_extra"?(he[Z]=he[Z]||[],he[Z].push(Q)):he[Z]=Q}return o.header&&(B>le.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+le.length+" fields but parsed "+B,Y+te):B<le.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+le.length+" fields but parsed "+B,Y+te)),he}var A=1;return!S.data.length||Array.isArray(S.data[0])?(S.data=S.data.map(T),A=S.data.length):S.data=T(S.data,0),o.header&&S.meta&&(S.meta.fields=le),Y+=A,S}()}function ue(){return o.header&&le.length===0}function ie(T,A){return W=T,o.dynamicTypingFunction&&o.dynamicTyping[W]===void 0&&(o.dynamicTyping[W]=o.dynamicTypingFunction(W)),(o.dynamicTyping[W]||o.dynamicTyping)===!0?A==="true"||A==="TRUE"||A!=="false"&&A!=="FALSE"&&(function(te){if(U.test(te)){var B=parseFloat(te);if(P<B&&B<_)return!0}return!1}(A)?parseFloat(A):oe.test(A)?new Date(A):A===""?null:A):A;var W}function ne(T,A,W,te){var B={type:T,code:A,message:W};te!==void 0&&(B.row=te),S.errors.push(B)}this.parse=function(T,A,W){var te=o.quoteChar||'"';if(o.newline||(o.newline=function(Z,Q){Z=Z.substring(0,1048576);var _e=new RegExp(m(Q)+"([^]*?)"+m(Q),"gm"),ve=(Z=Z.replace(_e,"")).split("\r"),Te=Z.split(`
`),Me=1<Te.length&&Te[0].length<ve[0].length;if(ve.length===1||Me)return`
`;for(var be=0,G=0;G<ve.length;G++)ve[G][0]===`
`&&be++;return be>=ve.length/2?`\r
`:"\r"}(T,te)),O=!1,o.delimiter)M(o.delimiter)&&(o.delimiter=o.delimiter(T),S.meta.delimiter=o.delimiter);else{var B=function(Z,Q,_e,ve,Te){var Me,be,G,ee;Te=Te||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var it=0;it<Te.length;it++){var q=Te[it],yt=0,Ue=0,nt=0;G=void 0;for(var $e=new R({comments:ve,delimiter:q,newline:Q,preview:10}).parse(Z),ze=0;ze<$e.data.length;ze++)if(_e&&ce($e.data[ze]))nt++;else{var Ke=$e.data[ze].length;Ue+=Ke,G!==void 0?0<Ke&&(yt+=Math.abs(Ke-G),G=Ke):G=Ke}0<$e.data.length&&(Ue/=$e.data.length-nt),(be===void 0||yt<=be)&&(ee===void 0||ee<Ue)&&1.99<Ue&&(be=yt,Me=q,ee=Ue)}return{successful:!!(o.delimiter=Me),bestDelimiter:Me}}(T,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);B.successful?o.delimiter=B.bestDelimiter:(O=!0,o.delimiter=c.DefaultDelimiter),S.meta.delimiter=o.delimiter}var he=H(o);return o.preview&&o.header&&he.preview++,l=T,g=new R(he),S=g.parse(l,A,W),J(),F?{meta:{paused:!0}}:S||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,g.abort(),l=M(o.chunk)?"":l.substring(g.getCharIndex())},this.resume=function(){V.streamer._halted?(F=!1,V.streamer.parseChunk(l,!0)):setTimeout(V.resume,3)},this.aborted=function(){return Se},this.abort=function(){Se=!0,g.abort(),S.meta.aborted=!0,M(o.complete)&&o.complete(S),l=""}}function m(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(o){var l,g=(o=o||{}).delimiter,O=o.newline,_=o.comments,P=o.step,U=o.preview,oe=o.fastMode,V=l=o.quoteChar===void 0||o.quoteChar===null?'"':o.quoteChar;if(o.escapeChar!==void 0&&(V=o.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),_===g)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<c.BAD_DELIMITERS.indexOf(_))&&(_=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var k=0,Y=!1;this.parse=function(F,Se,le){if(typeof F!="string")throw new Error("Input must be a string");var S=F.length,K=g.length,ce=O.length,J=_.length,ue=M(P),ie=[],ne=[],T=[],A=k=0;if(!F)return xe();if(o.header&&!Se){var W=F.split(O)[0].split(g),te=[],B={},he=!1;for(var Z in W){var Q=W[Z];M(o.transformHeader)&&(Q=o.transformHeader(Q,Z));var _e=Q,ve=B[Q]||0;for(0<ve&&(he=!0,_e=Q+"_"+ve),B[Q]=ve+1;te.includes(_e);)_e=_e+"_"+ve;te.push(_e)}if(he){var Te=F.split(O);Te[0]=te.join(g),F=Te.join(O)}}if(oe||oe!==!1&&F.indexOf(l)===-1){for(var Me=F.split(O),be=0;be<Me.length;be++){if(T=Me[be],k+=T.length,be!==Me.length-1)k+=O.length;else if(le)return xe();if(!_||T.substring(0,J)!==_){if(ue){if(ie=[],nt(T.split(g)),rr(),Y)return xe()}else nt(T.split(g));if(U&&U<=be)return ie=ie.slice(0,U),xe(!0)}}return xe()}for(var G=F.indexOf(g,k),ee=F.indexOf(O,k),it=new RegExp(m(V)+m(l),"g"),q=F.indexOf(l,k);;)if(F[k]!==l)if(_&&T.length===0&&F.substring(k,k+J)===_){if(ee===-1)return xe();k=ee+ce,ee=F.indexOf(O,k),G=F.indexOf(g,k)}else if(G!==-1&&(G<ee||ee===-1))T.push(F.substring(k,G)),k=G+K,G=F.indexOf(g,k);else{if(ee===-1)break;if(T.push(F.substring(k,ee)),Ke(ee+ce),ue&&(rr(),Y))return xe();if(U&&ie.length>=U)return xe(!0)}else for(q=k,k++;;){if((q=F.indexOf(l,q+1))===-1)return le||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:k}),ze();if(q===S-1)return ze(F.substring(k,q).replace(it,l));if(l!==V||F[q+1]!==V){if(l===V||q===0||F[q-1]!==V){G!==-1&&G<q+1&&(G=F.indexOf(g,q+1)),ee!==-1&&ee<q+1&&(ee=F.indexOf(O,q+1));var yt=$e(ee===-1?G:Math.min(G,ee));if(F.substr(q+1+yt,K)===g){T.push(F.substring(k,q).replace(it,l)),F[k=q+1+yt+K]!==l&&(q=F.indexOf(l,k)),G=F.indexOf(g,k),ee=F.indexOf(O,k);break}var Ue=$e(ee);if(F.substring(q+1+Ue,q+1+Ue+ce)===O){if(T.push(F.substring(k,q).replace(it,l)),Ke(q+1+Ue+ce),G=F.indexOf(g,k),q=F.indexOf(l,k),ue&&(rr(),Y))return xe();if(U&&ie.length>=U)return xe(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:k}),q++}}else q++}return ze();function nt(we){ie.push(we),A=k}function $e(we){var rs=0;if(we!==-1){var xr=F.substring(q+1,we);xr&&xr.trim()===""&&(rs=xr.length)}return rs}function ze(we){return le||(we===void 0&&(we=F.substring(k)),T.push(we),k=S,nt(T),ue&&rr()),xe()}function Ke(we){k=we,nt(T),T=[],ee=F.indexOf(O,k)}function xe(we){return{data:ie,errors:ne,meta:{delimiter:g,linebreak:O,aborted:Y,truncated:!!we,cursor:A+(Se||0)}}}function rr(){P(xe()),ie=[],ne=[]}},this.abort=function(){Y=!0},this.getCharIndex=function(){return k}}function N(o){var l=o.data,g=u[l.workerId],O=!1;if(l.error)g.userError(l.error,l.file);else if(l.results&&l.results.data){var _={abort:function(){O=!0,L(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(M(g.userStep)){for(var P=0;P<l.results.data.length&&(g.userStep({data:l.results.data[P],errors:l.results.errors,meta:l.results.meta},_),!O);P++);delete l.results}else M(g.userChunk)&&(g.userChunk(l.results,_,l.file),delete l.results)}l.finished&&!O&&L(l.workerId,l.results)}function L(o,l){var g=u[o];M(g.userComplete)&&g.userComplete(l),g.terminate(),delete u[o]}function z(){throw new Error("Not implemented.")}function H(o){if(typeof o!="object"||o===null)return o;var l=Array.isArray(o)?[]:{};for(var g in o)l[g]=H(o[g]);return l}function X(o,l){return function(){o.apply(l,arguments)}}function M(o){return typeof o=="function"}return a&&(s.onmessage=function(o){var l=o.data;if(c.WORKER_ID===void 0&&l&&(c.WORKER_ID=l.workerId),typeof l.input=="string")s.postMessage({workerId:c.WORKER_ID,results:c.parse(l.input,l.config),finished:!0});else if(s.File&&l.input instanceof File||l.input instanceof Object){var g=c.parse(l.input,l.config);g&&s.postMessage({workerId:c.WORKER_ID,results:g,finished:!0})}}),(C.prototype=Object.create(d.prototype)).constructor=C,(x.prototype=Object.create(d.prototype)).constructor=x,(v.prototype=Object.create(v.prototype)).constructor=v,(j.prototype=Object.create(d.prototype)).constructor=j,c})})(mi);var _a=mi.exports;const Qe=Ei(_a);function ka(t,e){return Qe.parse(t,e)}function Ta(t,e){Qe.parse(t,Object.assign({},{download:!0},e))}function Fa(t,e){return e===void 0&&(e={}),Qe.unparse(t,e)}function ja(){return{readString:ka,readRemoteFile:Ta,jsonToCSV:Fa}}Qe.BAD_DELIMITERS;Qe.RECORD_SEP;Qe.UNIT_SEP;Qe.WORKERS_SUPPORTED;Qe.LocalChunkSize;Qe.DefaultDelimiter;function gi({cell:t}){return f.jsx("td",{className:"py-2 px-2 text-sm text-gray-900",children:t})}function $r({row:t}){return f.jsx("tr",{className:"divide-x divide-gray-200 even:bg-gray-50",children:t.map((e,r)=>f.jsx(gi,{cell:e},r))})}function yi({data:t}){const{readString:e}=ja(),r=e(t,{chunk:!0,complete:s=>s}).data;return r.length>=1e3?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"font-bold mb-2",role:"alert",children:"This is a preview of the first 1000 rows"}),f.jsx("div",{className:"flow-root",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsx("div",{className:"inline-block min-w-full align-middle",children:f.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.slice(0,1e3).map((s,i)=>f.jsx($r,{row:s},i))})})})})})]}):f.jsx("div",{className:"flow-root",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsx("div",{className:"inline-block min-w-full align-middle",children:f.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.map((s,i)=>f.jsx($r,{row:s},i))})})})})})}gi.propTypes={cell:w.string.isRequired};$r.propTypes={row:w.arrayOf(w.string).isRequired};yi.propTypes={data:w.string.isRequired};function zr({data:t}){return f.jsx("pre",{className:"whitespace-break-spaces break-words",children:t})}zr.propTypes={data:w.string.isRequired};function vi({authToken:t,fileName:e,fileSize:r,fileUrl:s,uuid:i}){const{data:a,error:u,isLoading:h,isError:c}=Js({queryKey:["FILE",s],queryFn:async()=>{if(!bs(e)||r>2e7||Br(e)&&r>5e6)return!1;const p=`${s}?${i}`;let d=await fetch(p,{headers:{Authorization:t}});if(!d.ok)throw new Error;if(d.headers.has("Location")&&d.headers.has("Authorization")&&(d=await fetch(d.headers.get("Location"),{headers:{Authorization:d.headers.get("Authorization")}}),!d.ok))throw new Error;const C=await d.clone().text();if(C===Rr)return Rr;if(Qr(e)){const x=await d.blob();return URL.createObjectURL(x)}return C},meta:{errorMessage:`${e} - Unable to load file`,id:s}});return h?f.jsx("span",{children:"Loading..."}):a===Rr?f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"This file has not been uploaded yet. This is likely due to do an error that occurred during release."}),f.jsx("p",{className:"mt-3",children:f.jsx(tr,{href:"https://docs.opensafely.org/how-to-get-help/#slack",newTab:!0,children:"Contact tech support in Slack for more information."})})]}):c||!a||!bs(e)?f.jsx(es,{error:u,fileUrl:s}):f.jsxs(f.Fragment,{children:[Br(e)?f.jsx(yi,{data:a}):null,ci(e)&&f.jsx(fi,{data:a,fileName:e,fileUrl:s}),Qr(e)?f.jsx(pi,{data:a}):null,hi(e)?f.jsx(zr,{data:a}):null,di(e)?f.jsx(zr,{data:a}):null]})}vi.propTypes={authToken:pe.authToken.isRequired,fileName:De.name.isRequired,fileSize:De.size.isRequired,fileUrl:De.url.isRequired,uuid:w.number.isRequired};const Pa=new un({defaultOptions:{queries:{refetchOnWindowFocus:!1}},queryCache:new $s({onError:(t,e)=>{e.meta.errorMessage&&Zr({message:e.meta.errorMessage,toastId:e.meta.id,filesUrl:e.meta.id,url:document.location.href})}})});function ts({authToken:t,csrfToken:e,filesUrl:r,prepareUrl:s,publishUrl:i}){const a=Date.now(),[u,h]=y.useState(!0),[c,p]=y.useState();return f.jsxs(fn,{client:Pa,children:[f.jsxs("div",{className:"py-6",children:[(s||i)&&f.jsxs("div",{className:"mb-3 -mt-3 px-1 md:px-6",children:[s&&f.jsx(ii,{authToken:t,csrfToken:e,filesUrl:r,prepareUrl:s}),i&&f.jsx(ni,{csrfToken:e,publishUrl:i})]}),f.jsxs("div",{className:"grid gap-6 grid-cols-1 px-1 md:grid-cols-3 md:px-6 lg:grid-cols-4",children:[f.jsxs("div",{className:"flex flex-col gap-y-1 md:col-span-1",children:[f.jsxs(Xt,{className:"block md:hidden mb-3",onClick:()=>h(!u),type:"button",variant:"secondary",children:[u?"Hide":"Show"," file list"]}),f.jsx(ui,{authToken:t,filesUrl:r,listVisible:u,setListVisible:h,setSelectedFile:p})]}),f.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:c&&f.jsx(vt,{container:!0,header:f.jsx(li,{fileDate:c.date,fileName:c.shortName,fileSize:c.size,fileUrl:c.url}),children:f.jsx(vi,{authToken:t,fileName:c.shortName,fileSize:c.size,fileUrl:c.url,uuid:a})})})]})]}),f.jsx(Ea,{}),f.jsx(Sn,{initialIsOpen:!1})]})}ts.propTypes={authToken:pe.authToken.isRequired,csrfToken:pe.csrfToken.isRequired,filesUrl:pe.filesUrl.isRequired,prepareUrl:pe.prepareUrl,publishUrl:pe.publishUrl};ts.defaultProps={prepareUrl:null,publishUrl:null};var Ia={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};xi({dsn:Ia.VITE_SENTRY_DSN,tracesSampleRate:1});const cr=document.getElementById("outputsSPA"),Da=wi(cr);document.getElementById("content")&&document.getElementById("content").remove();Da.render(f.jsx(Fs.StrictMode,{children:f.jsx(Hi,{basename:cr.dataset.basePath,children:f.jsx(ts,{...cr.dataset,element:cr})})}));
