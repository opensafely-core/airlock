const Ye=a=>Object.prototype.toString.call(a)==="[object Object]",be=(a,e)=>{const t=document.createElement(a);if(e&&typeof e=="object")for(const s in e)s==="html"?t.innerHTML=e[s]:t.setAttribute(s,e[s]);return t},re=a=>["#text","#comment"].includes(a.nodeName)?a.data:a.childNodes?a.childNodes.map(e=>re(e)).join(""):"",ae=a=>{if(a==null)return"";if(a.hasOwnProperty("text")||a.hasOwnProperty("data")){const e=a;return e.text??ae(e.data)}return a.hasOwnProperty("nodeName")?re(a):String(a)},Oe=function(a,e){let t=0,s=0;for(;t<a+1;)e[s].hidden||(t+=1),s+=1;return s-1},Ce=function(a){const e={};if(a)for(const t of a)e[t.name]=t.value;return e},X=a=>a?a.trim().split(" ").map(e=>`.${e}`).join(""):null,_e=(a,e)=>!e?.split(" ").some(s=>!a.classList.contains(s)),z=(a,e)=>a?e?`${a} ${e}`:a:e||"",Re=function(a,e=300){let t;return(...s)=>{clearTimeout(t),t=window.setTimeout(()=>a(),e)}};var Ne=function(){return Ne=Object.assign||function(a){for(var e,t=arguments,s=1,o=arguments.length;s<o;s++)for(var i in e=t[s])Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a},Ne.apply(this,arguments)};function he(a,e,t){for(var s,o=0,i=e.length;o<i;o++)!s&&o in e||(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return a.concat(s||Array.prototype.slice.call(e))}var H=(function(){function a(e){e===void 0&&(e={});var t=this;Object.entries(e).forEach(function(s){var o=s[0],i=s[1];return t[o]=i})}return a.prototype.toString=function(){return JSON.stringify(this)},a.prototype.setValue=function(e,t){return this[e]=t,this},a})();function Y(a,e){var t=arguments;e===void 0&&(e=!1);for(var s=[],o=2;o<arguments.length;o++)s[o-2]=t[o];return a!=null&&(e?!!s.some(function(i){if(i==="Element")return a.nodeType===1||typeof a.nodeName=="string"&&a.nodeName!=="#text"&&a.nodeName!=="#comment"||a.tagName&&typeof a.tagName=="string"||a.setAttribute&&typeof a.setAttribute=="function";if(i==="Text")return a.nodeType===3||a.nodeName==="#text";if(i==="Comment")return a.nodeType===8||a.nodeName==="#comment";if(i.startsWith("HTML")&&i.endsWith("Element")){var n=i.slice(4,-7).toLowerCase();return a.nodeName&&a.nodeName.toLowerCase()===n||a.tagName&&a.tagName.toLowerCase()===n}return!1})||!!a.ownerDocument&&s.some(function(i){var n,l;return typeof((l=(n=a?.ownerDocument)===null||n===void 0?void 0:n.defaultView)===null||l===void 0?void 0:l[i])=="function"&&a instanceof a.ownerDocument.defaultView[i]}):s.some(function(i){var n,l;return typeof((l=(n=a?.ownerDocument)===null||n===void 0?void 0:n.defaultView)===null||l===void 0?void 0:l[i])=="function"&&a instanceof a.ownerDocument.defaultView[i]}))}function De(a,e,t){var s;return a.nodeName==="#text"?s=t.document.createTextNode(a.data):a.nodeName==="#comment"?s=t.document.createComment(a.data):(e?(s=t.document.createElementNS("http://www.w3.org/2000/svg",a.nodeName),a.nodeName==="foreignObject"&&(e=!1)):a.nodeName.toLowerCase()==="svg"?(s=t.document.createElementNS("http://www.w3.org/2000/svg","svg"),e=!0):s=t.document.createElement(a.nodeName),a.attributes&&Object.entries(a.attributes).forEach(function(o){var i=o[0],n=o[1];return s.setAttribute(i,n)}),a.childNodes&&a.childNodes.forEach(function(o){return s.appendChild(De(o,e,t))}),t.valueDiffing&&(a.value&&Y(s,t.simplifiedElementCheck,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(s.value=a.value),a.checked&&Y(s,t.simplifiedElementCheck,"HTMLInputElement")&&(s.checked=a.checked),a.selected&&Y(s,t.simplifiedElementCheck,"HTMLOptionElement")&&(s.selected=a.selected))),s}var ve=function(a,e){for(e=e.slice();e.length>0;){var t=e.splice(0,1)[0];a=a.childNodes[t]}return a};function U(a,e,t){var s,o,i,n=e[t._const.action],l=e[t._const.route];[t._const.addElement,t._const.addTextElement].includes(n)||(s=ve(a,l));var r={diff:e,node:s};if(t.preDiffApply(r))return!0;switch(n){case t._const.addAttribute:if(!s||!Y(s,t.simplifiedElementCheck,"Element"))return!1;s.setAttribute(e[t._const.name],e[t._const.value]);break;case t._const.modifyAttribute:if(!s||!Y(s,t.simplifiedElementCheck,"Element"))return!1;s.setAttribute(e[t._const.name],e[t._const.newValue]),Y(s,t.simplifiedElementCheck,"HTMLInputElement")&&e[t._const.name]==="value"&&(s.value=e[t._const.newValue]);break;case t._const.removeAttribute:if(!s||!Y(s,t.simplifiedElementCheck,"Element"))return!1;s.removeAttribute(e[t._const.name]);break;case t._const.modifyTextElement:if(!s||!Y(s,t.simplifiedElementCheck,"Text"))return!1;t.textDiff(s,s.data,e[t._const.oldValue],e[t._const.newValue]),Y(s.parentNode,t.simplifiedElementCheck,"HTMLTextAreaElement")&&(s.parentNode.value=e[t._const.newValue]);break;case t._const.modifyValue:if(!s||s.value===void 0)return!1;s.value=e[t._const.newValue];break;case t._const.modifyComment:if(!s||!Y(s,t.simplifiedElementCheck,"Comment"))return!1;t.textDiff(s,s.data,e[t._const.oldValue],e[t._const.newValue]);break;case t._const.modifyChecked:if(!s||s.checked===void 0)return!1;s.checked=e[t._const.newValue];break;case t._const.modifySelected:if(!s||s.selected===void 0)return!1;s.selected=e[t._const.newValue];break;case t._const.replaceElement:var c=e[t._const.newValue].nodeName.toLowerCase()==="svg"||s.parentNode.namespaceURI==="http://www.w3.org/2000/svg";s.parentNode.replaceChild(De(e[t._const.newValue],c,t),s);break;case t._const.relocateGroup:he([],new Array(e[t._const.groupLength])).map(function(){return s.removeChild(s.childNodes[e[t._const.from]])}).forEach(function(m,h){h===0&&(i=s.childNodes[e[t._const.to]]),s.insertBefore(m,i||null)});break;case t._const.removeElement:s.parentNode.removeChild(s);break;case t._const.addElement:var u=(f=l.slice()).splice(f.length-1,1)[0];if(!Y(s=ve(a,f),t.simplifiedElementCheck,"Element"))return!1;s.insertBefore(De(e[t._const.element],s.namespaceURI==="http://www.w3.org/2000/svg",t),s.childNodes[u]||null);break;case t._const.removeTextElement:if(!s||s.nodeType!==3)return!1;var p=s.parentNode;p.removeChild(s),Y(p,t.simplifiedElementCheck,"HTMLTextAreaElement")&&(p.value="");break;case t._const.addTextElement:var f;if(u=(f=l.slice()).splice(f.length-1,1)[0],o=t.document.createTextNode(e[t._const.value]),!(s=ve(a,f)).childNodes)return!1;s.insertBefore(o,s.childNodes[u]||null),Y(s.parentNode,t.simplifiedElementCheck,"HTMLTextAreaElement")&&(s.parentNode.value=e[t._const.value]);break;default:console.log("unknown action")}return t.postDiffApply({diff:r.diff,node:r.node,newNode:o}),!0}function ye(a,e,t){var s=a[e];a[e]=a[t],a[t]=s}function je(a,e,t){(e=e.slice()).reverse(),e.forEach(function(s){(function(o,i,n){switch(i[n._const.action]){case n._const.addAttribute:i[n._const.action]=n._const.removeAttribute,U(o,i,n);break;case n._const.modifyAttribute:ye(i,n._const.oldValue,n._const.newValue),U(o,i,n);break;case n._const.removeAttribute:i[n._const.action]=n._const.addAttribute,U(o,i,n);break;case n._const.modifyTextElement:case n._const.modifyValue:case n._const.modifyComment:case n._const.modifyChecked:case n._const.modifySelected:case n._const.replaceElement:ye(i,n._const.oldValue,n._const.newValue),U(o,i,n);break;case n._const.relocateGroup:ye(i,n._const.from,n._const.to),U(o,i,n);break;case n._const.removeElement:i[n._const.action]=n._const.addElement,U(o,i,n);break;case n._const.addElement:i[n._const.action]=n._const.removeElement,U(o,i,n);break;case n._const.removeTextElement:i[n._const.action]=n._const.addTextElement,U(o,i,n);break;case n._const.addTextElement:i[n._const.action]=n._const.removeTextElement,U(o,i,n);break;default:console.log("unknown action")}})(a,s,t)})}var Ee=function(a){var e=[];return e.push(a.nodeName),a.nodeName!=="#text"&&a.nodeName!=="#comment"&&a.attributes&&(a.attributes.class&&e.push("".concat(a.nodeName,".").concat(a.attributes.class.replace(/ /g,"."))),a.attributes.id&&e.push("".concat(a.nodeName,"#").concat(a.attributes.id))),e},Te=function(a){var e={},t={};return a.forEach(function(s){Ee(s).forEach(function(o){var i=o in e;i||o in t?i&&(delete e[o],t[o]=!0):e[o]=!0})}),e},$e=function(a,e){var t=Te(a),s=Te(e),o={};return Object.keys(t).forEach(function(i){s[i]&&(o[i]=!0)}),o},Pe=function(a){return delete a.outerDone,delete a.innerDone,delete a.valueDone,!a.childNodes||a.childNodes.every(Pe)},R=function(a){if(Object.prototype.hasOwnProperty.call(a,"data"))return{nodeName:a.nodeName==="#text"?"#text":"#comment",data:a.data};var e={nodeName:a.nodeName};return Object.prototype.hasOwnProperty.call(a,"attributes")&&(e.attributes=Ne({},a.attributes)),Object.prototype.hasOwnProperty.call(a,"checked")&&(e.checked=a.checked),Object.prototype.hasOwnProperty.call(a,"value")&&(e.value=a.value),Object.prototype.hasOwnProperty.call(a,"selected")&&(e.selected=a.selected),Object.prototype.hasOwnProperty.call(a,"childNodes")&&(e.childNodes=a.childNodes.map(function(t){return R(t)})),e},Ve=function(a,e){if(!["nodeName","value","checked","selected","data"].every(function(o){return a[o]===e[o]}))return!1;if(Object.prototype.hasOwnProperty.call(a,"data"))return!0;if(!!a.attributes!=!!e.attributes||!!a.childNodes!=!!e.childNodes)return!1;if(a.attributes){var t=Object.keys(a.attributes),s=Object.keys(e.attributes);if(t.length!==s.length||!t.every(function(o){return a.attributes[o]===e.attributes[o]}))return!1}return!(a.childNodes&&(a.childNodes.length!==e.childNodes.length||!a.childNodes.every(function(o,i){return Ve(o,e.childNodes[i])})))},Me=function(a,e,t,s,o){if(o===void 0&&(o=!1),!a||!e||a.nodeName!==e.nodeName)return!1;if(["#text","#comment"].includes(a.nodeName))return!!o||a.data===e.data;if(a.nodeName in t)return!0;if(a.attributes&&e.attributes){if(a.attributes.id){if(a.attributes.id!==e.attributes.id)return!1;if("".concat(a.nodeName,"#").concat(a.attributes.id)in t)return!0}if(a.attributes.class&&a.attributes.class===e.attributes.class&&"".concat(a.nodeName,".").concat(a.attributes.class.replace(/ /g,"."))in t)return!0}if(s)return!0;var i=a.childNodes?a.childNodes.slice().reverse():[],n=e.childNodes?e.childNodes.slice().reverse():[];if(i.length!==n.length)return!1;if(o)return i.every(function(r,c){return r.nodeName===n[c].nodeName});var l=$e(i,n);return i.every(function(r,c){return Me(r,n[c],l,!0,!0)})},ue=function(a,e){return he([],new Array(a)).map(function(){return e})},Fe=function(a,e){for(var t=a.childNodes?a.childNodes:[],s=e.childNodes?e.childNodes:[],o=ue(t.length,!1),i=ue(s.length,!1),n=[],l=function(){return arguments[1]},r=!1,c=function(){var u=(function(p,f,m,h){var g=0,v=[],D=p.length,d=f.length,y=he([],new Array(D+1)).map(function(){return[]}),S=$e(p,f),A=D===d;A&&p.some(function(C,$){var N=Ee(C),_=Ee(f[$]);return N.length!==_.length?(A=!1,!0):(N.some(function(b,E){if(b!==_[E])return A=!1,!0}),!A||void 0)});for(var T=0;T<D;T++)for(var L=p[T],M=0;M<d;M++){var V=f[M];m[T]||h[M]||!Me(L,V,S,A)?y[T+1][M+1]=0:(y[T+1][M+1]=y[T][M]?y[T][M]+1:1,y[T+1][M+1]>=g&&(g=y[T+1][M+1],v=[T+1,M+1]))}return g!==0&&{oldValue:v[0]-g,newValue:v[1]-g,length:g}})(t,s,o,i);u?(n.push(u),he([],new Array(u.length)).map(l).forEach(function(p){return(function(f,m,h,g){f[h.oldValue+g]=!0,m[h.newValue+g]=!0})(o,i,u,p)})):r=!0};!r;)c();return a.subsets=n,a.subsetsAge=100,n},Be=(function(){function a(){this.list=[]}return a.prototype.add=function(e){var t;(t=this.list).push.apply(t,e)},a.prototype.forEach=function(e){this.list.forEach(function(t){return e(t)})},a})();function we(a,e){var t,s,o=a;for(e=e.slice();e.length>0;)s=e.splice(0,1)[0],t=o,o=o.childNodes?o.childNodes[s]:void 0;return{node:o,parentNode:t,nodeIndex:s}}function qe(a,e,t){return e.forEach(function(s){(function(o,i,n){var l,r,c,u;if(![n._const.addElement,n._const.addTextElement].includes(i[n._const.action])){var p=we(o,i[n._const.route]);r=p.node,c=p.parentNode,u=p.nodeIndex}var f,m,h=[],g={diff:i,node:r};if(n.preVirtualDiffApply(g))return!0;switch(i[n._const.action]){case n._const.addAttribute:r.attributes||(r.attributes={}),r.attributes[i[n._const.name]]=i[n._const.value],i[n._const.name]==="checked"?r.checked=!0:i[n._const.name]==="selected"?r.selected=!0:r.nodeName==="INPUT"&&i[n._const.name]==="value"&&(r.value=i[n._const.value]);break;case n._const.modifyAttribute:r.attributes[i[n._const.name]]=i[n._const.newValue];break;case n._const.removeAttribute:delete r.attributes[i[n._const.name]],Object.keys(r.attributes).length===0&&delete r.attributes,i[n._const.name]==="checked"?r.checked=!1:i[n._const.name]==="selected"?delete r.selected:r.nodeName==="INPUT"&&i[n._const.name]==="value"&&delete r.value;break;case n._const.modifyTextElement:r.data=i[n._const.newValue],c.nodeName==="TEXTAREA"&&(c.value=i[n._const.newValue]);break;case n._const.modifyValue:r.value=i[n._const.newValue];break;case n._const.modifyComment:r.data=i[n._const.newValue];break;case n._const.modifyChecked:r.checked=i[n._const.newValue];break;case n._const.modifySelected:r.selected=i[n._const.newValue];break;case n._const.replaceElement:f=R(i[n._const.newValue]),c.childNodes[u]=f;break;case n._const.relocateGroup:r.childNodes.splice(i[n._const.from],i[n._const.groupLength]).reverse().forEach(function(d){return r.childNodes.splice(i[n._const.to],0,d)}),r.subsets&&r.subsets.forEach(function(d){if(i[n._const.from]<i[n._const.to]&&d.oldValue<=i[n._const.to]&&d.oldValue>i[n._const.from])d.oldValue-=i[n._const.groupLength],(y=d.oldValue+d.length-i[n._const.to])>0&&(h.push({oldValue:i[n._const.to]+i[n._const.groupLength],newValue:d.newValue+d.length-y,length:y}),d.length-=y);else if(i[n._const.from]>i[n._const.to]&&d.oldValue>i[n._const.to]&&d.oldValue<i[n._const.from]){var y;d.oldValue+=i[n._const.groupLength],(y=d.oldValue+d.length-i[n._const.to])>0&&(h.push({oldValue:i[n._const.to]+i[n._const.groupLength],newValue:d.newValue+d.length-y,length:y}),d.length-=y)}else d.oldValue===i[n._const.from]&&(d.oldValue=i[n._const.to])});break;case n._const.removeElement:c.childNodes.splice(u,1),c.subsets&&c.subsets.forEach(function(d){d.oldValue>u?d.oldValue-=1:d.oldValue===u?d.delete=!0:d.oldValue<u&&d.oldValue+d.length>u&&(d.oldValue+d.length-1===u?d.length--:(h.push({newValue:d.newValue+u-d.oldValue,oldValue:u,length:d.length-u+d.oldValue-1}),d.length=u-d.oldValue))}),r=c;break;case n._const.addElement:var v=(m=i[n._const.route].slice()).splice(m.length-1,1)[0];r=(l=we(o,m))===null||l===void 0?void 0:l.node,f=R(i[n._const.element]),r.childNodes||(r.childNodes=[]),v>=r.childNodes.length?r.childNodes.push(f):r.childNodes.splice(v,0,f),r.subsets&&r.subsets.forEach(function(d){if(d.oldValue>=v)d.oldValue+=1;else if(d.oldValue<v&&d.oldValue+d.length>v){var y=d.oldValue+d.length-v;h.push({newValue:d.newValue+d.length-y,oldValue:v+1,length:y}),d.length-=y}});break;case n._const.removeTextElement:c.childNodes.splice(u,1),c.nodeName==="TEXTAREA"&&delete c.value,c.subsets&&c.subsets.forEach(function(d){d.oldValue>u?d.oldValue-=1:d.oldValue===u?d.delete=!0:d.oldValue<u&&d.oldValue+d.length>u&&(d.oldValue+d.length-1===u?d.length--:(h.push({newValue:d.newValue+u-d.oldValue,oldValue:u,length:d.length-u+d.oldValue-1}),d.length=u-d.oldValue))}),r=c;break;case n._const.addTextElement:var D=(m=i[n._const.route].slice()).splice(m.length-1,1)[0];f={nodeName:"#text",data:i[n._const.value]},(r=we(o,m).node).childNodes||(r.childNodes=[]),D>=r.childNodes.length?r.childNodes.push(f):r.childNodes.splice(D,0,f),r.nodeName==="TEXTAREA"&&(r.value=i[n._const.newValue]),r.subsets&&r.subsets.forEach(function(d){if(d.oldValue>=D&&(d.oldValue+=1),d.oldValue<D&&d.oldValue+d.length>D){var y=d.oldValue+d.length-D;h.push({newValue:d.newValue+d.length-y,oldValue:D+1,length:y}),d.length-=y}});break;default:console.log("unknown action")}r.subsets&&(r.subsets=r.subsets.filter(function(d){return!d.delete&&d.oldValue!==d.newValue}),h.length&&(r.subsets=r.subsets.concat(h))),n.postVirtualDiffApply({node:g.node,diff:g.diff,newNode:f})})(a,s,t)}),!0}function K(a,e){e===void 0&&(e={valueDiffing:!0,simplifiedElementCheck:!0});var t={nodeName:a.nodeName};return Y(a,e.simplifiedElementCheck,"Text","Comment")?t.data=a.data:(a.attributes&&a.attributes.length>0&&(t.attributes={},Array.prototype.slice.call(a.attributes).forEach(function(s){return t.attributes[s.name]=s.value})),a.childNodes&&a.childNodes.length>0&&(t.childNodes=[],Array.prototype.slice.call(a.childNodes).forEach(function(s){return t.childNodes.push(K(s,e))})),e.valueDiffing&&(Y(a,e.simplifiedElementCheck,"HTMLTextAreaElement")&&(t.value=a.value),Y(a,e.simplifiedElementCheck,"HTMLInputElement")&&["radio","checkbox"].includes(a.type.toLowerCase())&&a.checked!==void 0?t.checked=a.checked:Y(a,e.simplifiedElementCheck,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(t.value=a.value),Y(a,e.simplifiedElementCheck,"HTMLOptionElement")&&(t.selected=a.selected))),t}var ze=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,We=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?("[^"]*"|'[^']*')/g;function ke(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var Ue={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Ae=function(a,e){var t={nodeName:"",attributes:{}},s=!1,o=a.match(/<\/?([^\s]+?)[/\s>]/);if(o&&(t.nodeName=e||o[1]==="svg"?o[1]:o[1].toUpperCase(),(Ue[o[1]]||a.charAt(a.length-2)==="/")&&(s=!0),t.nodeName.startsWith("!--"))){var i=a.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:i!==-1?a.slice(4,i):""},voidElement:s}}for(var n=new RegExp(We),l=null,r=!1;!r;)if((l=n.exec(a))===null)r=!0;else if(l[0].trim())if(l[1]){var c=l[1].trim(),u=[c,""];c.indexOf("=")>-1&&(u=c.split("=")),t.attributes[u[0]]=u[1],n.lastIndex--}else l[2]&&(t.attributes[l[2]]=l[3].trim().substring(1,l[3].length-1));return{type:"tag",node:t,voidElement:s}},ee=function(a,e){e===void 0&&(e={valueDiffing:!0,caseSensitive:!1});var t,s=[],o=-1,i=[],n=!1;if(a.indexOf("<")!==0){var l=a.indexOf("<");s.push({nodeName:"#text",data:l===-1?a:a.substring(0,l)})}return a.replace(ze,function(r,c){var u=r.charAt(1)!=="/",p=r.startsWith("<!--"),f=c+r.length,m=a.charAt(f);if(p){var h=Ae(r,e.caseSensitive).node;if(o<0)return s.push(h),"";var g=i[o];return g&&h.nodeName&&(g.node.childNodes||(g.node.childNodes=[]),g.node.childNodes.push(h)),""}if(u){if((t=Ae(r,e.caseSensitive||n)).node.nodeName==="svg"&&(n=!0),o++,!t.voidElement&&m&&m!=="<"){t.node.childNodes||(t.node.childNodes=[]);var v=ke(a.slice(f,a.indexOf("<",f)));t.node.childNodes.push({nodeName:"#text",data:v}),e.valueDiffing&&t.node.nodeName==="TEXTAREA"&&(t.node.value=v)}o===0&&t.node.nodeName&&s.push(t.node);var D=i[o-1];D&&t.node.nodeName&&(D.node.childNodes||(D.node.childNodes=[]),D.node.childNodes.push(t.node)),i[o]=t}if((!u||t.voidElement)&&(o>-1&&(t.voidElement||e.caseSensitive&&t.node.nodeName===r.slice(2,-1)||!e.caseSensitive&&t.node.nodeName.toUpperCase()===r.slice(2,-1).toUpperCase())&&--o>-1&&(t.node.nodeName==="svg"&&(n=!1),t=i[o]),m!=="<"&&m)){var d=o===-1?s:i[o].node.childNodes||[],y=a.indexOf("<",f);v=ke(a.slice(f,y===-1?void 0:y)),d.push({nodeName:"#text",data:v})}return""}),s[0]},Je=(function(){function a(e,t,s){this.options=s,this.t1=typeof Element<"u"&&Y(e,this.options.simplifiedElementCheck,"Element")?K(e,this.options):typeof e=="string"?ee(e,this.options):JSON.parse(JSON.stringify(e)),this.t2=typeof Element<"u"&&Y(t,this.options.simplifiedElementCheck,"Element")?K(t,this.options):typeof t=="string"?ee(t,this.options):JSON.parse(JSON.stringify(t)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&Y(e,this.options.simplifiedElementCheck,"Element")?K(e,this.options):typeof e=="string"?ee(e,this.options):JSON.parse(JSON.stringify(e)),this.t2Orig=typeof Element<"u"&&Y(t,this.options.simplifiedElementCheck,"Element")?K(t,this.options):typeof t=="string"?ee(t,this.options):JSON.parse(JSON.stringify(t))),this.tracker=new Be}return a.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},a.prototype.findDiffs=function(e,t){var s;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(s=this.findNextDiff(e,t,[])).length===0&&(Ve(e,t)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,Pe(e),s=this.findNextDiff(e,t,[])))),s.length>0&&(this.foundAll=!1,this.tracker.add(s),qe(e,s,this.options))}while(s.length>0);return this.tracker.list},a.prototype.findNextDiff=function(e,t,s){var o,i;if(this.options.maxDepth&&s.length>this.options.maxDepth)return[];if(!e.outerDone){if(o=this.findOuterDiff(e,t,s),this.options.filterOuterDiff&&(i=this.options.filterOuterDiff(e,t,o))&&(o=i),o.length>0)return e.outerDone=!0,o;e.outerDone=!0}if(Object.prototype.hasOwnProperty.call(e,"data"))return[];if(!e.innerDone){if((o=this.findInnerDiff(e,t,s)).length>0)return o;e.innerDone=!0}if(this.options.valueDiffing&&!e.valueDone){if((o=this.findValueDiff(e,t,s)).length>0)return e.valueDone=!0,o;e.valueDone=!0}return[]},a.prototype.findOuterDiff=function(e,t,s){var o,i,n,l,r,c,u=[];if(e.nodeName!==t.nodeName){if(!s.length)throw new Error("Top level nodes have to be of the same kind.");return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,R(e)).setValue(this.options._const.newValue,R(t)).setValue(this.options._const.route,s)]}if(s.length&&this.options.diffcap<Math.abs((e.childNodes||[]).length-(t.childNodes||[]).length))return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,R(e)).setValue(this.options._const.newValue,R(t)).setValue(this.options._const.route,s)];if(Object.prototype.hasOwnProperty.call(e,"data")&&e.data!==t.data)return e.nodeName==="#text"?[new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)]:[new H().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)];for(i=e.attributes?Object.keys(e.attributes).sort():[],n=t.attributes?Object.keys(t.attributes).sort():[],l=i.length,c=0;c<l;c++)o=i[c],(r=n.indexOf(o))===-1?u.push(new H().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,o).setValue(this.options._const.value,e.attributes[o])):(n.splice(r,1),e.attributes[o]!==t.attributes[o]&&u.push(new H().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,o).setValue(this.options._const.oldValue,e.attributes[o]).setValue(this.options._const.newValue,t.attributes[o])));for(l=n.length,c=0;c<l;c++)o=n[c],u.push(new H().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,o).setValue(this.options._const.value,t.attributes[o]));return u},a.prototype.findInnerDiff=function(e,t,s){var o=e.childNodes?e.childNodes.slice():[],i=t.childNodes?t.childNodes.slice():[],n=Math.max(o.length,i.length),l=Math.abs(o.length-i.length),r=[],c=0;if(!this.options.maxChildCount||n<this.options.maxChildCount){var u=!!(e.subsets&&e.subsetsAge--),p=u?e.subsets:e.childNodes&&t.childNodes?Fe(e,t):[];if(p.length>0&&(r=this.attemptGroupRelocation(e,t,p,s,u)).length>0)return r}for(var f=0;f<n;f+=1){var m=o[f],h=i[f];l&&(m&&!h?m.nodeName==="#text"?(r.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(c)).setValue(this.options._const.value,m.data)),c-=1):(r.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,s.concat(c)).setValue(this.options._const.element,R(m))),c-=1):h&&!m&&(h.nodeName==="#text"?r.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,s.concat(c)).setValue(this.options._const.value,h.data)):r.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,s.concat(c)).setValue(this.options._const.element,R(h))))),m&&h&&(!this.options.maxChildCount||n<this.options.maxChildCount?r=r.concat(this.findNextDiff(m,h,s.concat(c))):Ve(m,h)||(o.length>i.length?(m.nodeName==="#text"?r.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(c)).setValue(this.options._const.value,m.data)):r.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,R(m)).setValue(this.options._const.route,s.concat(c))),o.splice(f,1),f-=1,c-=1,l-=1):o.length<i.length?(r=r.concat([new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,R(h)).setValue(this.options._const.route,s.concat(c))]),o.splice(f,0,R(h)),l-=1):r=r.concat([new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,R(m)).setValue(this.options._const.newValue,R(h)).setValue(this.options._const.route,s.concat(c))]))),c+=1}return e.innerDone=!0,r},a.prototype.attemptGroupRelocation=function(e,t,s,o,i){for(var n,l,r,c,u,p=(function(T,L,M){var V=T.childNodes?ue(T.childNodes.length,!0):[],C=L.childNodes?ue(L.childNodes.length,!0):[],$=0;return M.forEach(function(N){for(var _=N.oldValue+N.length,b=N.newValue+N.length,E=N.oldValue;E<_;E+=1)V[E]=$;for(E=N.newValue;E<b;E+=1)C[E]=$;$+=1}),{gaps1:V,gaps2:C}})(e,t,s),f=p.gaps1,m=p.gaps2,h=e.childNodes.slice(),g=t.childNodes.slice(),v=Math.min(f.length,m.length),D=[],d=0,y=0;d<v;y+=1,d+=1)if(!i||f[d]!==!0&&m[d]!==!0){if(f[y]===!0)if((c=h[y]).nodeName==="#text")if(g[d].nodeName==="#text"){if(c.data!==g[d].data){for(var S=y;h.length>S+1&&h[S+1].nodeName==="#text";)if(S+=1,g[d].data===h[S].data){u=!0;break}u||D.push(new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,o.concat(y)).setValue(this.options._const.oldValue,c.data).setValue(this.options._const.newValue,g[d].data))}}else D.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,o.concat(y)).setValue(this.options._const.value,c.data)),f.splice(y,1),h.splice(y,1),v=Math.min(f.length,m.length),y-=1,d-=1;else m[d]===!0?D.push(new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,R(c)).setValue(this.options._const.newValue,R(g[d])).setValue(this.options._const.route,o.concat(y))):(D.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,o.concat(y)).setValue(this.options._const.element,R(c))),f.splice(y,1),h.splice(y,1),v=Math.min(f.length,m.length),y-=1,d-=1);else if(m[d]===!0)(c=g[d]).nodeName==="#text"?(D.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,o.concat(y)).setValue(this.options._const.value,c.data)),f.splice(y,0,!0),h.splice(y,0,{nodeName:"#text",data:c.data}),v=Math.min(f.length,m.length)):(D.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,o.concat(y)).setValue(this.options._const.element,R(c))),f.splice(y,0,!0),h.splice(y,0,R(c)),v=Math.min(f.length,m.length));else if(f[y]!==m[d]){if(D.length>0)return D;if(r=s[f[y]],(l=Math.min(r.newValue,h.length-r.length))!==r.oldValue&&l>-1){n=!1;for(var A=0;A<r.length;A+=1)Me(h[l+A],h[r.oldValue+A],{},!1,!0)||(n=!0);if(n)return[new H().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,r.length).setValue(this.options._const.from,r.oldValue).setValue(this.options._const.to,l).setValue(this.options._const.route,o)]}}}return D},a.prototype.findValueDiff=function(e,t,s){var o=[];return e.selected!==t.selected&&o.push(new H().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,e.selected).setValue(this.options._const.newValue,t.selected).setValue(this.options._const.route,s)),(e.value||t.value)&&e.value!==t.value&&e.nodeName!=="OPTION"&&o.push(new H().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,e.value||"").setValue(this.options._const.newValue,t.value||"").setValue(this.options._const.route,s)),e.checked!==t.checked&&o.push(new H().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,e.checked).setValue(this.options._const.newValue,t.checked).setValue(this.options._const.route,s)),o},a})(),Qe={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,simplifiedElementCheck:!1,textDiff:function(a,e,t,s){a.data=s},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},Ze=(function(){function a(e){if(e===void 0&&(e={}),Object.entries(Qe).forEach(function(o){var i=o[0],n=o[1];Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n)}),!e._const){var t=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],s={};e.compress?t.forEach(function(o,i){return s[o]=i}):t.forEach(function(o){return s[o]=o}),e._const=s}this.options=e}return a.prototype.apply=function(e,t){return(function(s,o,i){return o.every(function(n){return U(s,n,i)})})(e,t,this.options)},a.prototype.undo=function(e,t){return je(e,t,this.options)},a.prototype.diff=function(e,t){return new Je(e,t,this.options).init()},a})();const xe=(a,e,t,{classes:s,format:o,hiddenHeader:i,sortable:n,scrollY:l,type:r},{noColumnWidths:c,unhideHeader:u})=>({nodeName:"TR",childNodes:a.map((p,f)=>{const m=e[f]||{sortable:!0};if(m.hidden||p.attributes?.["data-colspan-placeholder"]==="true")return;const h=p.attributes?{...p.attributes}:{};if(m.sortable&&n&&(!l.length||u)&&(m.filter?h["data-filterable"]="true":h["data-sortable"]="true"),m.headerClass&&(h.class=z(h.class,m.headerClass)),t.sort&&t.sort.column===f){const v=t.sort.dir==="asc"?s.ascending:s.descending;h.class=z(h.class,v),h["aria-sort"]=t.sort.dir==="asc"?"ascending":"descending"}else t.filters[f]&&(h.class=z(h.class,s.filterActive));if(t.widths[f]&&!c){const v=`width: ${t.widths[f]}%;`;h.style=z(h.style,v)}if(l.length&&!u){const v="padding-bottom: 0;padding-top: 0;border: 0;";h.style=z(h.style,v)}const g=p.type==="html"?p.data:[{nodeName:"#text",data:p.text??String(p.data)}];return{nodeName:"TH",attributes:h,childNodes:!i&&!l.length||u?m.sortable&&n?[{nodeName:"BUTTON",attributes:{class:m.filter?s.filter:s.sorter},childNodes:g}]:g:[{nodeName:"#text",data:""}]}}).filter(p=>p)}),Se=(a,e,t,s,o,i,{classes:n,hiddenHeader:l,header:r,footer:c,format:u,sortable:p,scrollY:f,type:m,rowRender:h,tabIndex:g},{noColumnWidths:v,unhideHeader:D,renderHeader:d},y,S)=>{const A={nodeName:"TABLE",attributes:{...a},childNodes:[{nodeName:"TBODY",childNodes:t.map(({row:T,index:L})=>{const M={nodeName:"TR",attributes:{...T.attributes,"data-index":String(L)},childNodes:T.cells.map((V,C)=>{const $=s[C]||{type:m,format:u,sortable:!0,searchable:!0};if($.hidden||V.attributes?.["data-colspan-placeholder"]==="true"||V.attributes?.["data-rowspan-placeholder"]==="true")return;const N={nodeName:"TD",attributes:V.attributes?{...V.attributes}:{},childNodes:$.type==="html"?V.data:[{nodeName:"#text",data:ae(V)}]};if(r||c||!o.widths[C]||v||(N.attributes.style=z(N.attributes.style,`width: ${o.widths[C]}%;`)),$.cellClass&&(N.attributes.class=z(N.attributes.class,$.cellClass)),$.render){const _=$.render(V.data,N,L,C);if(_){if(typeof _!="string")return _;{const b=ee(`<td>${_}</td>`);b.childNodes.length===1&&["#text","#comment"].includes(b.childNodes[0].nodeName)?N.childNodes[0].data=_:N.childNodes=b.childNodes}}}return N}).filter(V=>V)};if(L===i&&(M.attributes.class=z(M.attributes.class,n.cursor)),h){const V=h(T,M,L);if(V){if(typeof V!="string")return V;{const C=ee(`<tr>${V}</tr>`);!C.childNodes||C.childNodes.length===1&&["#text","#comment"].includes(C.childNodes[0].nodeName)?M.childNodes[0].data=V:M.childNodes=C.childNodes}}}return M})}]};if(A.attributes.class=z(A.attributes.class,n.table),r||c||d){const T=xe(e,s,o,{classes:n,hiddenHeader:l,sortable:p,scrollY:f},{noColumnWidths:v,unhideHeader:D});if(r||d){const L={nodeName:"THEAD",childNodes:[T]};!f.length&&!l||D||(L.attributes={style:"height: 0px;"}),A.childNodes.unshift(L)}if(c){const L={nodeName:"TFOOT",childNodes:[r?structuredClone(T):T]};!f.length&&!l||D||(L.attributes={style:"height: 0px;"}),A.childNodes.push(L)}}return y.forEach(T=>A.childNodes.push(T)),S.forEach(T=>A.childNodes.push(T)),g!==!1&&(A.attributes.tabindex=String(g)),A};function He(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ie=He((function(){var a=1e3,e=6e4,t=36e5,s="millisecond",o="second",i="minute",n="hour",l="day",r="week",c="month",u="quarter",p="year",f="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var _=["th","st","nd","rd"],b=N%100;return"["+N+(_[(b-20)%10]||_[b]||_[0])+"]"}},D=function(N,_,b){var E=String(N);return!E||E.length>=_?N:""+Array(_+1-E.length).join(b)+N},d={s:D,z:function(N){var _=-N.utcOffset(),b=Math.abs(_),E=Math.floor(b/60),w=b%60;return(_<=0?"+":"-")+D(E,2,"0")+":"+D(w,2,"0")},m:function N(_,b){if(_.date()<b.date())return-N(b,_);var E=12*(b.year()-_.year())+(b.month()-_.month()),w=_.clone().add(E,c),x=b-w<0,O=_.clone().add(E+(x?-1:1),c);return+(-(E+(b-w)/(x?w-O:O-w))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:c,y:p,w:r,d:l,D:f,h:n,m:i,s:o,ms:s,Q:u}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},y="en",S={};S[y]=v;var A="$isDayjsObject",T=function(N){return N instanceof C||!(!N||!N[A])},L=function N(_,b,E){var w;if(!_)return y;if(typeof _=="string"){var x=_.toLowerCase();S[x]&&(w=x),b&&(S[x]=b,w=x);var O=_.split("-");if(!w&&O.length>1)return N(O[0])}else{var k=_.name;S[k]=_,w=k}return!E&&w&&(y=w),w||!E&&y},M=function(N,_){if(T(N))return N.clone();var b=typeof _=="object"?_:{};return b.date=N,b.args=arguments,new C(b)},V=d;V.l=L,V.i=T,V.w=function(N,_){return M(N,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var C=(function(){function N(b){this.$L=L(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[A]=!0}var _=N.prototype;return _.parse=function(b){this.$d=(function(E){var w=E.date,x=E.utc;if(w===null)return new Date(NaN);if(V.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var O=w.match(h);if(O){var k=O[2]-1||0,P=(O[7]||"0").substring(0,3);return x?new Date(Date.UTC(O[1],k,O[3]||1,O[4]||0,O[5]||0,O[6]||0,P)):new Date(O[1],k,O[3]||1,O[4]||0,O[5]||0,O[6]||0,P)}}return new Date(w)})(b),this.init()},_.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},_.$utils=function(){return V},_.isValid=function(){return this.$d.toString()!==m},_.isSame=function(b,E){var w=M(b);return this.startOf(E)<=w&&w<=this.endOf(E)},_.isAfter=function(b,E){return M(b)<this.startOf(E)},_.isBefore=function(b,E){return this.endOf(E)<M(b)},_.$g=function(b,E,w){return V.u(b)?this[E]:this.set(w,b)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(b,E){var w=this,x=!!V.u(E)||E,O=V.p(b),k=function(W,F){var q=V.w(w.$u?Date.UTC(w.$y,F,W):new Date(w.$y,F,W),w);return x?q:q.endOf(l)},P=function(W,F){return V.w(w.toDate()[W].apply(w.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(F)),w)},I=this.$W,j=this.$M,B=this.$D,Z="set"+(this.$u?"UTC":"");switch(O){case p:return x?k(1,0):k(31,11);case c:return x?k(1,j):k(0,j+1);case r:var J=this.$locale().weekStart||0,se=(I<J?I+7:I)-J;return k(x?B-se:B+(6-se),j);case l:case f:return P(Z+"Hours",0);case n:return P(Z+"Minutes",1);case i:return P(Z+"Seconds",2);case o:return P(Z+"Milliseconds",3);default:return this.clone()}},_.endOf=function(b){return this.startOf(b,!1)},_.$set=function(b,E){var w,x=V.p(b),O="set"+(this.$u?"UTC":""),k=(w={},w[l]=O+"Date",w[f]=O+"Date",w[c]=O+"Month",w[p]=O+"FullYear",w[n]=O+"Hours",w[i]=O+"Minutes",w[o]=O+"Seconds",w[s]=O+"Milliseconds",w)[x],P=x===l?this.$D+(E-this.$W):E;if(x===c||x===p){var I=this.clone().set(f,1);I.$d[k](P),I.init(),this.$d=I.set(f,Math.min(this.$D,I.daysInMonth())).$d}else k&&this.$d[k](P);return this.init(),this},_.set=function(b,E){return this.clone().$set(b,E)},_.get=function(b){return this[V.p(b)]()},_.add=function(b,E){var w,x=this;b=Number(b);var O=V.p(E),k=function(j){var B=M(x);return V.w(B.date(B.date()+Math.round(j*b)),x)};if(O===c)return this.set(c,this.$M+b);if(O===p)return this.set(p,this.$y+b);if(O===l)return k(1);if(O===r)return k(7);var P=(w={},w[i]=e,w[n]=t,w[o]=a,w)[O]||1,I=this.$d.getTime()+b*P;return V.w(I,this)},_.subtract=function(b,E){return this.add(-1*b,E)},_.format=function(b){var E=this,w=this.$locale();if(!this.isValid())return w.invalidDate||m;var x=b||"YYYY-MM-DDTHH:mm:ssZ",O=V.z(this),k=this.$H,P=this.$m,I=this.$M,j=w.weekdays,B=w.months,Z=w.meridiem,J=function(F,q,Q,G){return F&&(F[q]||F(E,x))||Q[q].slice(0,G)},se=function(F){return V.s(k%12||12,F,"0")},W=Z||function(F,q,Q){var G=F<12?"AM":"PM";return Q?G.toLowerCase():G};return x.replace(g,function(F,q){return q||(function(Q){switch(Q){case"YY":return String(E.$y).slice(-2);case"YYYY":return V.s(E.$y,4,"0");case"M":return I+1;case"MM":return V.s(I+1,2,"0");case"MMM":return J(w.monthsShort,I,B,3);case"MMMM":return J(B,I);case"D":return E.$D;case"DD":return V.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return J(w.weekdaysMin,E.$W,j,2);case"ddd":return J(w.weekdaysShort,E.$W,j,3);case"dddd":return j[E.$W];case"H":return String(k);case"HH":return V.s(k,2,"0");case"h":return se(1);case"hh":return se(2);case"a":return W(k,P,!0);case"A":return W(k,P,!1);case"m":return String(P);case"mm":return V.s(P,2,"0");case"s":return String(E.$s);case"ss":return V.s(E.$s,2,"0");case"SSS":return V.s(E.$ms,3,"0");case"Z":return O}return null})(F)||O.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(b,E,w){var x,O=this,k=V.p(E),P=M(b),I=(P.utcOffset()-this.utcOffset())*e,j=this-P,B=function(){return V.m(O,P)};switch(k){case p:x=B()/12;break;case c:x=B();break;case u:x=B()/3;break;case r:x=(j-I)/6048e5;break;case l:x=(j-I)/864e5;break;case n:x=j/t;break;case i:x=j/e;break;case o:x=j/a;break;default:x=j}return w?x:V.a(x)},_.daysInMonth=function(){return this.endOf(c).$D},_.$locale=function(){return S[this.$L]},_.locale=function(b,E){if(!b)return this.$L;var w=this.clone(),x=L(b,E,!0);return x&&(w.$L=x),w},_.clone=function(){return V.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},N})(),$=C.prototype;return M.prototype=$,[["$ms",s],["$s",o],["$m",i],["$H",n],["$W",l],["$M",c],["$y",p],["$D",f]].forEach(function(N){$[N[1]]=function(_){return this.$g(_,N[0],N[1])}}),M.extend=function(N,_){return N.$i||(N(_,C,M),N.$i=!0),M},M.locale=L,M.isDayjs=T,M.unix=function(N){return M(1e3*N)},M.en=S[y],M.Ls=S,M.p={},M})()),Ge=He((function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d/,s=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,n={},l=function(h){return(h=+h)+(h>68?1900:2e3)},r=function(h){return function(g){this[h]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=(function(g){if(!g||g==="Z")return 0;var v=g.match(/([+-]|\d\d)/g),D=60*v[1]+(+v[2]||0);return D===0?0:v[0]==="+"?-D:D})(h)}],u=function(h){var g=n[h];return g&&(g.indexOf?g:g.s.concat(g.f))},p=function(h,g){var v,D=n.meridiem;if(D){for(var d=1;d<=24;d+=1)if(h.indexOf(D(d,0,g))>-1){v=d>12;break}}else v=h===(g?"pm":"PM");return v},f={A:[i,function(h){this.afternoon=p(h,!1)}],a:[i,function(h){this.afternoon=p(h,!0)}],Q:[t,function(h){this.month=3*(h-1)+1}],S:[t,function(h){this.milliseconds=100*+h}],SS:[s,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[o,r("seconds")],ss:[o,r("seconds")],m:[o,r("minutes")],mm:[o,r("minutes")],H:[o,r("hours")],h:[o,r("hours")],HH:[o,r("hours")],hh:[o,r("hours")],D:[o,r("day")],DD:[s,r("day")],Do:[i,function(h){var g=n.ordinal,v=h.match(/\d+/);if(this.day=v[0],g)for(var D=1;D<=31;D+=1)g(D).replace(/\[|\]/g,"")===h&&(this.day=D)}],w:[o,r("week")],ww:[s,r("week")],M:[o,r("month")],MM:[s,r("month")],MMM:[i,function(h){var g=u("months"),v=(u("monthsShort")||g.map(function(D){return D.slice(0,3)})).indexOf(h)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[i,function(h){var g=u("months").indexOf(h)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,r("year")],YY:[s,function(h){this.year=l(h)}],YYYY:[/\d{4}/,r("year")],Z:c,ZZ:c};function m(h){var g,v;g=h,v=n&&n.formats;for(var D=(h=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,V,C){var $=C&&C.toUpperCase();return V||v[C]||a[C]||v[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,_,b){return _||b.slice(1)})})).match(e),d=D.length,y=0;y<d;y+=1){var S=D[y],A=f[S],T=A&&A[0],L=A&&A[1];D[y]=L?{regex:T,parser:L}:S.replace(/^\[|\]$/g,"")}return function(M){for(var V={},C=0,$=0;C<d;C+=1){var N=D[C];if(typeof N=="string")$+=N.length;else{var _=N.regex,b=N.parser,E=M.slice($),w=_.exec(E)[0];b.call(V,w),M=M.replace(w,"")}}return(function(x){var O=x.afternoon;if(O!==void 0){var k=x.hours;O?k<12&&(x.hours+=12):k===12&&(x.hours=0),delete x.afternoon}})(V),V}}return function(h,g,v){v.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(l=h.parseTwoDigitYear);var D=g.prototype,d=D.parse;D.parse=function(y){var S=y.date,A=y.utc,T=y.args;this.$u=A;var L=T[1];if(typeof L=="string"){var M=T[2]===!0,V=T[3]===!0,C=M||V,$=T[2];V&&($=T[2]),n=this.$locale(),!M&&$&&(n=v.Ls[$]),this.$d=(function(E,w,x,O){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*E);var k=m(w)(E),P=k.year,I=k.month,j=k.day,B=k.hours,Z=k.minutes,J=k.seconds,se=k.milliseconds,W=k.zone,F=k.week,q=new Date,Q=j||(P||I?1:q.getDate()),G=P||q.getFullYear(),le=0;P&&!I||(le=I>0?I-1:q.getMonth());var ce,fe=B||0,pe=Z||0,me=J||0,ge=se||0;return W?new Date(Date.UTC(G,le,Q,fe,pe,me,ge+60*W.offset*1e3)):x?new Date(Date.UTC(G,le,Q,fe,pe,me,ge)):(ce=new Date(G,le,Q,fe,pe,me,ge),F&&(ce=O(ce).week(F).toDate()),ce)}catch{return new Date("")}})(S,L,A,v),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),C&&S!=this.format(L)&&(this.$d=new Date("")),n={}}else if(L instanceof Array)for(var N=L.length,_=1;_<=N;_+=1){T[1]=L[_-1];var b=v.apply(this,T);if(b.isValid()){this.$d=b.$d,this.$L=b.$L,this.init();break}_===N&&(this.$d=new Date(""))}else d.call(this,y)}}})());ie.extend(Ge);const Ie=(a,e)=>{let t;if(e)switch(e){case"ISO_8601":t=a;break;case"RFC_2822":t=ie(a.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":t=ie(a,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":t=ie(a).unix();break;default:t=ie(a,e,!0).valueOf()}return t},te=(a,e)=>{let t,s,o;if(a?.constructor===Object&&Object.prototype.hasOwnProperty.call(a,"data")&&!Object.keys(a).find(i=>!["text","order","data","attributes"].includes(i))){const i=a;if(s=i.data,o=i.attributes,i.text!==void 0&&i.order!==void 0)return i;t={data:i.data,text:i.text,order:i.order,attributes:i.attributes}}else s=a,t={data:a};if(t.text===void 0||t.order===void 0)switch(e.type){case"string":typeof s!="string"&&(t.text=t.text??String(t.data),t.order=t.order??t.text);break;case"date":e.format&&(t.order=t.order??Ie(String(t.data),e.format));break;case"number":t.text=t.text??String(t.data),t.data=parseFloat(t.data),t.order=t.order??t.data;break;case"html":{const i=Array.isArray(t.data)?{nodeName:"TD",childNodes:t.data}:ee(`<td>${String(t.data)}</td>`);t.data=i.childNodes||[];const n=re(i);t.text=t.text??n,t.order=t.order??n;break}case"boolean":typeof t.data=="string"&&(t.data=t.data.toLowerCase().trim()),t.data=!["false",!1,null,void 0,0].includes(t.data),t.order=t.order??(t.data?1:0),t.text=t.text??String(t.data);break;case"other":t.text=t.text??"",t.order=t.order??0;break;default:t.text=t.text??JSON.stringify(t.data)}return o&&(t.attributes=o),t},Xe=(a,e)=>{let t;switch(e.type){case"string":t={data:a.innerText};break;case"date":{const s=a.innerText;t={data:s,order:Ie(s,e.format)};break}case"number":{const s=parseFloat(a.innerText);t={data:s,order:s,text:a.innerText};break}case"boolean":{const s=!["false","0","null","undefined"].includes(a.innerText.toLowerCase().trim());t={data:s,text:s?"1":"0",order:s?1:0};break}default:t={data:K(a,{valueDiffing:!1}).childNodes||[],text:a.innerText,order:a.innerText};break}return t.attributes=Ce(a.attributes),t},oe=a=>{if(a instanceof Object&&a.constructor===Object&&a.hasOwnProperty("data")){const t=a;return typeof t.data=="string"&&(t.text||(t.text=t.data),t.type||(t.type="string")),t}const e={data:a};if(typeof a=="string"){if(a.length){const t=ee(`<th>${a}</th>`);if(t.childNodes&&(t.childNodes.length!==1||t.childNodes[0].nodeName!=="#text")){e.data=t.childNodes,e.type="html";const s=re(t);e.text=s}}}else[null,void 0].includes(a)?e.text="":e.text=JSON.stringify(a);return e},Le=(a,e=void 0,t,s,o)=>{const i={data:[],headings:[]};if(a.headings){const n=[];a.headings.forEach(l=>{const r=oe(l),c=parseInt(r.attributes?.colspan||"1",10);n.push(r);for(let u=1;u<c;u++)n.push({data:"",text:"",attributes:{"data-colspan-placeholder":"true"}})}),i.headings=n}else if(e?.tHead){const n=[];Array.from(e.tHead.querySelectorAll("th")).forEach(r=>{const c=parseInt(r.getAttribute("colspan")||"1",10),u=(p=>{const f=K(p,{valueDiffing:!1});let m;return m=!f.childNodes||f.childNodes.length===1&&f.childNodes[0].nodeName==="#text"?{data:p.innerText,type:"string"}:{data:f.childNodes,type:"html",text:re(f)},m.attributes=f.attributes,m})(r);n.push(u);for(let p=1;p<c;p++)n.push({data:"",text:"",attributes:{"data-colspan-placeholder":"true"}})}),i.headings=n;let l=0;Array.from(e.tHead.querySelectorAll("th")).forEach(r=>{const c=parseInt(r.getAttribute("colspan")||"1",10);for(let u=0;u<c;u++){t[l]||(t[l]={type:s,format:o,searchable:!0,sortable:!0});const p=t[l];u===0&&(r.dataset.sortable?.trim().toLowerCase()!=="false"&&r.dataset.sort?.trim().toLowerCase()!=="false"||(p.sortable=!1),r.dataset.searchable?.trim().toLowerCase()==="false"&&(p.searchable=!1),r.dataset.hidden?.trim().toLowerCase()!=="true"&&r.getAttribute("hidden")?.trim().toLowerCase()!=="true"||(p.hidden=!0),r.dataset.type&&["number","string","html","date","boolean","other"].includes(r.dataset.type)&&(p.type=r.dataset.type,p.type==="date"&&r.dataset.format&&(p.format=r.dataset.format))),l++}})}else if(a.data?.length){const n=a.data[0],l=Array.isArray(n)?n:n.cells;i.headings=l.map(r=>oe(""))}else e?.tBodies.length&&(i.headings=Array.from(e.tBodies[0].rows[0].cells).map(n=>oe("")));for(let n=0;n<i.headings.length;n++)t[n]||(t[n]={type:s,format:o,sortable:!0,searchable:!0});if(a.data){const n=i.headings.map(r=>r.data?String(r.data):r.text),l=new Map;i.data=a.data.map((r,c)=>{let u,p;Array.isArray(r)?(u={},p=r):r.hasOwnProperty("cells")&&Object.keys(r).every(g=>["cells","attributes"].includes(g))?(u=r.attributes,p=r.cells):(u={},p=[],Object.entries(r).forEach(([g,v])=>{const D=n.indexOf(g);D>-1&&(p[D]=v)}));const f=[];let m=0,h=0;for(;m<i.headings.length;)if(l.has(m)){const g=l.get(m);f.push({data:"",text:"",order:"",attributes:{"data-rowspan-placeholder":"true"}}),g.remainingRows--,g.remainingRows<=0&&l.delete(m),m++}else{if(!(h<p.length))break;{const g=p[h],v=te(g,t[m]),D=parseInt(v.attributes?.colspan||"1",10),d=parseInt(v.attributes?.rowspan||"1",10);f.push(v),d>1&&l.set(m,{remainingRows:d-1,cellData:v}),m++,h++;for(let y=1;y<D;y++)f.push({data:"",text:"",order:"",attributes:{"data-colspan-placeholder":"true"}}),m++}}return{attributes:u,cells:f}})}else if(e?.tBodies?.length){const n=new Map;i.data=Array.from(e.tBodies[0].rows).map(l=>{const r=[];let c=0,u=0;const p=Array.from(l.cells);for(;c<i.headings.length;)if(n.has(c)){const f=n.get(c);r.push({data:"",text:"",order:"",attributes:{"data-rowspan-placeholder":"true"}}),f.remainingRows--,f.remainingRows<=0&&n.delete(c),c++}else{if(!(u<p.length))break;{const f=p[u],m=parseInt(f.getAttribute("colspan")||"1",10),h=parseInt(f.getAttribute("rowspan")||"1",10),g=f.dataset.content?te(f.dataset.content,t[c]):Xe(f,t[c]);f.dataset.order&&(g.order=isNaN(parseFloat(f.dataset.order))?f.dataset.order:parseFloat(f.dataset.order)),r.push(g),h>1&&n.set(c,{remainingRows:h-1,cellData:g}),c++,u++;for(let v=1;v<m;v++)r.push({data:"",text:"",order:"",attributes:{"data-colspan-placeholder":"true"}}),c++}}return{attributes:Ce(l.attributes),cells:r}})}if(i.data.length&&i.data[0].cells.length!==i.headings.length)throw new Error("Data heading length mismatch.");return i};class Ke{cursor;dt;constructor(e){this.dt=e,this.cursor=!1}setCursor(e=!1){if(e===this.cursor)return;const t=this.cursor;if(this.cursor=e,this.dt._renderTable(),e!==!1&&this.dt.options.scrollY){const s=X(this.dt.options.classes.cursor),o=this.dt.dom.querySelector(`tr${s}`);o&&o.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,t)}add(e){if(!Array.isArray(e)||e.length<1)return;const t={cells:e.map((s,o)=>{const i=this.dt.columns.settings[o];return te(s,i)})};this.dt.data.data.push(t),this.dt.hasRows=!0,this.dt.update(!0)}remove(e){if(!Array.isArray(e))return this.remove([e]);this.dt.data.data=this.dt.data.data.filter((t,s)=>!e.includes(s)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(e,t){return this.dt.data.data.findIndex(s=>{const o=s.cells[e];return ae(o).toLowerCase().includes(String(t).toLowerCase())})}findRow(e,t){const s=this.findRowIndex(e,t);if(s<0)return{index:-1,row:null,cols:[]};const o=this.dt.data.data[s],i=o.cells.map(n=>n.data);return{index:s,row:o,cols:i}}updateRow(e,t){const s={cells:t.map((o,i)=>{const n=this.dt.columns.settings[i];return te(o,n)})};this.dt.data.data.splice(e,1,s),this.dt.update(!0)}}class et{dt;settings;_state;constructor(e){this.dt=e,this.init()}init(){[this.settings,this._state]=((e=[],t,s)=>{let o=[],i=!1;const n=[];return e.forEach(l=>{(Array.isArray(l.select)?l.select:[l.select]).forEach(r=>{o[r]?l.type&&(o[r].type=l.type):o[r]={type:l.type||t,sortable:!0,searchable:!0};const c=o[r];l.render&&(c.render=l.render),l.format?c.format=l.format:l.type==="date"&&(c.format=s),l.cellClass&&(c.cellClass=l.cellClass),l.headerClass&&(c.headerClass=l.headerClass),l.locale&&(c.locale=l.locale),l.sortable===!1?c.sortable=!1:(l.numeric&&(c.numeric=l.numeric),l.caseFirst&&(c.caseFirst=l.caseFirst)),l.searchable===!1?c.searchable=!1:l.sensitivity&&(c.sensitivity=l.sensitivity),(c.searchable||c.sortable)&&l.ignorePunctuation!==void 0&&(c.ignorePunctuation=l.ignorePunctuation),l.searchMethod&&(c.searchMethod=l.searchMethod),l.hidden&&(c.hidden=!0),l.filter&&(c.filter=l.filter),l.sortSequence&&(c.sortSequence=l.sortSequence),l.sort&&(l.filter?n[r]=l.sort:i={column:r,dir:l.sort}),l.searchItemSeparator!==void 0&&(c.searchItemSeparator=l.searchItemSeparator)})}),o=o.map(l=>l||{type:t,format:t==="date"?s:void 0,sortable:!0,searchable:!0}),[o,{filters:n,sort:i,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(e){return e<0||e>=this.size()?null:{...this.settings[e]}}size(){return this.settings.length}swap(e){if(e.length===2){const t=this.dt.data.headings.map((n,l)=>l),s=e[0],o=e[1],i=t[o];return t[o]=t[s],t[s]=i,this.order(t)}}order(e){this.dt.data.headings=e.map(t=>this.dt.data.headings[t]),this.dt.data.data.forEach(t=>t.cells=e.map(s=>t.cells[s])),this.settings=e.map(t=>this.settings[t]),this.dt.update()}hide(e){Array.isArray(e)||(e=[e]),e.length&&(e.forEach(t=>{this.settings[t]||(this.settings[t]={type:"string"}),this.settings[t].hidden=!0}),this.dt.update())}show(e){Array.isArray(e)||(e=[e]),e.length&&(e.forEach(t=>{this.settings[t]||(this.settings[t]={type:"string",sortable:!0}),delete this.settings[t].hidden}),this.dt.update())}visible(e){return e===void 0&&(e=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(e)?e.map(t=>!this.settings[t]?.hidden):!this.settings[e]?.hidden}add(e){const t=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([oe(e.heading)]),this.dt.data.data.forEach((s,o)=>{s.cells=s.cells.concat([te(e.data[o],e)])}),this.settings[t]={type:e.type||"string",sortable:!0,searchable:!0},e.type||e.format||e.sortable||e.render||e.filter){const s=this.settings[t];e.render&&(s.render=e.render),e.format&&(s.format=e.format),e.cellClass&&(s.cellClass=e.cellClass),e.headerClass&&(s.headerClass=e.headerClass),e.locale&&(s.locale=e.locale),e.sortable===!1?s.sortable=!1:(e.numeric&&(s.numeric=e.numeric),e.caseFirst&&(s.caseFirst=e.caseFirst)),e.searchable===!1?s.searchable=!1:e.sensitivity&&(s.sensitivity=e.sensitivity),(s.searchable||s.sortable)&&e.ignorePunctuation&&(s.ignorePunctuation=e.ignorePunctuation),e.hidden&&(s.hidden=!0),e.filter&&(s.filter=e.filter),e.sortSequence&&(s.sortSequence=e.sortSequence)}this.dt.update(!0)}remove(e){Array.isArray(e)||(e=[e]),this.dt.data.headings=this.dt.data.headings.filter((t,s)=>!e.includes(s)),this.dt.data.data.forEach(t=>t.cells=t.cells.filter((s,o)=>!e.includes(o))),this.dt.update(!0)}filter(e,t=!1){if(!this.settings[e]?.filter?.length)return;const s=this._state.filters[e];let o;if(s){let i=!1;o=this.settings[e].filter.find(n=>!!i||(n===s&&(i=!0),!1))}else{const i=this.settings[e].filter;o=i?i[0]:void 0}o?this._state.filters[e]=o:s&&(this._state.filters[e]=void 0),this.dt._currentPage=1,this.dt.update(),t||this.dt.emit("datatable.filter",e,o)}sort(e,t=void 0,s=!1){const o=this.settings[e];if(s||this.dt.emit("datatable.sorting",e,t),!t){const c=!(!this._state.sort||this._state.sort.column!==e)&&this._state.sort?.dir,u=o?.sortSequence||["asc","desc"];if(c){const p=u.indexOf(c);t=p===-1?u[0]||"asc":p===u.length-1?u[0]:u[p+1]}else t=u.length?u[0]:"asc"}const i=!(!o||!["string","html"].includes(o.type))&&new Intl.Collator(o.locale||this.dt.options.locale,{usage:"sort",numeric:o.numeric||this.dt.options.numeric,caseFirst:o.caseFirst||this.dt.options.caseFirst,ignorePunctuation:o.ignorePunctuation||this.dt.options.ignorePunctuation}),n=[],l=new Map;this.dt.data.data.forEach((c,u)=>{if(c.cells.some(p=>p.attributes?.["data-rowspan-placeholder"]==="true")){for(let f=u-1;f>=0;f--)if(l.has(f)){const m=l.get(f);return n[m].push(u),void l.set(u,m)}const p=n.length;n.push([u]),l.set(u,p)}else if(c.cells.some(p=>p.attributes?.rowspan&&parseInt(p.attributes.rowspan,10)>1)){const p=n.length;n.push([u]),l.set(u,p)}else{const p=n.length;n.push([u]),l.set(u,p)}}),n.sort((c,u)=>{const p=(h,g)=>{const v=this.dt.data.data[h].cells[g];if(v.attributes?.["data-rowspan-placeholder"]==="true"){for(let D=h-1;D>=0;D--){const d=this.dt.data.data[D].cells[g];if(d.attributes?.["data-rowspan-placeholder"]!=="true")return d.order??ae(d)}return""}return v.order??ae(v)};let f=p(c[0],e),m=p(u[0],e);if(t==="desc"){const h=f;f=m,m=h}return i&&typeof f!="number"&&typeof m!="number"?i.compare(String(f),String(m)):f<m?-1:f>m?1:0});const r=[];n.forEach(c=>{c.forEach(u=>{r.push(this.dt.data.data[u])})}),this.dt.data.data=r,this._state.sort={column:e,dir:t},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",e,t)):s||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",e,t))}_measureWidths(){const e=this.dt.data.headings.filter((t,s)=>!this.settings[s]?.hidden);if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&e?.length){this._state.widths=[];const t={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(t.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),t.noColumnWidths=!0,this.dt._renderTable(t);const s=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let o=0;const i=this.dt.data.headings.map((l,r)=>{if(this.settings[r]?.hidden)return 0;const c=s[o].offsetWidth;return o+=1,c}),n=i.reduce((l,r)=>l+r,0);this._state.widths=i.map(l=>l/n*100)}else{t.renderHeader=!0,this.dt._renderTable(t);const s=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let o=0;const i=this.dt.data.headings.map((l,r)=>{if(this.settings[r]?.hidden)return 0;const c=s[o].offsetWidth;return o+=1,c}),n=i.reduce((l,r)=>l+r,0);this._state.widths=i.map(l=>l/n*100)}this.dt._renderTable()}}}const de={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,searchMethod:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"",nextText:"",firstText:"",lastText:"",ellipsisText:"",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:void 0,rowNavigation:!1,rowSelectionKeys:["Enter"," "],tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1,simplifiedElementCheck:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(a,e)=>`<div class='${a.classes.top}'>
    ${a.paging&&a.perPageSelect?`<div class='${a.classes.dropdown}'>
            <label>
                <select class='${a.classes.selector}' name="per-page"></select> ${a.labels.perPage}
            </label>
        </div>`:""}
    ${a.searchable?`<div class='${a.classes.search}'>
            <input class='${a.classes.input}' placeholder='${a.labels.placeholder}' type='search' name="search" title='${a.labels.searchTitle}'${e.id?` aria-controls="${e.id}"`:""}>
        </div>`:""}
</div>
<div class='${a.classes.container}'${a.scrollY.length?` style='height: ${a.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${a.classes.bottom}'>
    ${a.paging?`<div class='${a.classes.info}'></div>`:""}
    <nav class='${a.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},ne=(a,e,t,s={})=>({nodeName:"LI",attributes:{class:s.active&&!s.hidden?`${t.classes.paginationListItem} ${t.classes.active}`:s.hidden?`${t.classes.paginationListItem} ${t.classes.hidden} ${t.classes.disabled}`:t.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(a),class:t.classes.paginationListItemLink,"aria-label":t.labels.pageTitle.replace("{page}",String(a))},childNodes:[{nodeName:"#text",data:e}]}]}),tt=(a,e,t,s,o)=>{let i=[];if(o.firstLast&&i.push(ne(1,o.firstText,o)),o.nextPrev){const l=a?1:t-1;i.push(ne(l,o.prevText,o,{hidden:a}))}let n=[...Array(s).keys()].map(l=>ne(l+1,String(l+1),o,{active:l===t-1}));if(o.truncatePager&&(n=((l,r,c,u)=>{const p=u.pagerDelta,f=u.classes,m=u.ellipsisText,h=2*p;let g=r-p,v=r+p;r<4-p+h?v=3+h:r>c-(3-p+h)&&(g=c-(2+h));const D=[];for(let S=1;S<=c;S++)if(S==1||S==c||S>=g&&S<=v){const A=l[S-1];D.push(A)}let d;const y=[];return D.forEach(S=>{const A=parseInt(S.childNodes[0].attributes["data-page"],10);if(d){const T=parseInt(d.childNodes[0].attributes["data-page"],10);if(A-T==2)y.push(l[T]);else if(A-T!=1){const L={nodeName:"LI",attributes:{class:`${f.paginationListItem} ${f.ellipsis} ${f.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:f.paginationListItemLink},childNodes:[{nodeName:"#text",data:m}]}]};y.push(L)}}y.push(S),d=S}),y})(n,t,s,o)),i=i.concat(n),o.nextPrev){const l=e?s:t+1;i.push(ne(l,o.nextText,o,{hidden:e}))}return o.firstLast&&i.push(ne(s,o.lastText,o)),{nodeName:"UL",attributes:{class:o.classes.paginationList},childNodes:n.length>1?i:[]}};class at{columns;containerDOM;_currentPage;data;_dd;dom;_events;hasHeadings;hasRows;headerDOM;_initialHTML;initialized;_label;lastPage;_listeners;onFirstPage;onLastPage;options;_pagerDOMs;_virtualPagerDOM;pages;_rect;rows;_searchData;_searchQueries;_tableAttributes;_tableFooters;_tableCaptions;totalPages;_virtualDOM;_virtualHeaderDOM;wrapperDOM;constructor(e,t={}){const s=typeof e=="string"?document.querySelector(e):e;s instanceof HTMLTableElement?this.dom=s:(this.dom=document.createElement("table"),s.appendChild(this.dom));const o={...de.diffDomOptions,...t.diffDomOptions},i={...de.labels,...t.labels},n={...de.classes,...t.classes};this.options={...de,...t,diffDomOptions:o,labels:i,classes:n},this._initialHTML=this.options.destroyable?s.outerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new Ze(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||_e(this.dom,this.options.classes.table))return!1;this._virtualDOM=K(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=this._virtualDOM.childNodes?.filter(e=>e.nodeName==="TFOOT")??[],this._tableCaptions=this._virtualDOM.childNodes?.filter(e=>e.nodeName==="CAPTION")??[],this.options.caption!==void 0&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new Ke(this),this.columns=new et(this),this.data=Le(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=be("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const e=X(this.options.classes.selector),t=this.wrapperDOM.querySelector(`select${e}`);t&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(n=>{const[l,r]=Array.isArray(n)?[n[0],n[1]]:[String(n),n],c=r===this.options.perPage,u=new Option(l,String(r),c,c);t.appendChild(u)}):t&&t.parentElement.removeChild(t);const s=X(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(s),this._pagerDOMs=[];const o=X(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(o)).forEach(n=>{n instanceof HTMLElement&&(n.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(n.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};const i=X(this.options.classes.info);this._label=this.wrapperDOM.querySelector(i),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(e={}){let t;t=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!e.noPaging?this.pages[this._currentPage-1]:this.data.data.map((i,n)=>({row:i,index:n}));let s=Se(this._tableAttributes,this.data.headings,t,this.columns.settings,this.columns._state,this.rows.cursor,this.options,e,this._tableFooters,this._tableCaptions);if(this.options.tableRender){const i=this.options.tableRender(this.data,s,"main");i&&(s=i)}const o=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,o),this._virtualDOM=s}_renderPage(e=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let t,s=0,o=0,i=0;if(this.totalPages&&(s=this._currentPage-1,o=s*this.options.perPage,i=o+this.pages[s].length,o+=1,t=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const n=this.options.labels.info.replace("{start}",String(o)).replace("{end}",String(i)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(t));this._label.innerHTML=t?n:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(n=>n.index===this.rows.cursor))){const n=this.pages[this._currentPage-1];n.length&&(e?this.rows.setCursor(n[n.length-1].index):this.rows.setCursor(n[0].index))}}_renderPagers(){if(!this.options.paging)return;let e=tt(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const s=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],e);s&&(e=s)}const t=this._dd.diff(this._virtualPagerDOM,e);this._pagerDOMs.forEach(s=>{this._dd.apply(s,t)}),this._virtualPagerDOM=e}_renderSeparateHeader(){const e=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),e.parentElement.insertBefore(this.headerDOM,e);let t={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[xe(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(t.attributes.class?.includes(this.options.classes.table)||(t.attributes.class=z(t.attributes.class,this.options.classes.table)),this.options.tableRender){const n=this.options.tableRender(this.data,t,"header");n&&(t=n)}const s={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[t]},o=this._dd.diff(this._virtualHeaderDOM,s);this._dd.apply(this.headerDOM,o),this._virtualHeaderDOM=s;const i=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(i){const n=structuredClone(this._virtualHeaderDOM);n.attributes.style=`padding-right: ${i}px;`;const l=this._dd.diff(this._virtualHeaderDOM,n);this._dd.apply(this.headerDOM,l),this._virtualHeaderDOM=n}e.scrollHeight>e.clientHeight&&(e.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const e=X(this.options.classes.selector),t=this.wrapperDOM.querySelector(e);t&&t instanceof HTMLSelectElement&&t.addEventListener("change",()=>{this.emit("datatable.perpage:before",this.options.perPage),this.options.perPage=parseInt(t.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",e=>{const t=X(this.options.classes.input),s=e.target;if(!(s instanceof HTMLInputElement&&s.matches(t)))return;e.preventDefault();const o=[];if(Array.from(this.wrapperDOM.querySelectorAll(t)).filter(i=>i.value.length).forEach(i=>{const n=i.dataset.and||this.options.searchAnd,l=i.dataset.querySeparator||this.options.searchQuerySeparator?i.value.split(this.options.searchQuerySeparator):[i.value];n?l.forEach(r=>{i.dataset.columns?o.push({terms:[r],columns:JSON.parse(i.dataset.columns)}):o.push({terms:[r],columns:void 0})}):i.dataset.columns?o.push({terms:l,columns:JSON.parse(i.dataset.columns)}):o.push({terms:l,columns:void 0})}),o.length===1&&o[0].terms.length===1){const i=o[0];this.search(i.terms[0],i.columns)}else this.multiSearch(o)}),this.wrapperDOM.addEventListener("click",e=>{const t=e.target.closest("a, button");if(t){if(t.hasAttribute("data-page"))this.page(parseInt(t.getAttribute("data-page"),10)),e.preventDefault();else if(_e(t,this.options.classes.sorter)){const s=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),o=Oe(s,this.columns.settings);this.columns.sort(o),e.preventDefault()}else if(_e(t,this.options.classes.filter)){const s=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),o=Oe(s,this.columns.settings);this.columns.filter(o),e.preventDefault()}}},!1),this.options.rowNavigation&&this.dom.addEventListener("keydown",e=>{if(e.key==="ArrowUp"){let t;e.preventDefault(),e.stopPropagation(),this.pages[this._currentPage-1].find(s=>s.index===this.rows.cursor||(t=s,!1)),t?this.rows.setCursor(t.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(e.key==="ArrowDown"){let t;e.preventDefault(),e.stopPropagation();const s=this.pages[this._currentPage-1].find(o=>!!t||(o.index===this.rows.cursor&&(t=!0),!1));s?this.rows.setCursor(s.index):this.onLastPage||this.page(this._currentPage+1)}else this.options.rowSelectionKeys.includes(e.key)&&this.emit("datatable.selectrow",this.rows.cursor,e,!0)}),this.dom.addEventListener("mousedown",e=>{const t=e.target;if(!(t instanceof Element))return;const s=Array.from(this.dom.querySelectorAll("tbody > tr")).find(o=>o.contains(t));s&&s instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(s.dataset.index,10),e,this.dom.matches(":focus"))}),window.addEventListener("resize",this._listeners.onResize)}_onResize=Re(()=>{this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)},250);destroy(){if(this.options.destroyable){if(this.emit("datatable.destroy:before"),this.wrapperDOM){const e=this.wrapperDOM.parentElement;if(e){const t=be("div");t.innerHTML=this._initialHTML;const s=t.firstElementChild;e.replaceChild(s,this.wrapperDOM),this.dom=s}else this.options.classes.table?.split(" ").forEach(t=>this.wrapperDOM.classList.remove(t))}window.removeEventListener("resize",this._listeners.onResize),this.initialized=!1,this.emit("datatable.destroy")}}update(e=!1){this.emit("datatable.update:before"),e&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),this.options.classes.empty?.split(" ").forEach(t=>this.wrapperDOM.classList.remove(t)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let e=this.data.data.map((t,s)=>({row:t,index:s}));return this._searchQueries.length&&(e=[],this._searchData.forEach(t=>e.push({index:t,row:this.data.data[t]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((t,s)=>{t&&(e=e.filter(o=>{const i=o.row.cells[s];return typeof t=="function"?t(i.data):ae(i)===t}))}),this.options.paging&&this.options.perPage>0?this.pages=e.map((t,s)=>s%this.options.perPage===0?e.slice(s,s+this.options.perPage):null).filter(t=>t):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(e,t=void 0,s="search"){if(this.emit("datatable.search:before",e,this._searchData),!e.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[e],columns:t||void 0}],s),this.emit("datatable.search",e,this._searchData)}multiSearch(e,t="search"){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];let s=e.map(i=>({columns:i.columns,terms:i.terms.map(n=>n.trim()).filter(n=>n),source:t})).filter(i=>i.terms.length);if(this.emit("datatable.multisearch:before",s,this._searchData),t.length&&(s=s.concat(this._searchQueries.filter(i=>i.source!==t))),this._searchQueries=s,!s.length)return this.update(),this.emit("datatable.multisearch",s,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const o=s.map(i=>this.columns.settings.map((n,l)=>{if(!n||n.hidden||!n.searchable||i.columns&&!i.columns.includes(l))return!1;let r=i.terms;const c=n.sensitivity||this.options.sensitivity;return["base","accent"].includes(c)&&(r=r.map(u=>u.toLowerCase())),["base","case"].includes(c)&&(r=r.map(u=>u.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""))),(n.ignorePunctuation??this.options.ignorePunctuation)&&(r=r.map(u=>u.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),r}));this.data.data.forEach((i,n)=>{const l=i.cells.map((r,c)=>{const u=this.columns.settings[c],p=u?.searchMethod||this.options.searchMethod;let f=r;if(r.attributes?.["data-rowspan-placeholder"]==="true")for(let g=n-1;g>=0;g--){const v=this.data.data[g].cells[c];if(v.attributes?.["data-rowspan-placeholder"]!=="true"){f=v;break}}if(p)return f;let m=ae(f).trim();if(m.length){const g=u?.sensitivity||this.options.sensitivity;["base","accent"].includes(g)&&(m=m.toLowerCase()),["base","case"].includes(g)&&(m=m.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(u?.ignorePunctuation??this.options.ignorePunctuation)&&(m=m.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}const h=u?.searchItemSeparator||this.options.searchItemSeparator;return h?m.split(h):[m]});o.every((r,c)=>r.find((u,p)=>{if(!u)return!1;const f=this.columns.settings[p],m=f?.searchMethod||this.options.searchMethod;return m?m(u,l[p],i,p,s[c].source):u.find(h=>l[p]?.find(g=>g?.includes(h)))}))&&this._searchData.push(n)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",s,this._searchData)}page(e,t=!1){return this.emit("datatable.page:before",e),e!==this._currentPage&&(isNaN(e)||(this._currentPage=e),!(e>this.pages.length||e<0)&&(this._renderPage(t),this._renderPagers(),void this.emit("datatable.page",e)))}insert(e){let t=[];if(Array.isArray(e)){const s=this.data.headings.map(o=>o.data?String(o.data):o.text);e.forEach((o,i)=>{const n=[];Object.entries(o).forEach(([l,r])=>{const c=s.indexOf(l);c>-1?n[c]=te(r,this.columns.settings[c]):this.hasHeadings||this.hasRows||i!==0||(n[s.length]=te(r,this.columns.settings[s.length]),s.push(l),this.data.headings.push(oe(l)))}),t.push({cells:n})})}else Ye(e)&&(!e.headings||this.hasHeadings||this.hasRows?e.data&&Array.isArray(e.data)&&(t=e.data.map(s=>{let o,i;return Array.isArray(s)?(o={},i=s):(o=s.attributes,i=s.cells),{attributes:o,cells:i.map((n,l)=>te(n,this.columns.settings[l]))}})):this.data=Le(e,void 0,this.columns.settings,this.options.type,this.options.format));t.length&&t.forEach(s=>this.data.data.push(s)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.emit("datatable.refresh:before"),this.options.searchable){const e=X(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(e)).forEach(t=>t.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const e=be("table");let t=Se(this._tableAttributes,this.data.headings,this.data.data.map((i,n)=>({row:i,index:n})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){const i=this.options.tableRender(this.data,t,"print");i&&(t=i)}const s=this._dd.diff({nodeName:"TABLE"},t);this._dd.apply(e,s);const o=window.open();o.document.body.appendChild(e),o.print()}setMessage(e){const t=this.data.headings.filter((i,n)=>!this.columns.settings[n]?.hidden).length||1;this.options.classes.empty?.split(" ").forEach(i=>this.wrapperDOM.classList.add(i)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let s={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[xe(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(t)},childNodes:[{nodeName:"#text",data:e}]}]}]}]};if(this._tableFooters.forEach(i=>s.childNodes.push(i)),this._tableCaptions.forEach(i=>s.childNodes.push(i)),s.attributes.class?.includes(this.options.classes.table)||(s.attributes.class=z(s.attributes.class,this.options.classes.table)),this.options.tableRender){const i=this.options.tableRender(this.data,s,"message");i&&(s=i)}const o=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,o),this._virtualDOM=s}on(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)}off(e,t){e in this._events&&this._events[e].splice(this._events[e].indexOf(t),1)}emit(e,...t){if(e in this._events)for(let s=0;s<this._events[e].length;s++)this._events[e][s](...t)}}export{at as DataTable,be as createElement,Ye as isObject};
