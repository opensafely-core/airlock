function r(){const t=document.querySelector("#backends input:checked");return t?.value?`?backend=${t.value}`:""}async function l(){const n=document.querySelector('meta[name="apiUrl"]')?.content,e=await fetch(`${n}${r()}`);if(!e.ok){const s=`An error has occurred: ${e.status}`;throw new Error(s)}return await e.json()}function i(t,n){const e=t.closest("#jobActions"),a=e?.querySelector('[data-action-status="loading"]'),s=e?.querySelector('[data-action-status="succeeded"]'),c=e?.querySelector('[data-action-status="failed"]'),o=e?.querySelector('[data-action-status="none"]');return n==="succeeded"?(a?.classList.add("hidden"),c?.classList.add("hidden"),s?.classList.remove("hidden")):n==="failed"?(a?.classList.add("hidden"),s?.classList.add("hidden"),c?.classList.remove("hidden")):n==="none"?(a?.classList.add("hidden"),s?.classList.add("hidden"),c?.classList.add("hidden"),o?.classList.remove("hidden")):(c?.classList.add("hidden"),s?.classList.add("hidden"),a?.classList.remove("hidden"))}async function d(){const t=[...document.querySelectorAll("#jobActions label")];t.map(e=>i(e,"loading"));const n=await l();t.map(e=>{const a=e?.textContent?.trim(),s=n?.[a]||"none";return i(e,s)})}function u(){document.visibilityState==="visible"&&d()}document.addEventListener("visibilitychange",u);d();
