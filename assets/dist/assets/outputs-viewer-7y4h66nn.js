var Bs=t=>{throw TypeError(t)};var os=(t,e,s)=>e.has(t)||Bs("Cannot "+s);var n=(t,e,s)=>(os(t,e,"read from private field"),s?s.call(t):e.get(t)),T=(t,e,s)=>e.has(t)?Bs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),x=(t,e,s,r)=>(os(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),I=(t,e,s)=>(os(t,e,"access private method"),s);var zt=(t,e,s,r)=>({set _(i){x(t,e,i,s)},get _(){return n(t,e,r)}});import{r as v,t as hi,j as f,P as C,R as mr,i as di,c as fi}from"./index-78U_y_95.js";import{c as pi,g as mi}from"./_commonjsHelpers-BosuxZz1.js";/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Mt.apply(this,arguments)}var ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ot||(ot={}));const Qs="popstate";function gi(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:u,hash:h}=r.location;return hs("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:gr(i)}return vi(e,s,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yi(){return Math.random().toString(36).substr(2,8)}function $s(t,e){return{usr:t.state,key:t.key,idx:e}}function hs(t,e,s,r){return s===void 0&&(s=null),Mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ss(e):e,{state:s,key:e&&e.key||r||yi()})}function gr(t){let{pathname:e="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ss(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vi(t,e,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,h=ot.Pop,c=null,d=m();d==null&&(d=0,u.replaceState(Mt({},u.state,{idx:d}),""));function m(){return(u.state||{idx:null}).idx}function p(){h=ot.Pop;let w=m(),O=w==null?null:w-d;d=w,c&&c({action:h,location:N.location,delta:O})}function y(w,O){h=ot.Push;let j=hs(N.location,w,O);d=m()+1;let A=$s(j,d),Q=N.createHref(j);try{u.pushState(A,"",Q)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(Q)}a&&c&&c({action:h,location:N.location,delta:1})}function b(w,O){h=ot.Replace;let j=hs(N.location,w,O);d=m();let A=$s(j,d),Q=N.createHref(j);u.replaceState(A,"",Q),a&&c&&c({action:h,location:N.location,delta:0})}function D(w){let O=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof w=="string"?w:gr(w);return j=j.replace(/ $/,"%20"),Me(O,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,O)}let N={get action(){return h},get location(){return t(i,u)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Qs,p),c=w,()=>{i.removeEventListener(Qs,p),c=null}},createHref(w){return e(i,w)},createURL:D,encodeLocation(w){let O=D(w);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:b,go(w){return u.go(w)}};return N}var zs;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zs||(zs={}));function bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function xi(t,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?ss(t):t;return{pathname:s?s.startsWith("/")?s:wi(s,e):e,search:_i(r),hash:Oi(i)}}function wi(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function us(t,e,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ci(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Ei(t,e){let s=Ci(t);return e?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Ri(t,e,s,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ss(t):(i=Mt({},t),Me(!i.pathname||!i.pathname.includes("?"),us("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),us("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),us("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=s;else{let p=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}h=p>=0?e[p]:"/"}let c=xi(i,h),d=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),_i=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oi=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,yr=["post","put","patch","delete"];new Set(yr);const ki=["get",...yr];new Set(ki);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Zt.apply(this,arguments)}const vr=v.createContext(null),Ps=v.createContext(null),js=v.createContext(null),Is=v.createContext({outlet:null,matches:[],isDataRoute:!1});function Ds(){return v.useContext(js)!=null}function br(){return Ds()||Me(!1),v.useContext(js).location}function xr(t){v.useContext(Ps).static||v.useLayoutEffect(t)}function Ti(){let{isDataRoute:t}=v.useContext(Is);return t?Di():Fi()}function Fi(){Ds()||Me(!1);let t=v.useContext(vr),{basename:e,future:s,navigator:r}=v.useContext(Ps),{matches:i}=v.useContext(Is),{pathname:a}=br(),u=JSON.stringify(Ei(i,s.v7_relativeSplatPath)),h=v.useRef(!1);return xr(()=>{h.current=!0}),v.useCallback(function(d,m){if(m===void 0&&(m={}),!h.current)return;if(typeof d=="number"){r.go(d);return}let p=Ri(d,JSON.parse(u),a,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Si([e,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[e,r,u,a,t])}var wr=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wr||{}),Cr=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cr||{});function Pi(t){let e=v.useContext(vr);return e||Me(!1),e}function ji(t){let e=v.useContext(Is);return e||Me(!1),e}function Ii(t){let e=ji(),s=e.matches[e.matches.length-1];return s.route.id||Me(!1),s.route.id}function Di(){let{router:t}=Pi(wr.UseNavigateStable),e=Ii(Cr.UseNavigateStable),s=v.useRef(!1);return xr(()=>{s.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zt({fromRouteId:e},a)))},[t,e])}function Ni(t){let{basename:e="/",children:s=null,location:r,navigationType:i=ot.Pop,navigator:a,static:u=!1,future:h}=t;Ds()&&Me(!1);let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:a,static:u,future:Zt({v7_relativeSplatPath:!1},h)}),[c,h,a,u]);typeof r=="string"&&(r=ss(r));let{pathname:m="/",search:p="",hash:y="",state:b=null,key:D="default"}=r,N=v.useMemo(()=>{let w=bi(m,c);return w==null?null:{location:{pathname:w,search:p,hash:y,state:b,key:D},navigationType:i}},[c,m,p,y,b,D,i]);return N==null?null:v.createElement(Ps.Provider,{value:d},v.createElement(js.Provider,{children:s,value:N}))}new Promise(()=>{});/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mi="6";try{window.__reactRouterVersion=Mi}catch{}const Ai="startTransition",Ks=hi[Ai];function Li(t){let{basename:e,children:s,future:r,window:i}=t,a=v.useRef();a.current==null&&(a.current=gi({window:i,v5Compat:!0}));let u=a.current,[h,c]=v.useState({action:u.action,location:u.location}),{v7_startTransition:d}=r||{},m=v.useCallback(p=>{d&&Ks?Ks(()=>c(p)):c(p)},[c,d]);return v.useLayoutEffect(()=>u.listen(m),[u,m]),v.createElement(Ni,{basename:e,children:s,location:h.location,navigationType:h.action,navigator:u,future:r})}var Hs;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hs||(Hs={}));var Ws;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ws||(Ws={}));var It=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jt=typeof window>"u"||"Deno"in globalThis;function Se(){}function Ui(t,e){return typeof t=="function"?t(e):t}function ds(t){return typeof t=="number"&&t>=0&&t!==1/0}function Er(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vt(t,e){return typeof t=="function"?t(e):t}function Te(t,e){return typeof t=="function"?t(e):t}function Gs(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==Ns(u,e.options))return!1}else if(!At(e.queryKey,u))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||a&&!a(e))}function Vs(t,e){const{exact:s,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(mt(e.options.mutationKey)!==mt(a))return!1}else if(!At(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Ns(t,e){return((e==null?void 0:e.queryKeyHashFn)||mt)(t)}function mt(t){return JSON.stringify(t,(e,s)=>fs(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function At(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!At(t[s],e[s])):!1}function Rr(t,e){if(t===e)return t;const s=Js(t)&&Js(e);if(s||fs(t)&&fs(e)){const r=s?t:Object.keys(t),i=r.length,a=s?e:Object.keys(e),u=a.length,h=s?[]:{};let c=0;for(let d=0;d<u;d++){const m=s?d:a[d];(!s&&r.includes(m)||s)&&t[m]===void 0&&e[m]===void 0?(h[m]=void 0,c++):(h[m]=Rr(t[m],e[m]),h[m]===t[m]&&t[m]!==void 0&&c++)}return i===u&&c===i?t:h}return e}function Xt(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Js(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fs(t){if(!Ys(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Ys(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ys(t){return Object.prototype.toString.call(t)==="[object Object]"}function qi(t){return new Promise(e=>{setTimeout(e,t)})}function ps(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Rr(t,e):e}function Bi(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Qi(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Sr=Symbol(),_r=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Sr?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,ut,Je,bt,nr,$i=(nr=class extends It{constructor(){super();T(this,ut);T(this,Je);T(this,bt);x(this,bt,e=>{if(!jt&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){n(this,Je)||this.setEventListener(n(this,bt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Je))==null||e.call(this),x(this,Je,void 0))}setEventListener(e){var s;x(this,bt,e),(s=n(this,Je))==null||s.call(this),x(this,Je,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){n(this,ut)!==e&&(x(this,ut,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof n(this,ut)=="boolean"?n(this,ut):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ut=new WeakMap,Je=new WeakMap,bt=new WeakMap,nr),Ms=new $i,xt,Ye,wt,ar,zi=(ar=class extends It{constructor(){super();T(this,xt,!0);T(this,Ye);T(this,wt);x(this,wt,e=>{if(!jt&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){n(this,Ye)||this.setEventListener(n(this,wt))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,Ye))==null||e.call(this),x(this,Ye,void 0))}setEventListener(e){var s;x(this,wt,e),(s=n(this,Ye))==null||s.call(this),x(this,Ye,e(this.setOnline.bind(this)))}setOnline(e){n(this,xt)!==e&&(x(this,xt,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return n(this,xt)}},xt=new WeakMap,Ye=new WeakMap,wt=new WeakMap,ar),es=new zi;function Ki(t){return Math.min(1e3*2**t,3e4)}function Or(t){return(t??"online")==="online"?es.isOnline():!0}var kr=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ls(t){return t instanceof kr}function Tr(t){let e=!1,s=0,r=!1,i,a,u;const h=new Promise((O,j)=>{a=O,u=j}),c=O=>{var j;r||(D(new kr(O)),(j=t.abort)==null||j.call(t))},d=()=>{e=!0},m=()=>{e=!1},p=()=>Ms.isFocused()&&(t.networkMode==="always"||es.isOnline())&&t.canRun(),y=()=>Or(t.networkMode)&&t.canRun(),b=O=>{var j;r||(r=!0,(j=t.onSuccess)==null||j.call(t,O),i==null||i(),a(O))},D=O=>{var j;r||(r=!0,(j=t.onError)==null||j.call(t,O),i==null||i(),u(O))},N=()=>new Promise(O=>{var j;i=A=>{(r||p())&&O(A)},(j=t.onPause)==null||j.call(t)}).then(()=>{var O;i=void 0,r||(O=t.onContinue)==null||O.call(t)}),w=()=>{if(r)return;let O;const j=s===0?t.initialPromise:void 0;try{O=j??t.fn()}catch(A){O=Promise.reject(A)}Promise.resolve(O).then(b).catch(A=>{var o;if(r)return;const Q=t.retry??(jt?0:3),K=t.retryDelay??Ki,se=typeof K=="function"?K(s,A):K,M=Q===!0||typeof Q=="number"&&s<Q||typeof Q=="function"&&Q(s,A);if(e||!M){D(A);return}s++,(o=t.onFail)==null||o.call(t,s,A),qi(se).then(()=>p()?void 0:N()).then(()=>{e?D(A):w()})})};return{promise:h,cancel:c,continue:()=>(i==null||i(),h),cancelRetry:d,continueRetry:m,canStart:y,start:()=>(y()?w():N().then(w),h)}}function Hi(){let t=[],e=0,s=y=>{y()},r=y=>{y()},i=y=>setTimeout(y,0);const a=y=>{i=y},u=y=>{let b;e++;try{b=y()}finally{e--,e||d()}return b},h=y=>{e?t.push(y):i(()=>{s(y)})},c=y=>(...b)=>{h(()=>{y(...b)})},d=()=>{const y=t;t=[],y.length&&i(()=>{r(()=>{y.forEach(b=>{s(b)})})})};return{batch:u,batchCalls:c,schedule:h,setNotifyFunction:y=>{s=y},setBatchNotifyFunction:y=>{r=y},setScheduler:a}}var ie=Hi(),lt,or,Fr=(or=class{constructor(){T(this,lt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ds(this.gcTime)&&x(this,lt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jt?1/0:5*60*1e3))}clearGcTimeout(){n(this,lt)&&(clearTimeout(n(this,lt)),x(this,lt,void 0))}},lt=new WeakMap,or),Ct,Et,Re,de,Lt,ct,ke,qe,ur,Wi=(ur=class extends Fr{constructor(e){super();T(this,ke);T(this,Ct);T(this,Et);T(this,Re);T(this,de);T(this,Lt);T(this,ct);x(this,ct,!1),x(this,Lt,e.defaultOptions),this.setOptions(e.options),this.observers=[],x(this,Re,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,x(this,Ct,e.state||Gi(this.options)),this.state=n(this,Ct),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=n(this,de))==null?void 0:e.promise}setOptions(e){this.options={...n(this,Lt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&n(this,Re).remove(this)}setData(e,s){const r=ps(this.state.data,e,this.options);return I(this,ke,qe).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){I(this,ke,qe).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=n(this,de))==null?void 0:r.promise;return(i=n(this,de))==null||i.cancel(e),s?s.then(Se).catch(Se):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Ct))}isActive(){return this.observers.some(e=>Te(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Er(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=n(this,de))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=n(this,de))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),n(this,Re).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(n(this,de)&&(n(this,ct)?n(this,de).cancel({revert:!0}):n(this,de).cancelRetry()),this.scheduleGc()),n(this,Re).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||I(this,ke,qe).call(this,{type:"invalidate"})}fetch(e,s){var c,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(n(this,de))return n(this,de).continueRetry(),n(this,de).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(x(this,ct,!0),r.signal)})},a=()=>{const p=_r(this.options,s),y={queryKey:this.queryKey,meta:this.meta};return i(y),x(this,ct,!1),this.options.persister?this.options.persister(p,y,this):p(y)},u={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(u),(c=this.options.behavior)==null||c.onFetch(u,this),x(this,Et,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=u.fetchOptions)==null?void 0:d.meta))&&I(this,ke,qe).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const h=p=>{var y,b,D,N;ls(p)&&p.silent||I(this,ke,qe).call(this,{type:"error",error:p}),ls(p)||((b=(y=n(this,Re).config).onError)==null||b.call(y,p,this),(N=(D=n(this,Re).config).onSettled)==null||N.call(D,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return x(this,de,Tr({initialPromise:s==null?void 0:s.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var y,b,D,N;if(p===void 0){h(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(b=(y=n(this,Re).config).onSuccess)==null||b.call(y,p,this),(N=(D=n(this,Re).config).onSettled)==null||N.call(D,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(p,y)=>{I(this,ke,qe).call(this,{type:"failed",failureCount:p,error:y})},onPause:()=>{I(this,ke,qe).call(this,{type:"pause"})},onContinue:()=>{I(this,ke,qe).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),n(this,de).start()}},Ct=new WeakMap,Et=new WeakMap,Re=new WeakMap,de=new WeakMap,Lt=new WeakMap,ct=new WeakMap,ke=new WeakSet,qe=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Pr(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ls(i)&&i.revert&&n(this,Et)?{...n(this,Et),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),ie.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),n(this,Re).notify({query:this,type:"updated",action:e})})},ur);function Pr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Or(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Gi(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Pe,lr,jr=(lr=class extends It{constructor(e={}){super();T(this,Pe);this.config=e,x(this,Pe,new Map)}build(e,s,r){const i=s.queryKey,a=s.queryHash??Ns(i,s);let u=this.get(a);return u||(u=new Wi({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){n(this,Pe).has(e.queryHash)||(n(this,Pe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=n(this,Pe).get(e.queryHash);s&&(e.destroy(),s===e&&n(this,Pe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ie.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,Pe).get(e)}getAll(){return[...n(this,Pe).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Gs(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Gs(e,r)):s}notify(e){ie.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){ie.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ie.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pe=new WeakMap,lr),je,fe,ht,Ie,Ge,cr,Vi=(cr=class extends Fr{constructor(e){super();T(this,Ie);T(this,je);T(this,fe);T(this,ht);this.mutationId=e.mutationId,x(this,fe,e.mutationCache),x(this,je,[]),this.state=e.state||Ir(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,je).includes(e)||(n(this,je).push(e),this.clearGcTimeout(),n(this,fe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){x(this,je,n(this,je).filter(s=>s!==e)),this.scheduleGc(),n(this,fe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,je).length||(this.state.status==="pending"?this.scheduleGc():n(this,fe).remove(this))}continue(){var e;return((e=n(this,ht))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,u,h,c,d,m,p,y,b,D,N,w,O,j,A,Q,K,se,M;x(this,ht,Tr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{I(this,Ie,Ge).call(this,{type:"failed",failureCount:o,error:l})},onPause:()=>{I(this,Ie,Ge).call(this,{type:"pause"})},onContinue:()=>{I(this,Ie,Ge).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(this,fe).canRun(this)}));const s=this.state.status==="pending",r=!n(this,ht).canStart();try{if(!s){I(this,Ie,Ge).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=n(this,fe).config).onMutate)==null?void 0:a.call(i,e,this));const l=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e));l!==this.state.context&&I(this,Ie,Ge).call(this,{type:"pending",context:l,variables:e,isPaused:r})}const o=await n(this,ht).start();return await((d=(c=n(this,fe).config).onSuccess)==null?void 0:d.call(c,o,e,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,o,e,this.state.context)),await((b=(y=n(this,fe).config).onSettled)==null?void 0:b.call(y,o,null,this.state.variables,this.state.context,this)),await((N=(D=this.options).onSettled)==null?void 0:N.call(D,o,null,e,this.state.context)),I(this,Ie,Ge).call(this,{type:"success",data:o}),o}catch(o){try{throw await((O=(w=n(this,fe).config).onError)==null?void 0:O.call(w,o,e,this.state.context,this)),await((A=(j=this.options).onError)==null?void 0:A.call(j,o,e,this.state.context)),await((K=(Q=n(this,fe).config).onSettled)==null?void 0:K.call(Q,void 0,o,this.state.variables,this.state.context,this)),await((M=(se=this.options).onSettled)==null?void 0:M.call(se,void 0,o,e,this.state.context)),o}finally{I(this,Ie,Ge).call(this,{type:"error",error:o})}}finally{n(this,fe).runNext(this)}}},je=new WeakMap,fe=new WeakMap,ht=new WeakMap,Ie=new WeakSet,Ge=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ie.batch(()=>{n(this,je).forEach(r=>{r.onMutationUpdate(e)}),n(this,fe).notify({mutation:this,type:"updated",action:e})})},cr);function Ir(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ve,Ut,hr,Ji=(hr=class extends It{constructor(e={}){super();T(this,ve);T(this,Ut);this.config=e,x(this,ve,new Map),x(this,Ut,Date.now())}build(e,s,r){const i=new Vi({mutationCache:this,mutationId:++zt(this,Ut)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){const s=Kt(e),r=n(this,ve).get(s)??[];r.push(e),n(this,ve).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Kt(e);if(n(this,ve).has(s)){const i=(r=n(this,ve).get(s))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?n(this,ve).delete(s):n(this,ve).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=n(this,ve).get(Kt(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=n(this,ve).get(Kt(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){ie.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...n(this,ve).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Vs(s,r))}findAll(e={}){return this.getAll().filter(s=>Vs(e,s))}notify(e){ie.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return ie.batch(()=>Promise.all(e.map(s=>s.continue().catch(Se))))}},ve=new WeakMap,Ut=new WeakMap,hr);function Kt(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Yi(t){return{onFetch:(e,s)=>{const r=async()=>{var D,N,w,O,j;const i=e.options,a=(w=(N=(D=e.fetchOptions)==null?void 0:D.meta)==null?void 0:N.fetchMore)==null?void 0:w.direction,u=((O=e.state.data)==null?void 0:O.pages)||[],h=((j=e.state.data)==null?void 0:j.pageParams)||[],c={pages:[],pageParams:[]};let d=!1;const m=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=_r(e.options,e.fetchOptions),y=async(A,Q,K)=>{if(d)return Promise.reject();if(Q==null&&A.pages.length)return Promise.resolve(A);const se={queryKey:e.queryKey,pageParam:Q,direction:K?"backward":"forward",meta:e.options.meta};m(se);const M=await p(se),{maxPages:o}=e.options,l=K?Qi:Bi;return{pages:l(A.pages,M,o),pageParams:l(A.pageParams,Q,o)}};let b;if(a&&u.length){const A=a==="backward",Q=A?Zi:Zs,K={pages:u,pageParams:h},se=Q(i,K);b=await y(K,se,A)}else{b=await y(c,h[0]??i.initialPageParam);const A=t??u.length;for(let Q=1;Q<A;Q++){const K=Zs(i,b);b=await y(b,K)}}return b};e.options.persister?e.fetchFn=()=>{var i,a;return(a=(i=e.options).persister)==null?void 0:a.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function Zs(t,{pages:e,pageParams:s}){const r=e.length-1;return t.getNextPageParam(e[r],e,s[r],s)}function Zi(t,{pages:e,pageParams:s}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s)}var Z,Ze,Xe,Rt,St,et,_t,Ot,dr,Xi=(dr=class{constructor(t={}){T(this,Z);T(this,Ze);T(this,Xe);T(this,Rt);T(this,St);T(this,et);T(this,_t);T(this,Ot);x(this,Z,t.queryCache||new jr),x(this,Ze,t.mutationCache||new Ji),x(this,Xe,t.defaultOptions||{}),x(this,Rt,new Map),x(this,St,new Map),x(this,et,0)}mount(){zt(this,et)._++,n(this,et)===1&&(x(this,_t,Ms.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,Z).onFocus())})),x(this,Ot,es.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,Z).onOnline())})))}unmount(){var t,e;zt(this,et)._--,n(this,et)===0&&((t=n(this,_t))==null||t.call(this),x(this,_t,void 0),(e=n(this,Ot))==null||e.call(this),x(this,Ot,void 0))}isFetching(t){return n(this,Z).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return n(this,Ze).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=n(this,Z).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=n(this,Z).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(vt(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return n(this,Z).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=n(this,Z).get(r.queryHash),a=i==null?void 0:i.state.data,u=Ui(e,a);if(u!==void 0)return n(this,Z).build(this,r).setData(u,{...s,manual:!0})}setQueriesData(t,e,s){return ie.batch(()=>n(this,Z).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=n(this,Z).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=n(this,Z);ie.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=n(this,Z),r={type:"active",...t};return ie.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=ie.batch(()=>n(this,Z).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(Se).catch(Se)}invalidateQueries(t={},e={}){return ie.batch(()=>{if(n(this,Z).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ie.batch(()=>n(this,Z).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Se)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Se)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=n(this,Z).build(this,e);return s.isStaleByTime(vt(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Se).catch(Se)}fetchInfiniteQuery(t){return t.behavior=Yi(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Se).catch(Se)}resumePausedMutations(){return es.isOnline()?n(this,Ze).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,Z)}getMutationCache(){return n(this,Ze)}getDefaultOptions(){return n(this,Xe)}setDefaultOptions(t){x(this,Xe,t)}setQueryDefaults(t,e){n(this,Rt).set(mt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...n(this,Rt).values()];let s={};return e.forEach(r=>{At(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){n(this,St).set(mt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...n(this,St).values()];let s={};return e.forEach(r=>{At(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...n(this,Xe).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ns(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Sr&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...n(this,Xe).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){n(this,Z).clear(),n(this,Ze).clear()}},Z=new WeakMap,Ze=new WeakMap,Xe=new WeakMap,Rt=new WeakMap,St=new WeakMap,et=new WeakMap,_t=new WeakMap,Ot=new WeakMap,dr),me,L,qt,pe,dt,kt,De,Bt,Tt,Ft,ft,pt,tt,Pt,q,Dt,ms,gs,ys,vs,bs,xs,ws,Dr,fr,en=(fr=class extends It{constructor(e,s){super();T(this,q);T(this,me);T(this,L);T(this,qt);T(this,pe);T(this,dt);T(this,kt);T(this,De);T(this,Bt);T(this,Tt);T(this,Ft);T(this,ft);T(this,pt);T(this,tt);T(this,Pt,new Set);this.options=s,x(this,me,e),x(this,De,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,L).addObserver(this),Xs(n(this,L),this.options)?I(this,q,Dt).call(this):this.updateResult(),I(this,q,vs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cs(n(this,L),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cs(n(this,L),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,I(this,q,bs).call(this),I(this,q,xs).call(this),n(this,L).removeObserver(this)}setOptions(e,s){const r=this.options,i=n(this,L);if(this.options=n(this,me).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Te(this.options.enabled,n(this,L))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");I(this,q,ws).call(this),n(this,L).setOptions(this.options),r._defaulted&&!Xt(this.options,r)&&n(this,me).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,L),observer:this});const a=this.hasListeners();a&&er(n(this,L),i,this.options,r)&&I(this,q,Dt).call(this),this.updateResult(s),a&&(n(this,L)!==i||Te(this.options.enabled,n(this,L))!==Te(r.enabled,n(this,L))||vt(this.options.staleTime,n(this,L))!==vt(r.staleTime,n(this,L)))&&I(this,q,ms).call(this);const u=I(this,q,gs).call(this);a&&(n(this,L)!==i||Te(this.options.enabled,n(this,L))!==Te(r.enabled,n(this,L))||u!==n(this,tt))&&I(this,q,ys).call(this,u)}getOptimisticResult(e){const s=n(this,me).getQueryCache().build(n(this,me),e),r=this.createResult(s,e);return sn(this,r)&&(x(this,pe,r),x(this,kt,this.options),x(this,dt,n(this,L).state)),r}getCurrentResult(){return n(this,pe)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){n(this,Pt).add(e)}getCurrentQuery(){return n(this,L)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=n(this,me).defaultQueryOptions(e),r=n(this,me).getQueryCache().build(n(this,me),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return I(this,q,Dt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,pe)))}createResult(e,s){var M;const r=n(this,L),i=this.options,a=n(this,pe),u=n(this,dt),h=n(this,kt),d=e!==r?e.state:n(this,qt),{state:m}=e;let p={...m},y=!1,b;if(s._optimisticResults){const o=this.hasListeners(),l=!o&&Xs(e,s),g=o&&er(e,r,s,i);(l||g)&&(p={...p,...Pr(m.data,e.options)}),s._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:D,errorUpdatedAt:N,status:w}=p;if(s.select&&p.data!==void 0)if(a&&p.data===(u==null?void 0:u.data)&&s.select===n(this,Bt))b=n(this,Tt);else try{x(this,Bt,s.select),b=s.select(p.data),b=ps(a==null?void 0:a.data,b,s),x(this,Tt,b),x(this,De,null)}catch(o){x(this,De,o)}else b=p.data;if(s.placeholderData!==void 0&&b===void 0&&w==="pending"){let o;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))o=a.data;else if(o=typeof s.placeholderData=="function"?s.placeholderData((M=n(this,Ft))==null?void 0:M.state.data,n(this,Ft)):s.placeholderData,s.select&&o!==void 0)try{o=s.select(o),x(this,De,null)}catch(l){x(this,De,l)}o!==void 0&&(w="success",b=ps(a==null?void 0:a.data,o,s),y=!0)}n(this,De)&&(D=n(this,De),b=n(this,Tt),N=Date.now(),w="error");const O=p.fetchStatus==="fetching",j=w==="pending",A=w==="error",Q=j&&O,K=b!==void 0;return{status:w,fetchStatus:p.fetchStatus,isPending:j,isSuccess:w==="success",isError:A,isInitialLoading:Q,isLoading:Q,data:b,dataUpdatedAt:p.dataUpdatedAt,error:D,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:O,isRefetching:O&&!j,isLoadingError:A&&!K,isPaused:p.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&K,isStale:As(e,s),refetch:this.refetch}}updateResult(e){const s=n(this,pe),r=this.createResult(n(this,L),this.options);if(x(this,dt,n(this,L).state),x(this,kt,this.options),n(this,dt).data!==void 0&&x(this,Ft,n(this,L)),Xt(r,s))return;x(this,pe,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:u}=this.options,h=typeof u=="function"?u():u;if(h==="all"||!h&&!n(this,Pt).size)return!0;const c=new Set(h??n(this,Pt));return this.options.throwOnError&&c.add("error"),Object.keys(n(this,pe)).some(d=>{const m=d;return n(this,pe)[m]!==s[m]&&c.has(m)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),I(this,q,Dr).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&I(this,q,vs).call(this)}},me=new WeakMap,L=new WeakMap,qt=new WeakMap,pe=new WeakMap,dt=new WeakMap,kt=new WeakMap,De=new WeakMap,Bt=new WeakMap,Tt=new WeakMap,Ft=new WeakMap,ft=new WeakMap,pt=new WeakMap,tt=new WeakMap,Pt=new WeakMap,q=new WeakSet,Dt=function(e){I(this,q,ws).call(this);let s=n(this,L).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Se)),s},ms=function(){I(this,q,bs).call(this);const e=vt(this.options.staleTime,n(this,L));if(jt||n(this,pe).isStale||!ds(e))return;const r=Er(n(this,pe).dataUpdatedAt,e)+1;x(this,ft,setTimeout(()=>{n(this,pe).isStale||this.updateResult()},r))},gs=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,L)):this.options.refetchInterval)??!1},ys=function(e){I(this,q,xs).call(this),x(this,tt,e),!(jt||Te(this.options.enabled,n(this,L))===!1||!ds(n(this,tt))||n(this,tt)===0)&&x(this,pt,setInterval(()=>{(this.options.refetchIntervalInBackground||Ms.isFocused())&&I(this,q,Dt).call(this)},n(this,tt)))},vs=function(){I(this,q,ms).call(this),I(this,q,ys).call(this,I(this,q,gs).call(this))},bs=function(){n(this,ft)&&(clearTimeout(n(this,ft)),x(this,ft,void 0))},xs=function(){n(this,pt)&&(clearInterval(n(this,pt)),x(this,pt,void 0))},ws=function(){const e=n(this,me).getQueryCache().build(n(this,me),this.options);if(e===n(this,L))return;const s=n(this,L);x(this,L,e),x(this,qt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Dr=function(e){ie.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(n(this,pe))}),n(this,me).getQueryCache().notify({query:n(this,L),type:"observerResultsUpdated"})})},fr);function tn(t,e){return Te(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Xs(t,e){return tn(t,e)||t.state.data!==void 0&&Cs(t,e,e.refetchOnMount)}function Cs(t,e,s){if(Te(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&As(t,e)}return!1}function er(t,e,s,r){return(t!==e||Te(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&As(t,s)}function As(t,e){return Te(e.enabled,t)!==!1&&t.isStaleByTime(vt(e.staleTime,t))}function sn(t,e){return!Xt(t.getCurrentResult(),e)}var st,rt,ge,Be,Qe,Wt,Es,pr,rn=(pr=class extends It{constructor(s,r){super();T(this,Qe);T(this,st);T(this,rt);T(this,ge);T(this,Be);x(this,st,s),this.setOptions(r),this.bindMethods(),I(this,Qe,Wt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=n(this,st).defaultMutationOptions(s),Xt(this.options,r)||n(this,st).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,ge),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mt(r.mutationKey)!==mt(this.options.mutationKey)?this.reset():((i=n(this,ge))==null?void 0:i.state.status)==="pending"&&n(this,ge).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=n(this,ge))==null||s.removeObserver(this)}onMutationUpdate(s){I(this,Qe,Wt).call(this),I(this,Qe,Es).call(this,s)}getCurrentResult(){return n(this,rt)}reset(){var s;(s=n(this,ge))==null||s.removeObserver(this),x(this,ge,void 0),I(this,Qe,Wt).call(this),I(this,Qe,Es).call(this)}mutate(s,r){var i;return x(this,Be,r),(i=n(this,ge))==null||i.removeObserver(this),x(this,ge,n(this,st).getMutationCache().build(n(this,st),this.options)),n(this,ge).addObserver(this),n(this,ge).execute(s)}},st=new WeakMap,rt=new WeakMap,ge=new WeakMap,Be=new WeakMap,Qe=new WeakSet,Wt=function(){var r;const s=((r=n(this,ge))==null?void 0:r.state)??Ir();x(this,rt,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Es=function(s){ie.batch(()=>{var r,i,a,u,h,c,d,m;if(n(this,Be)&&this.hasListeners()){const p=n(this,rt).variables,y=n(this,rt).context;(s==null?void 0:s.type)==="success"?((i=(r=n(this,Be)).onSuccess)==null||i.call(r,s.data,p,y),(u=(a=n(this,Be)).onSettled)==null||u.call(a,s.data,null,p,y)):(s==null?void 0:s.type)==="error"&&((c=(h=n(this,Be)).onError)==null||c.call(h,s.error,p,y),(m=(d=n(this,Be)).onSettled)==null||m.call(d,void 0,s.error,p,y))}this.listeners.forEach(p=>{p(n(this,rt))})})},pr),Nr=v.createContext(void 0),Mr=t=>{const e=v.useContext(Nr);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},nn=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Nr.Provider,{value:t,children:e})),Ar=v.createContext(!1),an=()=>v.useContext(Ar);Ar.Provider;function on(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var un=v.createContext(on()),ln=()=>v.useContext(un);function Lr(t,e){return typeof t=="function"?t(...e):!!t}function cn(){}var hn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},dn=t=>{v.useEffect(()=>{t.clearReset()},[t])},fn=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Lr(s,[t.error,r]),pn=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},mn=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,gn=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function yn(t,e,s){var d,m,p,y;const r=Mr(),i=an(),a=ln(),u=r.defaultQueryOptions(t);(m=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,u),u._optimisticResults=i?"isRestoring":"optimistic",pn(u),hn(u,a),dn(a);const[h]=v.useState(()=>new e(r,u)),c=h.getOptimisticResult(u);if(v.useSyncExternalStore(v.useCallback(b=>{const D=i?()=>{}:h.subscribe(ie.batchCalls(b));return h.updateResult(),D},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),mn(u,c))throw gn(u,h,a);if(fn({result:c,errorResetBoundary:a,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw c.error;return(y=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,u,c),u.notifyOnChangeProps?c:h.trackResult(c)}function Ur(t,e){return yn(t,en)}function qr(t,e){const s=Mr(),[r]=v.useState(()=>new rn(s,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(u=>r.subscribe(ie.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((u,h)=>{r.mutate(u,h).catch(cn)},[r]);if(i.error&&Lr(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var vn=function(){return null};function rs({children:t,className:e=null,disabled:s=!1,onClick:r=()=>null,type:i="button",variant:a="primary"}){return f.jsx("button",{className:`
        inline-flex w-fit items-center justify-center rounded-md shadow-sm transition-buttons duration-200 px-4 py-2 text-sm font-medium

        ${s?"":`
              hover:shadow-lg
              focus:outline-none focus:ring-2 focus:ring-offset-2`}

        ${a==="primary"?`
              bg-oxford-600 text-white
              hover:bg-oxford-700
              focus:bg-oxford-700 focus:ring-oxford-500 focus:ring-offset-white
            `:""}
        ${a==="secondary"?`
              bg-slate-500 text-white
              hover:bg-slate-600
              focus:bg-slate-600 focus:ring-slate-500 focus:ring-offset-white
            `:""}

        ${e}
      `,disabled:s,onClick:r,type:i,children:t})}rs.propTypes={children:C.node.isRequired,className:C.string,disabled:C.bool,onClick:C.func,type:C.string,variant:C.string};function bn(t){let e=[],s=[];return t.map((r,i)=>{const a=r.name.split("/");return i===0?(e=[],e=a):(s=[],a.map((u,h)=>u===e[h]?s.push(u):null))}),s.join("/")}function xn(t){const e=new Intl.Collator("en"),s=[...t].sort((i,a)=>a.date.localeCompare(i.date)).map((i,a)=>({dateOrder:a,...i})).sort((i,a)=>e.compare(i.name.toUpperCase(),a.name.toUpperCase())).map((i,a)=>({nameOrder:a,...i}));if(s.length<2)return s.map(i=>({...i,shortName:i.name,visible:!0}));const r=bn(s);return s.map(i=>({...i,shortName:i.name.replace(`${r}/`,""),visible:!0}))}function Br({authToken:t,filesUrl:e}){return Ur({queryKey:["FILE_LIST"],queryFn:async()=>{const s=await fetch(e,{headers:{Authorization:t}});if(!s.ok)throw new Error("File list not found");return s.json()},select:s=>xn(s.files),meta:{errorMessage:"Unable to load files",id:e}})}const ye={authToken:C.string,basePath:C.string,csrfToken:C.string,filesUrl:C.string,prepareUrl:C.string,publishUrl:C.string},Ne={date:C.string,id:C.string,is_deleted:C.bool,name:C.string,sha256:C.string,size:C.number,url:C.string,user:C.string};let wn={data:""},Cn=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wn,En=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rn=/\/\*[^]*?\*\/|  +/g,tr=/\n+/g,Ve=(t,e)=>{let s="",r="",i="";for(let a in t){let u=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+u+";":r+=a[1]=="f"?Ve(u,a):a+"{"+Ve(u,a[1]=="k"?"":e)+"}":typeof u=="object"?r+=Ve(u,e?e.replace(/([^,])+/g,h=>a.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,h):h?h+" "+c:c)):a):u!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ve.p?Ve.p(a,u):a+":"+u+";")}return s+(e&&i?e+"{"+i+"}":i)+r},Ue={},Qr=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+Qr(t[s]);return e}return t},Sn=(t,e,s,r,i)=>{let a=Qr(t),u=Ue[a]||(Ue[a]=(c=>{let d=0,m=11;for(;d<c.length;)m=101*m+c.charCodeAt(d++)>>>0;return"go"+m})(a));if(!Ue[u]){let c=a!==t?t:(d=>{let m,p,y=[{}];for(;m=En.exec(d.replace(Rn,""));)m[4]?y.shift():m[3]?(p=m[3].replace(tr," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][m[1]]=m[2].replace(tr," ").trim();return y[0]})(t);Ue[u]=Ve(i?{["@keyframes "+u]:c}:c,s?"":"."+u)}let h=s&&Ue.g?Ue.g:null;return s&&(Ue.g=Ue[u]),((c,d,m,p)=>{p?d.data=d.data.replace(p,c):d.data.indexOf(c)===-1&&(d.data=m?c+d.data:d.data+c)})(Ue[u],e,r,h),u},_n=(t,e,s)=>t.reduce((r,i,a)=>{let u=e[a];if(u&&u.call){let h=u(s),c=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=c?"."+c:h&&typeof h=="object"?h.props?"":Ve(h,""):h===!1?"":h}return r+i+(u??"")},"");function is(t){let e=this||{},s=t.call?t(e.p):t;return Sn(s.unshift?s.raw?_n(s,[].slice.call(arguments,1),e.p):s.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):s,Cn(e.target),e.g,e.o,e.k)}let $r,Rs,Ss;is.bind({g:1});let $e=is.bind({k:1});function On(t,e,s,r){Ve.p=e,$r=t,Rs=s,Ss=r}function it(t,e){let s=this||{};return function(){let r=arguments;function i(a,u){let h=Object.assign({},a),c=h.className||i.className;s.p=Object.assign({theme:Rs&&Rs()},h),s.o=/ *go\d+/.test(c),h.className=is.apply(s,r)+(c?" "+c:"");let d=t;return t[0]&&(d=h.as||t,delete h.as),Ss&&d[0]&&Ss(h),$r(d,h)}return i}}var kn=t=>typeof t=="function",ts=(t,e)=>kn(t)?t(e):t,Tn=(()=>{let t=0;return()=>(++t).toString()})(),zr=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Fn=20,Gt=new Map,Pn=1e3,sr=t=>{if(Gt.has(t))return;let e=setTimeout(()=>{Gt.delete(t),gt({type:4,toastId:t})},Pn);Gt.set(t,e)},jn=t=>{let e=Gt.get(t);e&&clearTimeout(e)},_s=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Fn)};case 1:return e.toast.id&&jn(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return t.toasts.find(a=>a.id===s.id)?_s(t,{type:1,toast:s}):_s(t,{type:0,toast:s});case 3:let{toastId:r}=e;return r?sr(r):t.toasts.forEach(a=>{sr(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Vt=[],Jt={toasts:[],pausedAt:void 0},gt=t=>{Jt=_s(Jt,t),Vt.forEach(e=>{e(Jt)})},In={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dn=(t={})=>{let[e,s]=v.useState(Jt);v.useEffect(()=>(Vt.push(s),()=>{let i=Vt.indexOf(s);i>-1&&Vt.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var a,u;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||In[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:r}},Nn=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Tn()}),Qt=t=>(e,s)=>{let r=Nn(e,t,s);return gt({type:2,toast:r}),r.id},be=(t,e)=>Qt("blank")(t,e);be.error=Qt("error");be.success=Qt("success");be.loading=Qt("loading");be.custom=Qt("custom");be.dismiss=t=>{gt({type:3,toastId:t})};be.remove=t=>gt({type:4,toastId:t});be.promise=(t,e,s)=>{let r=be.loading(e.loading,{...s,...s==null?void 0:s.loading});return t.then(i=>(be.success(ts(e.success,i),{id:r,...s,...s==null?void 0:s.success}),i)).catch(i=>{be.error(ts(e.error,i),{id:r,...s,...s==null?void 0:s.error})}),t};var Mn=(t,e)=>{gt({type:1,toast:{id:t,height:e}})},An=()=>{gt({type:5,time:Date.now()})},Ln=t=>{let{toasts:e,pausedAt:s}=Dn(t);v.useEffect(()=>{if(s)return;let a=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let c=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(c<0){h.visible&&be.dismiss(h.id);return}return setTimeout(()=>be.dismiss(h.id),c)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,s]);let r=v.useCallback(()=>{s&&gt({type:6,time:Date.now()})},[s]),i=v.useCallback((a,u)=>{let{reverseOrder:h=!1,gutter:c=8,defaultPosition:d}=u||{},m=e.filter(b=>(b.position||d)===(a.position||d)&&b.height),p=m.findIndex(b=>b.id===a.id),y=m.filter((b,D)=>D<p&&b.visible).length;return m.filter(b=>b.visible).slice(...h?[y+1]:[0,y]).reduce((b,D)=>b+(D.height||0)+c,0)},[e]);return{toasts:e,handlers:{updateHeight:Mn,startPause:An,endPause:r,calculateOffset:i}}},Un=$e`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qn=$e`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bn=$e`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Qn=it("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Un} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$n=$e`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zn=it("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$n} 1s linear infinite;
`,Kn=$e`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Hn=$e`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Wn=it("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Hn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Gn=it("div")`
  position: absolute;
`,Vn=it("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Jn=$e`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yn=it("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Jn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zn=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?v.createElement(Yn,null,e):e:s==="blank"?null:v.createElement(Vn,null,v.createElement(zn,{...r}),s!=="loading"&&v.createElement(Gn,null,s==="error"?v.createElement(Qn,{...r}):v.createElement(Wn,{...r})))},Xn=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ea=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ta="0%{opacity:0;} 100%{opacity:1;}",sa="0%{opacity:1;} 100%{opacity:0;}",ra=it("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ia=it("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,na=(t,e)=>{let s=t.includes("top")?1:-1,[r,i]=zr()?[ta,sa]:[Xn(s),ea(s)];return{animation:e?`${$e(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$e(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kr=v.memo(({toast:t,position:e,style:s,children:r})=>{let i=t.height?na(t.position||e||"top-center",t.visible):{opacity:0},a=v.createElement(Zn,{toast:t}),u=v.createElement(ia,{...t.ariaProps},ts(t.message,t));return v.createElement(ra,{className:t.className,style:{...i,...s,...t.style}},typeof r=="function"?r({icon:a,message:u}):v.createElement(v.Fragment,null,a,u))});On(v.createElement);var aa=({id:t,className:e,style:s,onHeightUpdate:r,children:i})=>{let a=v.useCallback(u=>{if(u){let h=()=>{let c=u.getBoundingClientRect().height;r(t,c)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return v.createElement("div",{ref:a,className:e,style:s},i)},oa=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...i}},ua=is`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ht=16,la=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:i,containerStyle:a,containerClassName:u})=>{let{toasts:h,handlers:c}=Ln(s);return v.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ht,left:Ht,right:Ht,bottom:Ht,pointerEvents:"none",...a},className:u,onMouseEnter:c.startPause,onMouseLeave:c.endPause},h.map(d=>{let m=d.position||e,p=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),y=oa(m,p);return v.createElement(aa,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?ua:"",style:y},d.type==="custom"?ts(d.message,d):i?i(d):v.createElement(Kr,{toast:d,position:m}))}))},Ls=be;function Hr({toastId:t}){Ls.dismiss(t)}function Us({toastId:t,message:e,...s}){console.error(e,{...s}),Ls.error(e,{id:t})}function Wr({authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r}){const{data:i}=Br({authToken:t,filesUrl:s}),a="PrepareButton",u=qr({mutationFn:async c=>{const d=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({file_ids:c})});if(!d.ok){const m=await d.json();throw new Error(m.detail)}return d.json()},onMutate:()=>{Hr({toastId:a})},onSuccess:c=>{window.location.href=c.url},onError:c=>{Us({message:`${c}`,toastId:a,prepareUrl:r,url:document.location.href})}});if(!(i!=null&&i.length))return null;const h=i.map(c=>c.id);return f.jsx(rs,{disabled:u.isPending,onClick:c=>(c.preventDefault(),u.mutate(h)),type:"button",variant:u.isPending?"secondary":"primary",children:u.isPending?"Creating…":"Create a draft publication"})}Wr.propTypes={authToken:ye.authToken.isRequired,csrfToken:ye.csrfToken.isRequired,filesUrl:ye.filesUrl.isRequired,prepareUrl:ye.prepareUrl.isRequired};function Gr({csrfToken:t,publishUrl:e}){const s="PublishButton",r=qr({mutationFn:async()=>{const i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:""});if(!i.ok){const a=await i.json();throw new Error(a.detail)}return i.text()},onMutate:()=>{Hr({toastId:s})},onSuccess:()=>{window.location.reload()},onError:i=>{Us({message:`${i}`,toastId:s,publishUrl:e,url:document.location.href})}});return f.jsx(rs,{disabled:r.isPending,onClick:i=>(i.preventDefault(),r.mutate()),type:"button",variant:r.isPending?"secondary":"primary",children:r.isPending?"Creating…":"Create a public published output"})}Gr.propTypes={csrfToken:ye.csrfToken.isRequired,publishUrl:ye.publishUrl.isRequired};function Nt({children:t,className:e="",container:s=!1,header:r=null,innerClassName:i=""}){return f.jsxs("div",{className:`bg-white shadow ${e}`,children:[r?f.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-between px-4 py-2 sm:px-6 sm:py-4 sm:flex-nowrap bg-slate-50",children:r}):null,f.jsx("div",{className:`
          ${i}
          ${s?"px-4 py-3 md:px-6 md:py-5":""}
          ${r&&s?"border-t border-slate-200":""}
        `,children:t})]})}Nt.propTypes={children:C.element.isRequired,className:C.string,container:C.bool,header:C.element,innerClassName:C.string};const ca=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ha=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],da=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],fa=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],rr=(t,e,s)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,s):(e===!0||s!==void 0)&&(r=t.toLocaleString(void 0,s)),r};function pa(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const s=e.bits?e.binary?fa:da:e.binary?ha:ca,r=e.space?" ":"";if(e.signed&&t===0)return` 0${r}${s[0]}`;const i=t<0,a=i?"-":e.signed?"+":"";i&&(t=-t);let u;if(e.minimumFractionDigits!==void 0&&(u={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(u={maximumFractionDigits:e.maximumFractionDigits,...u}),t<1){const m=rr(t,e.locale,u);return a+m+r+s[0]}const h=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),s.length-1);t/=(e.binary?1024:1e3)**h,u||(t=t.toPrecision(3));const c=rr(Number(t),e.locale,u),d=s[h];return a+c+r+d}function Vr(t){return t?pa(t,{locale:"en-gb"}):"unknown"}function Jr({autocapitalize:t=null,autocomplete:e=null,autocorrect:s=null,className:r=null,hideLabel:i=!1,hintText:a=null,id:u="inputID",inputClassName:h=null,inputmode:c=null,label:d=null,labelClass:m=null,onChange:p=()=>null,placeholder:y=null,required:b=null,type:D="text",value:N=null}){return f.jsxs("div",{className:r,children:[f.jsxs("label",{className:`inline-block font-semibold text-lg text-slate-900 cursor-pointer ${m} ${i?"sr-only":"null"}`,htmlFor:u,children:[d,b?f.jsx("span",{"aria-hidden":"true",className:"text-bn-ribbon-700 font-bold",children:"*"}):null]}),a?f.jsx("p",{className:"mb-2 text-sm text-gray-700",children:{hintText:a}}):null,f.jsx("div",{className:"relative",children:f.jsx("input",{autoCapitalize:t,autoComplete:e,autoCorrect:s,className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
            [&:not(:placeholder-shown):not(:focus)]:invalid:border-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-1
            ${h}
            ${i?"":"mt-1"}
          `,id:u,inputMode:c,onChange:p,placeholder:y,required:b,type:D,value:N})})]})}Jr.propTypes={autocapitalize:C.string,autocomplete:C.oneOf(["none","off","characters","words","sentences"]),autocorrect:C.oneOf(["on","off"]),className:C.string,hideLabel:C.bool,hintText:C.string,id:C.string,inputClassName:C.string,inputmode:C.string,label:C.string,labelClass:C.string,onChange:C.func,placeholder:C.string,required:C.bool,type:C.string,value:C.string};function Yr({files:t,listRef:e,setFiles:s}){const[r,i]=v.useState("");v.useEffect(()=>{const u=[...t].map(h=>({...h,visible:h.shortName.toLowerCase().includes(r.toLowerCase())}));s(u)},[r]);function a(u){var h;(h=e==null?void 0:e.current)==null||h.scrollToItem(0),i(u.target.value)}return f.jsx(Jr,{autocapitalize:"off",autocomplete:"off",autocorrect:"off",className:"mb-1",hideLabel:!0,id:"filterFiles",label:"Find a file…",onChange:u=>a(u),placeholder:"Find a file…",type:"search",value:r})}Yr.propTypes={files:C.arrayOf(C.shape()).isRequired,listRef:C.oneOfType([C.func,C.shape({current:C.instanceOf(Element)})]).isRequired,setFiles:C.func.isRequired};function Zr({authToken:t,filesUrl:e,listVisible:s,setSelectedFile:r}){const[i,a]=v.useState([]),[u,h]=v.useState("nameOrder"),{data:c,isError:d,isLoading:m,isSuccess:p}=Br({authToken:t,filesUrl:e}),y=Ti(),b=br(),D=v.createRef();if(v.useEffect(()=>{const w=c==null?void 0:c.find(O=>`/${O.name}`===b.pathname);r(w),c&&a(c)},[p]),m)return f.jsx(Nt,{container:!0,children:f.jsx("p",{children:"Loading…"})});if(d)return f.jsx(Nt,{container:!0,header:f.jsx("h2",{className:"font-semibold text-lg",children:"Error"}),children:f.jsx("p",{children:"Unable to load files"})});const N=({e:w,item:O})=>{w.preventDefault();const j=`/${O.name}`;return y(j),r(O)};return f.jsxs("div",{className:s?"block md:sticky md:top-2":"hidden",children:[f.jsxs("div",{className:"flex flex-row items-center gap-2 mb-1",children:[f.jsx("label",{className:"inline-block font-semibold text-sm text-slate-900 cursor-pointer flex-shrink-0",htmlFor:"fileSort",children:"Sort files by"}),f.jsxs("select",{className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
          `,id:"fileSort",name:"file-sort",onChange:w=>h(w.target.value),value:u,children:[f.jsx("option",{value:"nameOrder",children:"File name"}),f.jsx("option",{value:"dateOrder",children:"Created date"})]})]}),f.jsx(Yr,{files:c,listRef:D,setFiles:a}),f.jsx(Nt,{className:"py-2 md:max-h-screen md:h-full overflow-x-auto md:overflow-y-auto",container:!1,children:f.jsx("ul",{className:"text-sm text-oxford-600 flex flex-col gap-y-1 items-start",children:i.sort((w,O)=>w[u]-O[u]).map(w=>f.jsx(mr.Fragment,{children:w.visible&&f.jsx("li",{className:`leading-tight px-4 ${`/${w.name}`===b.pathname?"font-bold text-oxford-800":""}`,children:`/${w.name}`===b.pathname?f.jsx("span",{children:w.shortName}):f.jsx("a",{disabled:`/${w.name}`===b.pathname,href:w.url,onClick:O=>N({e:O,item:w}),title:`File size: ${Vr(w.size)}`,children:w.shortName})})},w.id))})})]})}Zr.propTypes={authToken:ye.authToken.isRequired,filesUrl:ye.filesUrl.isRequired,listVisible:C.bool.isRequired,setSelectedFile:C.func.isRequired};function ns({children:t=null,className:e=null,href:s,newTab:r=!1}){return f.jsx("a",{className:`
        font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
        hover:decoration-transparent hover:text-oxford
        focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
        ${e}
      `,href:s,rel:r?"noreferrer noopener":void 0,target:r?"filePreview":void 0,children:t})}ns.propTypes={children:C.oneOfType([C.element,C.string]),className:C.string,href:C.string.isRequired,newTab:C.bool};function Xr({fileDate:t,fileName:e,fileSize:s,fileUrl:r}){const i=()=>{if(Date.parse(t)){const a=new Date(t);return{absolute:a.toISOString(),formatted:new Intl.DateTimeFormat("en-GB",{timeZone:"UTC",dateStyle:"short",timeStyle:"short"}).format(a)}}return!1};return f.jsxs("ul",{className:"flex flex-row gap-2 items-center w-full flex-wrap",children:[f.jsx("li",{className:"mr-auto pr-4",children:f.jsx(ns,{className:`
            font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
            hover:decoration-transparent hover:text-oxford
            focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
            after:content-['↗'] after:text-sm after:ml-1 after:absolute after:mt-0.5
          `,href:r,newTab:!0,children:e})}),i()&&f.jsxs("li",{className:"font-mono text-sm text-right whitespace-nowrap",children:[f.jsx("div",{className:"sr-only",children:"Last modified at: "}),f.jsx("time",{className:"",dateTime:i().absolute,title:i().absolute,children:i().formatted})]}),f.jsx("li",{className:"font-mono text-sm text-right whitespace-nowrap ml-4",children:Vr(s)})]})}Xr.propTypes={fileDate:Ne.date.isRequired,fileName:Ne.name.isRequired,fileSize:Ne.size.isRequired,fileUrl:Ne.url.isRequired};function ma(){return f.jsx(la,{position:"top-right",toastOptions:{duration:1/0,style:{whiteSpace:"pre-line",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},error:{style:{color:"#721c24",backgroundColor:"#f8d7da"}}},children:t=>f.jsx(Kr,{id:"ToastBar",toast:t,children:({icon:e,message:s})=>f.jsxs(f.Fragment,{children:[e,s,t.type!=="loading"&&f.jsxs("button",{className:"border border-current rounded p-1 hover:bg-current hover:fill-white",onClick:()=>Ls.dismiss(t.id),type:"button",children:[f.jsx("span",{className:"sr-only",children:"Dismiss"}),f.jsx("svg",{className:"h-4 w-4",fill:"currentFill",viewBox:"0 0 20 20",width:"12",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{clipRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",fillRule:"evenodd"})})]})]})})})}const Os=t=>t.toLowerCase().match(/.*\.(?:csv)$/i),ei=t=>t.toLowerCase().match(/.*\.(?:html)$/i),ks=t=>t.toLowerCase().match(/.*\.(?:gif|jpg|jpeg|png|svg)$/i),ti=t=>t.toLowerCase().match(/.*\.(?:txt)$/i),si=t=>t.toLowerCase().match(/.*\.(?:json)$/i),ir=t=>Os(t)||ei(t)||ks(t)||ti(t)||si(t),cs='"File not yet uploaded"';var ga=ya;function ya(t,e,s){var r=null,i=null,a=function(){r&&(clearTimeout(r),i=null,r=null)},u=function(){var c=i;a(),c&&c()},h=function(){if(!e)return t.apply(this,arguments);var c=this,d=arguments,m=s&&!r;if(a(),i=function(){t.apply(c,d)},r=setTimeout(function(){if(r=null,!m){var p=i;return i=null,p()}},e),m)return i()};return h.cancel=a,h.flush=u,h}function va(t=100){const[e,s]=v.useState({width:void 0,height:void 0});return v.useEffect(()=>{function r(){s({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",ga(r,t)),r(),()=>window.removeEventListener("resize",r)},[t]),e}function ri({data:t,fileName:e,fileUrl:s}){const r=va(),[i,a]=v.useState(0),u=encodeURIComponent(s).replace(/\W/g,"");return v.useLayoutEffect(()=>{var c;if(document.getElementById(u)&&window.innerWidth>991){const d=Math.round((c=document==null?void 0:document.getElementById("outputsSPA"))==null?void 0:c.offsetHeight);if(!d||d<1e3)return a(1e3)}return a(1e3)},[r,u]),f.jsx("iframe",{className:"-mx-4 -my-3 w-[calc(100%+2rem)] md:-mx-6 md:-my-5 md:w-[calc(100%+3rem)]",frameBorder:"0",height:i,id:u,src:s,srcDoc:t,title:e,width:"100%"})}ri.propTypes={data:C.string.isRequired,fileName:Ne.name.isRequired,fileUrl:Ne.url.isRequired};function ii({data:t}){return f.jsx("img",{alt:"",className:"h-auto max-w-full",src:t})}ii.propTypes={data:C.string.isRequired};function ni({error:t=null,fileUrl:e}){return f.jsxs(f.Fragment,{children:[t?f.jsx("p",{children:"Error: Unable to load file"}):f.jsx("p",{children:"We cannot show a preview of this file."}),f.jsx("p",{className:"mt-3",children:f.jsx(ns,{href:e,newTab:!0,children:"Open file in a new tab ↗"})})]})}ni.propTypes={error:C.shape({message:C.string}),fileUrl:Ne.url.isRequired};var ai={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(s,r){t.exports=r()})(pi,function s(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,u={},h=0,c={parse:function(o,l){var g=(l=l||{}).dynamicTyping||!1;if(M(g)&&(l.dynamicTypingFunction=g,g={}),l.dynamicTyping=g,l.transform=!!M(l.transform)&&l.transform,l.worker&&c.WORKERS_SUPPORTED){var E=function(){if(!c.WORKERS_SUPPORTED)return!1;var P=(oe=r.URL||r.webkitURL||null,J=s.toString(),c.BLOB_URL||(c.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))),U=new r.Worker(P),oe,J;return U.onmessage=j,U.id=h++,u[U.id]=U}();return E.userStep=l.step,E.userChunk=l.chunk,E.userComplete=l.complete,E.userError=l.error,l.step=M(l.step),l.chunk=M(l.chunk),l.complete=M(l.complete),l.error=M(l.error),delete l.worker,void E.postMessage({input:o,config:l,workerId:E.id})}var S=null;return c.NODE_STREAM_INPUT,typeof o=="string"?(o=function(P){return P.charCodeAt(0)===65279?P.slice(1):P}(o),S=l.download?new p(l):new b(l)):o.readable===!0&&M(o.read)&&M(o.on)?S=new D(l):(r.File&&o instanceof File||o instanceof Object)&&(S=new y(l)),S.stream(o)},unparse:function(o,l){var g=!1,E=!0,S=",",P=`\r
`,U='"',oe=U+U,J=!1,_=null,X=!1;(function(){if(typeof l=="object"){if(typeof l.delimiter!="string"||c.BAD_DELIMITERS.filter(function(R){return l.delimiter.indexOf(R)!==-1}).length||(S=l.delimiter),(typeof l.quotes=="boolean"||typeof l.quotes=="function"||Array.isArray(l.quotes))&&(g=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(J=l.skipEmptyLines),typeof l.newline=="string"&&(P=l.newline),typeof l.quoteChar=="string"&&(U=l.quoteChar),typeof l.header=="boolean"&&(E=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");_=l.columns}l.escapeChar!==void 0&&(oe=l.escapeChar+U),(typeof l.escapeFormulae=="boolean"||l.escapeFormulae instanceof RegExp)&&(X=l.escapeFormulae instanceof RegExp?l.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(w(U),"g");if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return _e(null,o,J);if(typeof o[0]=="object")return _e(_||Object.keys(o[0]),o,J)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||_),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),_e(o.fields||[],o.data||[],J);throw new Error("Unable to serialize unrecognized input");function _e(R,W,ce){var Y="";typeof R=="string"&&(R=JSON.parse(R)),typeof W=="string"&&(W=JSON.parse(W));var ue=Array.isArray(R)&&0<R.length,ne=!Array.isArray(W[0]);if(ue&&E){for(var ae=0;ae<R.length;ae++)0<ae&&(Y+=S),Y+=le(R[ae],ae);0<W.length&&(Y+=P)}for(var k=0;k<W.length;k++){var B=ue?R.length:W[k].length,G=!1,re=ue?Object.keys(W[k]).length===0:W[k].length===0;if(ce&&!ue&&(G=ce==="greedy"?W[k].join("").trim()==="":W[k].length===1&&W[k][0].length===0),ce==="greedy"&&ue){for(var z=[],he=0;he<B;he++){var ee=ne?R[he]:he;z.push(W[k][ee])}G=z.join("").trim()===""}if(!G){for(var H=0;H<B;H++){0<H&&!re&&(Y+=S);var Oe=ue&&ne?R[H]:H;Y+=le(W[k][Oe],H)}k<W.length-1&&(!ce||0<B&&!re)&&(Y+=P)}}return Y}function le(R,W){if(R==null)return"";if(R.constructor===Date)return JSON.stringify(R).slice(1,25);var ce=!1;X&&typeof R=="string"&&X.test(R)&&(R="'"+R,ce=!0);var Y=R.toString().replace(F,oe);return(ce=ce||g===!0||typeof g=="function"&&g(R,W)||Array.isArray(g)&&g[W]||function(ue,ne){for(var ae=0;ae<ne.length;ae++)if(-1<ue.indexOf(ne[ae]))return!0;return!1}(Y,c.BAD_DELIMITERS)||-1<Y.indexOf(S)||Y.charAt(0)===" "||Y.charAt(Y.length-1)===" ")?U+Y+U:Y}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=O,c.ParserHandle=N,c.NetworkStreamer=p,c.FileStreamer=y,c.StringStreamer=b,c.ReadableStreamStreamer=D,r.jQuery){var d=r.jQuery;d.fn.parse=function(o){var l=o.config||{},g=[];return this.each(function(P){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)g.push({file:this.files[U],inputElem:this,instanceConfig:d.extend({},l)})}),E(),this;function E(){if(g.length!==0){var P,U,oe,J,_=g[0];if(M(o.before)){var X=o.before(_.file,_.inputElem);if(typeof X=="object"){if(X.action==="abort")return P="AbortError",U=_.file,oe=_.inputElem,J=X.reason,void(M(o.error)&&o.error({name:P},U,oe,J));if(X.action==="skip")return void S();typeof X.config=="object"&&(_.instanceConfig=d.extend(_.instanceConfig,X.config))}else if(X==="skip")return void S()}var F=_.instanceConfig.complete;_.instanceConfig.complete=function(_e){M(F)&&F(_e,_.file,_.inputElem),S()},c.parse(_.file,_.instanceConfig)}else M(o.complete)&&o.complete()}function S(){g.splice(0,1),E()}}}function m(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var g=K(l);g.chunkSize=parseInt(g.chunkSize),l.step||l.chunk||(g.chunkSize=null),this._handle=new N(g),(this._handle.streamer=this)._config=g}).call(this,o),this.parseChunk=function(l,g){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var E=this._config.beforeFirstChunk(l);E!==void 0&&(l=E)}this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+l;this._partialLine="";var P=this._handle.parse(S,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var U=P.meta.cursor;this._finished||(this._partialLine=S.substring(U-this._baseIndex),this._baseIndex=U),P&&P.data&&(this._rowCount+=P.data.length);var oe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:P,workerId:c.WORKER_ID,finished:oe});else if(M(this._config.chunk)&&!g){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);P=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!oe||!M(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),oe||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(l){M(this._config.error)?this._config.error(l):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:l,finished:!1})}}function p(o){var l;(o=o||{}).chunkSize||(o.chunkSize=c.RemoteChunkSize),m.call(this,o),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(g){this._input=g,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),i||(l.onload=se(this._chunkLoaded,this),l.onerror=se(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var g=this._config.downloadRequestHeaders;for(var E in g)l.setRequestHeader(E,g[E])}if(this._config.chunkSize){var S=this._start+this._config.chunkSize-1;l.setRequestHeader("Range","bytes="+this._start+"-"+S)}try{l.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}i&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:l.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(g){var E=g.getResponseHeader("Content-Range");return E===null?-1:parseInt(E.substring(E.lastIndexOf("/")+1))}(l),this.parseChunk(l.responseText)))},this._chunkError=function(g){var E=l.statusText||g;this._sendError(new Error(E))}}function y(o){var l,g;(o=o||{}).chunkSize||(o.chunkSize=c.LocalChunkSize),m.call(this,o);var E=typeof FileReader<"u";this.stream=function(S){this._input=S,g=S.slice||S.webkitSlice||S.mozSlice,E?((l=new FileReader).onload=se(this._chunkLoaded,this),l.onerror=se(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input;if(this._config.chunkSize){var P=Math.min(this._start+this._config.chunkSize,this._input.size);S=g.call(S,this._start,P)}var U=l.readAsText(S,this._config.encoding);E||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(l.error)}}function b(o){var l;m.call(this,o=o||{}),this.stream=function(g){return l=g,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var g,E=this._config.chunkSize;return E?(g=l.substring(0,E),l=l.substring(E)):(g=l,l=""),this._finished=!l,this.parseChunk(g)}}}function D(o){m.call(this,o=o||{});var l=[],g=!0,E=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):g=!0},this._streamData=se(function(S){try{l.push(typeof S=="string"?S:S.toString(this._config.encoding)),g&&(g=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(P){this._streamError(P)}},this),this._streamError=se(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=se(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=se(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(o){var l,g,E,S=Math.pow(2,53),P=-S,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,_=0,X=0,F=!1,_e=!1,le=[],R={data:[],errors:[],meta:{}};if(M(o.step)){var W=o.step;o.step=function(k){if(R=k,ue())Y();else{if(Y(),R.data.length===0)return;_+=k.data.length,o.preview&&_>o.preview?g.abort():(R.data=R.data[0],W(R,J))}}}function ce(k){return o.skipEmptyLines==="greedy"?k.join("").trim()==="":k.length===1&&k[0].length===0}function Y(){return R&&E&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),o.skipEmptyLines&&(R.data=R.data.filter(function(k){return!ce(k)})),ue()&&function(){if(!R)return;function k(G,re){M(o.transformHeader)&&(G=o.transformHeader(G,re)),le.push(G)}if(Array.isArray(R.data[0])){for(var B=0;ue()&&B<R.data.length;B++)R.data[B].forEach(k);R.data.splice(0,1)}else R.data.forEach(k)}(),function(){if(!R||!o.header&&!o.dynamicTyping&&!o.transform)return R;function k(G,re){var z,he=o.header?{}:[];for(z=0;z<G.length;z++){var ee=z,H=G[z];o.header&&(ee=z>=le.length?"__parsed_extra":le[z]),o.transform&&(H=o.transform(H,ee)),H=ne(ee,H),ee==="__parsed_extra"?(he[ee]=he[ee]||[],he[ee].push(H)):he[ee]=H}return o.header&&(z>le.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+le.length+" fields but parsed "+z,X+re):z<le.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+le.length+" fields but parsed "+z,X+re)),he}var B=1;return!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(k),B=R.data.length):R.data=k(R.data,0),o.header&&R.meta&&(R.meta.fields=le),X+=B,R}()}function ue(){return o.header&&le.length===0}function ne(k,B){return G=k,o.dynamicTypingFunction&&o.dynamicTyping[G]===void 0&&(o.dynamicTyping[G]=o.dynamicTypingFunction(G)),(o.dynamicTyping[G]||o.dynamicTyping)===!0?B==="true"||B==="TRUE"||B!=="false"&&B!=="FALSE"&&(function(re){if(U.test(re)){var z=parseFloat(re);if(P<z&&z<S)return!0}return!1}(B)?parseFloat(B):oe.test(B)?new Date(B):B===""?null:B):B;var G}function ae(k,B,G,re){var z={type:k,code:B,message:G};re!==void 0&&(z.row=re),R.errors.push(z)}this.parse=function(k,B,G){var re=o.quoteChar||'"';if(o.newline||(o.newline=function(ee,H){ee=ee.substring(0,1048576);var Oe=new RegExp(w(H)+"([^]*?)"+w(H),"gm"),xe=(ee=ee.replace(Oe,"")).split("\r"),Fe=ee.split(`
`),Ae=1<Fe.length&&Fe[0].length<xe[0].length;if(xe.length===1||Ae)return`
`;for(var we=0,V=0;V<xe.length;V++)xe[V][0]===`
`&&we++;return we>=xe.length/2?`\r
`:"\r"}(k,re)),E=!1,o.delimiter)M(o.delimiter)&&(o.delimiter=o.delimiter(k),R.meta.delimiter=o.delimiter);else{var z=function(ee,H,Oe,xe,Fe){var Ae,we,V,te;Fe=Fe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var nt=0;nt<Fe.length;nt++){var $=Fe[nt],yt=0,Le=0,at=0;V=void 0;for(var Ke=new O({comments:xe,delimiter:$,newline:H,preview:10}).parse(ee),He=0;He<Ke.data.length;He++)if(Oe&&ce(Ke.data[He]))at++;else{var We=Ke.data[He].length;Le+=We,V!==void 0?0<We&&(yt+=Math.abs(We-V),V=We):V=We}0<Ke.data.length&&(Le/=Ke.data.length-at),(we===void 0||yt<=we)&&(te===void 0||te<Le)&&1.99<Le&&(we=yt,Ae=$,te=Le)}return{successful:!!(o.delimiter=Ae),bestDelimiter:Ae}}(k,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);z.successful?o.delimiter=z.bestDelimiter:(E=!0,o.delimiter=c.DefaultDelimiter),R.meta.delimiter=o.delimiter}var he=K(o);return o.preview&&o.header&&he.preview++,l=k,g=new O(he),R=g.parse(l,B,G),Y(),F?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,g.abort(),l=M(o.chunk)?"":l.substring(g.getCharIndex())},this.resume=function(){J.streamer._halted?(F=!1,J.streamer.parseChunk(l,!0)):setTimeout(J.resume,3)},this.aborted=function(){return _e},this.abort=function(){_e=!0,g.abort(),R.meta.aborted=!0,M(o.complete)&&o.complete(R),l=""}}function w(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function O(o){var l,g=(o=o||{}).delimiter,E=o.newline,S=o.comments,P=o.step,U=o.preview,oe=o.fastMode,J=l=o.quoteChar===void 0||o.quoteChar===null?'"':o.quoteChar;if(o.escapeChar!==void 0&&(J=o.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),S===g)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var _=0,X=!1;this.parse=function(F,_e,le){if(typeof F!="string")throw new Error("Input must be a string");var R=F.length,W=g.length,ce=E.length,Y=S.length,ue=M(P),ne=[],ae=[],k=[],B=_=0;if(!F)return Ce();if(o.header&&!_e){var G=F.split(E)[0].split(g),re=[],z={},he=!1;for(var ee in G){var H=G[ee];M(o.transformHeader)&&(H=o.transformHeader(H,ee));var Oe=H,xe=z[H]||0;for(0<xe&&(he=!0,Oe=H+"_"+xe),z[H]=xe+1;re.includes(Oe);)Oe=Oe+"_"+xe;re.push(Oe)}if(he){var Fe=F.split(E);Fe[0]=re.join(g),F=Fe.join(E)}}if(oe||oe!==!1&&F.indexOf(l)===-1){for(var Ae=F.split(E),we=0;we<Ae.length;we++){if(k=Ae[we],_+=k.length,we!==Ae.length-1)_+=E.length;else if(le)return Ce();if(!S||k.substring(0,Y)!==S){if(ue){if(ne=[],at(k.split(g)),$t(),X)return Ce()}else at(k.split(g));if(U&&U<=we)return ne=ne.slice(0,U),Ce(!0)}}return Ce()}for(var V=F.indexOf(g,_),te=F.indexOf(E,_),nt=new RegExp(w(J)+w(l),"g"),$=F.indexOf(l,_);;)if(F[_]!==l)if(S&&k.length===0&&F.substring(_,_+Y)===S){if(te===-1)return Ce();_=te+ce,te=F.indexOf(E,_),V=F.indexOf(g,_)}else if(V!==-1&&(V<te||te===-1))k.push(F.substring(_,V)),_=V+W,V=F.indexOf(g,_);else{if(te===-1)break;if(k.push(F.substring(_,te)),We(te+ce),ue&&($t(),X))return Ce();if(U&&ne.length>=U)return Ce(!0)}else for($=_,_++;;){if(($=F.indexOf(l,$+1))===-1)return le||ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:_}),He();if($===R-1)return He(F.substring(_,$).replace(nt,l));if(l!==J||F[$+1]!==J){if(l===J||$===0||F[$-1]!==J){V!==-1&&V<$+1&&(V=F.indexOf(g,$+1)),te!==-1&&te<$+1&&(te=F.indexOf(E,$+1));var yt=Ke(te===-1?V:Math.min(V,te));if(F.substr($+1+yt,W)===g){k.push(F.substring(_,$).replace(nt,l)),F[_=$+1+yt+W]!==l&&($=F.indexOf(l,_)),V=F.indexOf(g,_),te=F.indexOf(E,_);break}var Le=Ke(te);if(F.substring($+1+Le,$+1+Le+ce)===E){if(k.push(F.substring(_,$).replace(nt,l)),We($+1+Le+ce),V=F.indexOf(g,_),$=F.indexOf(l,_),ue&&($t(),X))return Ce();if(U&&ne.length>=U)return Ce(!0);break}ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:_}),$++}}else $++}return He();function at(Ee){ne.push(Ee),B=_}function Ke(Ee){var qs=0;if(Ee!==-1){var as=F.substring($+1,Ee);as&&as.trim()===""&&(qs=as.length)}return qs}function He(Ee){return le||(Ee===void 0&&(Ee=F.substring(_)),k.push(Ee),_=R,at(k),ue&&$t()),Ce()}function We(Ee){_=Ee,at(k),k=[],te=F.indexOf(E,_)}function Ce(Ee){return{data:ne,errors:ae,meta:{delimiter:g,linebreak:E,aborted:X,truncated:!!Ee,cursor:B+(_e||0)}}}function $t(){P(Ce()),ne=[],ae=[]}},this.abort=function(){X=!0},this.getCharIndex=function(){return _}}function j(o){var l=o.data,g=u[l.workerId],E=!1;if(l.error)g.userError(l.error,l.file);else if(l.results&&l.results.data){var S={abort:function(){E=!0,A(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Q,resume:Q};if(M(g.userStep)){for(var P=0;P<l.results.data.length&&(g.userStep({data:l.results.data[P],errors:l.results.errors,meta:l.results.meta},S),!E);P++);delete l.results}else M(g.userChunk)&&(g.userChunk(l.results,S,l.file),delete l.results)}l.finished&&!E&&A(l.workerId,l.results)}function A(o,l){var g=u[o];M(g.userComplete)&&g.userComplete(l),g.terminate(),delete u[o]}function Q(){throw new Error("Not implemented.")}function K(o){if(typeof o!="object"||o===null)return o;var l=Array.isArray(o)?[]:{};for(var g in o)l[g]=K(o[g]);return l}function se(o,l){return function(){o.apply(l,arguments)}}function M(o){return typeof o=="function"}return a&&(r.onmessage=function(o){var l=o.data;if(c.WORKER_ID===void 0&&l&&(c.WORKER_ID=l.workerId),typeof l.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(l.input,l.config),finished:!0});else if(r.File&&l.input instanceof File||l.input instanceof Object){var g=c.parse(l.input,l.config);g&&r.postMessage({workerId:c.WORKER_ID,results:g,finished:!0})}}),(p.prototype=Object.create(m.prototype)).constructor=p,(y.prototype=Object.create(m.prototype)).constructor=y,(b.prototype=Object.create(b.prototype)).constructor=b,(D.prototype=Object.create(m.prototype)).constructor=D,c})})(ai);var ba=ai.exports;const ze=mi(ba);function xa(t,e){return ze.parse(t,e)}function wa(t,e){ze.parse(t,Object.assign({},{download:!0},e))}function Ca(t,e){return e===void 0&&(e={}),ze.unparse(t,e)}function Ea(){return{readString:xa,readRemoteFile:wa,jsonToCSV:Ca}}ze.BAD_DELIMITERS;ze.RECORD_SEP;ze.UNIT_SEP;ze.WORKERS_SUPPORTED;ze.LocalChunkSize;ze.DefaultDelimiter;function oi({cell:t}){return f.jsx("td",{className:"py-2 px-2 text-sm text-gray-900",children:t})}function Ts({row:t}){return f.jsx("tr",{className:"divide-x divide-gray-200 even:bg-gray-50",children:t.map((e,s)=>f.jsx(oi,{cell:e},s))})}function ui({data:t}){const{readString:e}=Ea(),s=e(t,{chunk:!0,complete:r=>r}).data;return s.length>=1e3?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"font-bold mb-2",role:"alert",children:"This is a preview of the first 1000 rows"}),f.jsx("div",{className:"flow-root",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsx("div",{className:"inline-block min-w-full align-middle",children:f.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.slice(0,1e3).map((r,i)=>f.jsx(Ts,{row:r},i))})})})})})]}):f.jsx("div",{className:"flow-root",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsx("div",{className:"inline-block min-w-full align-middle",children:f.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.map((r,i)=>f.jsx(Ts,{row:r},i))})})})})})}oi.propTypes={cell:C.string.isRequired};Ts.propTypes={row:C.arrayOf(C.string).isRequired};ui.propTypes={data:C.string.isRequired};function Fs({data:t}){return f.jsx("pre",{className:"whitespace-break-spaces break-words",children:t})}Fs.propTypes={data:C.string.isRequired};function li({authToken:t,fileName:e,fileSize:s,fileUrl:r,uuid:i}){const{data:a,error:u,isLoading:h,isError:c}=Ur({queryKey:["FILE",r],queryFn:async()=>{if(!ir(e)||s>2e7||Os(e)&&s>5e6)return!1;const d=`${r}?${i}`;let m=await fetch(d,{headers:{Authorization:t}});if(!m.ok)throw new Error;if(m.headers.has("Location")&&m.headers.has("Authorization")&&(m=await fetch(m.headers.get("Location"),{headers:{Authorization:m.headers.get("Authorization")}}),!m.ok))throw new Error;const p=await m.clone().text();if(p===cs)return cs;if(ks(e)){const y=await m.blob();return URL.createObjectURL(y)}return p},meta:{errorMessage:`${e} - Unable to load file`,id:r}});return h?f.jsx("span",{children:"Loading..."}):a===cs?f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"This file has not been uploaded yet. This is likely due to do an error that occurred during release."}),f.jsx("p",{className:"mt-3",children:f.jsx(ns,{href:"https://docs.opensafely.org/how-to-get-help/#slack",newTab:!0,children:"Contact tech support in Slack for more information."})})]}):c||!a||!ir(e)?f.jsx(ni,{error:u,fileUrl:r}):f.jsxs(f.Fragment,{children:[Os(e)?f.jsx(ui,{data:a}):null,ei(e)&&f.jsx(ri,{data:a,fileName:e,fileUrl:r}),ks(e)?f.jsx(ii,{data:a}):null,ti(e)?f.jsx(Fs,{data:a}):null,si(e)?f.jsx(Fs,{data:a}):null]})}li.propTypes={authToken:ye.authToken.isRequired,fileName:Ne.name.isRequired,fileSize:Ne.size.isRequired,fileUrl:Ne.url.isRequired,uuid:C.number.isRequired};const Ra=new Xi({defaultOptions:{queries:{refetchOnWindowFocus:!1}},queryCache:new jr({onError:(t,e)=>{e.meta.errorMessage&&Us({message:e.meta.errorMessage,toastId:e.meta.id,filesUrl:e.meta.id,url:document.location.href})}})});function ci({authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r=null,publishUrl:i=null}){const a=Date.now(),[u,h]=v.useState(!0),[c,d]=v.useState();return f.jsxs(nn,{client:Ra,children:[f.jsxs("div",{className:"py-6",children:[(r||i)&&f.jsxs("div",{className:"mb-3 -mt-3 px-1 md:px-6",children:[r&&f.jsx(Wr,{authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r}),i&&f.jsx(Gr,{csrfToken:e,publishUrl:i})]}),f.jsxs("div",{className:"grid gap-6 grid-cols-1 px-1 md:grid-cols-3 md:px-6 lg:grid-cols-4",children:[f.jsxs("div",{className:"flex flex-col gap-y-1 md:col-span-1",children:[f.jsxs(rs,{className:"block md:hidden mb-3",onClick:()=>h(!u),type:"button",variant:"secondary",children:[u?"Hide":"Show"," file list"]}),f.jsx(Zr,{authToken:t,filesUrl:s,listVisible:u,setListVisible:h,setSelectedFile:d})]}),f.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:c&&f.jsx(Nt,{container:!0,header:f.jsx(Xr,{fileDate:c.date,fileName:c.shortName,fileSize:c.size,fileUrl:c.url}),children:f.jsx(li,{authToken:t,fileName:c.shortName,fileSize:c.size,fileUrl:c.url,uuid:a})})})]})]}),f.jsx(ma,{}),f.jsx(vn,{initialIsOpen:!1})]})}ci.propTypes={authToken:ye.authToken.isRequired,csrfToken:ye.csrfToken.isRequired,filesUrl:ye.filesUrl.isRequired,prepareUrl:ye.prepareUrl,publishUrl:ye.publishUrl};var Sa={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};di({dsn:Sa.VITE_SENTRY_DSN,tracesSampleRate:1});const Yt=document.getElementById("outputsSPA"),_a=fi(Yt);document.getElementById("content")&&document.getElementById("content").remove();_a.render(f.jsx(mr.StrictMode,{children:f.jsx(Li,{basename:Yt.dataset.basePath,children:f.jsx(ci,{...Yt.dataset,element:Yt})})}));
