var Nu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{r as u,t as Gn,p as A,j as h,P as Vu,R as D,a as he,w as Io,s as Gr,b as Po,c as Bu,i as Hu}from"./index-78U_y_95.js";import{g as qs}from"./_commonjsHelpers-BosuxZz1.js";var bx=Nu((Fe,je)=>{var Us={exports:{}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=typeof Symbol=="function"&&Symbol.for,Mi=be?Symbol.for("react.element"):60103,ki=be?Symbol.for("react.portal"):60106,lr=be?Symbol.for("react.fragment"):60107,ur=be?Symbol.for("react.strict_mode"):60108,cr=be?Symbol.for("react.profiler"):60114,dr=be?Symbol.for("react.provider"):60109,fr=be?Symbol.for("react.context"):60110,Di=be?Symbol.for("react.async_mode"):60111,pr=be?Symbol.for("react.concurrent_mode"):60111,hr=be?Symbol.for("react.forward_ref"):60112,mr=be?Symbol.for("react.suspense"):60113,zu=be?Symbol.for("react.suspense_list"):60120,gr=be?Symbol.for("react.memo"):60115,vr=be?Symbol.for("react.lazy"):60116,qu=be?Symbol.for("react.block"):60121,Uu=be?Symbol.for("react.fundamental"):60117,Wu=be?Symbol.for("react.responder"):60118,Gu=be?Symbol.for("react.scope"):60119;function Ie(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mi:switch(e=e.type,e){case Di:case pr:case lr:case cr:case ur:case mr:return e;default:switch(e=e&&e.$$typeof,e){case fr:case hr:case vr:case gr:case dr:return e;default:return t}}case ki:return t}}}function Ws(e){return Ie(e)===pr}ne.AsyncMode=Di;ne.ConcurrentMode=pr;ne.ContextConsumer=fr;ne.ContextProvider=dr;ne.Element=Mi;ne.ForwardRef=hr;ne.Fragment=lr;ne.Lazy=vr;ne.Memo=gr;ne.Portal=ki;ne.Profiler=cr;ne.StrictMode=ur;ne.Suspense=mr;ne.isAsyncMode=function(e){return Ws(e)||Ie(e)===Di};ne.isConcurrentMode=Ws;ne.isContextConsumer=function(e){return Ie(e)===fr};ne.isContextProvider=function(e){return Ie(e)===dr};ne.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi};ne.isForwardRef=function(e){return Ie(e)===hr};ne.isFragment=function(e){return Ie(e)===lr};ne.isLazy=function(e){return Ie(e)===vr};ne.isMemo=function(e){return Ie(e)===gr};ne.isPortal=function(e){return Ie(e)===ki};ne.isProfiler=function(e){return Ie(e)===cr};ne.isStrictMode=function(e){return Ie(e)===ur};ne.isSuspense=function(e){return Ie(e)===mr};ne.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lr||e===pr||e===cr||e===ur||e===mr||e===zu||typeof e=="object"&&e!==null&&(e.$$typeof===vr||e.$$typeof===gr||e.$$typeof===dr||e.$$typeof===fr||e.$$typeof===hr||e.$$typeof===Uu||e.$$typeof===Wu||e.$$typeof===Gu||e.$$typeof===qu)};ne.typeOf=Ie;Us.exports=ne;var Ku=Us.exports,Gs=Ku,Yu={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zu={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ks={};Ks[Gs.ForwardRef]=Yu;Ks[Gs.Memo]=Zu;function Xu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Ys={exports:{}},Zs={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=u;function Qu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ju=typeof Object.is=="function"?Object.is:Qu,ec=Gt.useState,tc=Gt.useEffect,nc=Gt.useLayoutEffect,rc=Gt.useDebugValue;function ic(e,t){var n=t(),r=ec({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return nc(function(){i.value=n,i.getSnapshot=t,Kr(i)&&o({inst:i})},[e,n,t]),tc(function(){return Kr(i)&&o({inst:i}),e(function(){Kr(i)&&o({inst:i})})},[e]),rc(n),n}function Kr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ju(e,n)}catch{return!0}}function oc(e,t){return t()}var sc=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oc:ic;Zs.useSyncExternalStore=Gt.useSyncExternalStore!==void 0?Gt.useSyncExternalStore:sc;Ys.exports=Zs;var ac=Ys.exports;const lc=Gn.useInsertionEffect,uc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xs=uc?u.useLayoutEffect:u.useEffect,cc=lc||Xs,Li=e=>{const t=u.useRef([e,(...n)=>t[0](...n)]).current;return cc(()=>{t[0]=e}),t[1]},dc="popstate",Ni="pushState",Vi="replaceState",fc="hashchange",_o=[dc,Ni,Vi,fc],pc=e=>{for(const t of _o)addEventListener(t,e);return()=>{for(const t of _o)removeEventListener(t,e)}},Qs=(e,t)=>ac.useSyncExternalStore(pc,e,t),hc=()=>location.search,mc=({ssrSearch:e=""}={})=>Qs(hc,()=>e),Mo=()=>location.pathname,gc=({ssrPath:e}={})=>Qs(Mo,e?()=>e:Mo),vc=(e,{replace:t=!1,state:n=null}={})=>history[t?Vi:Ni](n,"",e),bc=(e={})=>[gc(e),vc],ko=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ko]>"u"){for(const e of[Ni,Vi]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ko,{value:!0})}const xc=(e="",t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",yc=(e,t="")=>e[0]==="~"?e.slice(1):t+e,wc=e=>{try{return decodeURI(e)}catch{return e}},Js={hook:bc,searchHook:mc,parser:Xu,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},ea=u.createContext(Js),wn=()=>u.useContext(ea),ta={},na=u.createContext(ta),Ec=()=>u.useContext(na),br=e=>{const[t,n]=e.hook(e);return[wc(xc(e.base,t)),Li((r,i)=>n(yc(r,e.base),i))]},pt=()=>br(wn()),ra=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((p,m)=>[p,l[m]])):s.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},ia=({children:e,...t})=>{var d,p;const n=wn(),r=t.hook?Js:n;let i=r;const[o,s]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=o),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let a=u.useRef({}),l=a.current,c=l;for(let m in r){const f=m==="base"?r[m]+(t[m]||""):t[m]||r[m];l===c&&f!==c[m]&&(a.current=c={...c}),c[m]=f,f!==r[m]&&(i=c)}return u.createElement(ea.Provider,{value:i,children:e})},Do=({children:e,component:t},n)=>t?u.createElement(t,{params:n}):typeof e=="function"?e(n):e,Sc=e=>{let t=u.useRef(ta),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return t.current=n},tt=({path:e,nest:t,match:n,...r})=>{const i=wn(),[o]=br(i),[s,a,l]=n??ra(i.parser,e,o,t),c=Sc({...Ec(),...a});if(!s)return null;const d=l?u.createElement(ia,{base:l},Do(r,c)):Do(r,c);return u.createElement(na.Provider,{value:c,children:d})},oa=u.forwardRef((e,t)=>{const n=wn(),[r,i]=br(n),{to:o,href:s=o,onClick:a,asChild:l,children:c,className:d,replace:p,state:m,...f}=e,g=Li(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),i(s,e)))}),v=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&u.isValidElement(c)?u.cloneElement(c,{onClick:g,href:v}):u.createElement("a",{...f,onClick:g,href:v,className:d!=null&&d.call?d(r===s):d,children:c,ref:t})}),sa=e=>Array.isArray(e)?e.flatMap(t=>sa(t&&t.type===u.Fragment?t.props.children:t)):[e],Tc=({children:e,location:t})=>{const n=wn(),[r]=br(n);for(const i of sa(e)){let o=0;if(u.isValidElement(i)&&(o=ra(n.parser,i.props.path,t||r,i.props.nest))[0])return u.cloneElement(i,{match:o})}return null},En=e=>{const{to:t,href:n=t}=e,[,r]=pt(),i=Li(()=>r(t||n,e));return Xs(()=>{i()},[]),null},Bi=u.createContext({basePath:"",csrfToken:"",codelistGroups:[]});Bi.displayName="AppData";function Qt(){const e=u.useContext(Bi);if(e===void 0)throw new Error("useAppData must be used within a AppData.Provider component");return e}const Hi=u.createContext();Hi.displayName="FormData";function aa({children:e}){const[t,n]=u.useState({}),r=u.useMemo(()=>({formData:t,setFormData:n}),[t]);return h.jsx(Hi.Provider,{value:r,children:e})}function Ne(){const e=u.useContext(Hi);if(e===void 0)throw new Error("useFormData must be used within a FormData.Provider component");return e}aa.propTypes={children:A.element.isRequired};const Oc=({dateStart:e,dateEnd:t})=>{const n=new Date(e),r=new Date(t),i={year:"numeric",month:"long",day:"numeric"};return{endISO:r.toISOString(),endStr:r.toLocaleDateString("en-GB",i),startISO:n.toISOString(),startStr:n.toLocaleDateString("en-GB",i)}},la=[{label:"Weeks",value:"weeks"},{label:"Months",value:"months"},{label:"Years",value:"years"}],Hn={label:"Filter the population",items:[{label:"All people",value:"all"},{label:"Adults only",value:"adults"},{label:"Children only",value:"children"}]},un={label:"Break down the report by demographics",items:[{label:"Sex",value:"sex"},{label:"Age",value:"age"},{label:"Ethnicity",value:"ethnicity"},{label:"Index of Multiple Deprivation (IMD)",value:"imd"},{label:"Region",value:"region"}]};function De(...e){return e.filter(Boolean).join(" ")}function Lo(e){const t=document.getElementById(e);return t!=null&&t.textContent?JSON.parse(t==null?void 0:t.textContent).map(i=>({label:i.name,organisation:i.organisation,type:e.slice(9,e.length-1),user:i.user,value:i.slug,updatedDate:i.updated_date})):[]}function Sn(e){const{formData:t}=Ne(),n=[];return e.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)||n.push(r)}),!!n.length}function $c(e){return!!e&&e.constructor===Object}function Cc({dataset:{basePath:e,csrfToken:t,events:n,medications:r,dateStart:i,dateEnd:o}}){return{basePath:e,csrfToken:t,codelistGroups:[{name:"SNOMED CT",id:"event",codelists:Lo(n)},{name:"dm+d",id:"medication",codelists:Lo(r)}],dates:{...Oc({dateStart:i,dateEnd:o})}}}const Rc=e=>(Object.keys(e).forEach(t=>e[t]===void 0&&delete e[t]),e);function ua({children:e}){const[t]=pt(),n=t==="/",r=t==="/success";return h.jsxs("main",{className:"min-h-[66vh] flex-grow pb-12 bg-gray-100",children:[h.jsxs("div",{className:"mb-6 mt-3 flex flex-col gap-y-2 text-left md:mt-0",children:[h.jsx("h1",{className:"text-3xl tracking-tight break-words md:text-4xl font-bold text-gray-900",children:"Interactive request"}),h.jsx("p",{className:"font-lg text-gray-600",children:"Make a new request for an interactive report."})]}),h.jsx("section",{className:"max-w-3xl relative",children:h.jsxs("div",{className:De("bg-white p-6 shadow rounded",!n&&!r?"pt-12":null),children:[!n&&!r?h.jsx("button",{className:De("absolute top-0 left-0 text-sm font-semibold py-1 pl-2 pr-3 flex text-white bg-oxford-800 rounded-br transition-colors","hover:text-oxford-50 hover:bg-oxford-700","focus-within:text-oxford-50 focus-within:bg-oxford-700"),onClick:()=>window.history.back(),type:"button",children:"← Back"}):null,e]})})]})}ua.propTypes={children:Vu.node.isRequired};var Fc=function(t){return jc(t)&&!Ac(t)};function jc(e){return!!e&&typeof e=="object"}function Ac(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||_c(e)}var Ic=typeof Symbol=="function"&&Symbol.for,Pc=Ic?Symbol.for("react.element"):60103;function _c(e){return e.$$typeof===Pc}function Mc(e){return Array.isArray(e)?[]:{}}function Kn(e,t){return t.clone!==!1&&t.isMergeableObject(e)?gn(Mc(e),e,t):e}function kc(e,t,n){return e.concat(t).map(function(r){return Kn(r,n)})}function Dc(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Kn(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Kn(t[i],n):r[i]=gn(e[i],t[i],n)}),r}function gn(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||kc,n.isMergeableObject=n.isMergeableObject||Fc;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):Dc(e,t,n):Kn(t,n)}gn.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return gn(r,i,n)},{})};var di=gn,ca=typeof global=="object"&&global&&global.Object===Object&&global,Lc=typeof self=="object"&&self&&self.Object===Object&&self,We=ca||Lc||Function("return this")(),at=We.Symbol,da=Object.prototype,Nc=da.hasOwnProperty,Vc=da.toString,sn=at?at.toStringTag:void 0;function Bc(e){var t=Nc.call(e,sn),n=e[sn];try{e[sn]=void 0;var r=!0}catch{}var i=Vc.call(e);return r&&(t?e[sn]=n:delete e[sn]),i}var Hc=Object.prototype,zc=Hc.toString;function qc(e){return zc.call(e)}var Uc="[object Null]",Wc="[object Undefined]",No=at?at.toStringTag:void 0;function At(e){return e==null?e===void 0?Wc:Uc:No&&No in Object(e)?Bc(e):qc(e)}function fa(e,t){return function(n){return e(t(n))}}var zi=fa(Object.getPrototypeOf,Object);function It(e){return e!=null&&typeof e=="object"}var Gc="[object Object]",Kc=Function.prototype,Yc=Object.prototype,pa=Kc.toString,Zc=Yc.hasOwnProperty,Xc=pa.call(Object);function Vo(e){if(!It(e)||At(e)!=Gc)return!1;var t=zi(e);if(t===null)return!0;var n=Zc.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&pa.call(n)==Xc}function Qc(){this.__data__=[],this.size=0}function ha(e,t){return e===t||e!==e&&t!==t}function xr(e,t){for(var n=e.length;n--;)if(ha(e[n][0],t))return n;return-1}var Jc=Array.prototype,ed=Jc.splice;function td(e){var t=this.__data__,n=xr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ed.call(t,n,1),--this.size,!0}function nd(e){var t=this.__data__,n=xr(t,e);return n<0?void 0:t[n][1]}function rd(e){return xr(this.__data__,e)>-1}function id(e,t){var n=this.__data__,r=xr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Qe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qe.prototype.clear=Qc;Qe.prototype.delete=td;Qe.prototype.get=nd;Qe.prototype.has=rd;Qe.prototype.set=id;function od(){this.__data__=new Qe,this.size=0}function sd(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function ad(e){return this.__data__.get(e)}function ld(e){return this.__data__.has(e)}function Tn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ud="[object AsyncFunction]",cd="[object Function]",dd="[object GeneratorFunction]",fd="[object Proxy]";function ma(e){if(!Tn(e))return!1;var t=At(e);return t==cd||t==dd||t==ud||t==fd}var Yr=We["__core-js_shared__"],Bo=function(){var e=/[^.]+$/.exec(Yr&&Yr.keys&&Yr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pd(e){return!!Bo&&Bo in e}var hd=Function.prototype,md=hd.toString;function Pt(e){if(e!=null){try{return md.call(e)}catch{}try{return e+""}catch{}}return""}var gd=/[\\^$.*+?()[\]{}|]/g,vd=/^\[object .+?Constructor\]$/,bd=Function.prototype,xd=Object.prototype,yd=bd.toString,wd=xd.hasOwnProperty,Ed=RegExp("^"+yd.call(wd).replace(gd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sd(e){if(!Tn(e)||pd(e))return!1;var t=ma(e)?Ed:vd;return t.test(Pt(e))}function Td(e,t){return e==null?void 0:e[t]}function _t(e,t){var n=Td(e,t);return Sd(n)?n:void 0}var vn=_t(We,"Map"),bn=_t(Object,"create");function Od(){this.__data__=bn?bn(null):{},this.size=0}function $d(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Cd="__lodash_hash_undefined__",Rd=Object.prototype,Fd=Rd.hasOwnProperty;function jd(e){var t=this.__data__;if(bn){var n=t[e];return n===Cd?void 0:n}return Fd.call(t,e)?t[e]:void 0}var Ad=Object.prototype,Id=Ad.hasOwnProperty;function Pd(e){var t=this.__data__;return bn?t[e]!==void 0:Id.call(t,e)}var _d="__lodash_hash_undefined__";function Md(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bn&&t===void 0?_d:t,this}function Ct(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ct.prototype.clear=Od;Ct.prototype.delete=$d;Ct.prototype.get=jd;Ct.prototype.has=Pd;Ct.prototype.set=Md;function kd(){this.size=0,this.__data__={hash:new Ct,map:new(vn||Qe),string:new Ct}}function Dd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function yr(e,t){var n=e.__data__;return Dd(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ld(e){var t=yr(this,e).delete(e);return this.size-=t?1:0,t}function Nd(e){return yr(this,e).get(e)}function Vd(e){return yr(this,e).has(e)}function Bd(e,t){var n=yr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ht(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ht.prototype.clear=kd;ht.prototype.delete=Ld;ht.prototype.get=Nd;ht.prototype.has=Vd;ht.prototype.set=Bd;var Hd=200;function zd(e,t){var n=this.__data__;if(n instanceof Qe){var r=n.__data__;if(!vn||r.length<Hd-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ht(r)}return n.set(e,t),this.size=n.size,this}function Jt(e){var t=this.__data__=new Qe(e);this.size=t.size}Jt.prototype.clear=od;Jt.prototype.delete=sd;Jt.prototype.get=ad;Jt.prototype.has=ld;Jt.prototype.set=zd;function qd(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ho=function(){try{var e=_t(Object,"defineProperty");return e({},"",{}),e}catch{}}();function ga(e,t,n){t=="__proto__"&&Ho?Ho(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ud=Object.prototype,Wd=Ud.hasOwnProperty;function va(e,t,n){var r=e[t];(!(Wd.call(e,t)&&ha(r,n))||n===void 0&&!(t in e))&&ga(e,t,n)}function wr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?ga(n,a,l):va(n,a,l)}return n}function Gd(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Kd="[object Arguments]";function zo(e){return It(e)&&At(e)==Kd}var ba=Object.prototype,Yd=ba.hasOwnProperty,Zd=ba.propertyIsEnumerable,Xd=zo(function(){return arguments}())?zo:function(e){return It(e)&&Yd.call(e,"callee")&&!Zd.call(e,"callee")},On=Array.isArray;function Qd(){return!1}var xa=typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,qo=xa&&typeof je=="object"&&je&&!je.nodeType&&je,Jd=qo&&qo.exports===xa,Uo=Jd?We.Buffer:void 0,ef=Uo?Uo.isBuffer:void 0,ya=ef||Qd,tf=9007199254740991,nf=/^(?:0|[1-9]\d*)$/;function rf(e,t){var n=typeof e;return t=t??tf,!!t&&(n=="number"||n!="symbol"&&nf.test(e))&&e>-1&&e%1==0&&e<t}var of=9007199254740991;function wa(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=of}var sf="[object Arguments]",af="[object Array]",lf="[object Boolean]",uf="[object Date]",cf="[object Error]",df="[object Function]",ff="[object Map]",pf="[object Number]",hf="[object Object]",mf="[object RegExp]",gf="[object Set]",vf="[object String]",bf="[object WeakMap]",xf="[object ArrayBuffer]",yf="[object DataView]",wf="[object Float32Array]",Ef="[object Float64Array]",Sf="[object Int8Array]",Tf="[object Int16Array]",Of="[object Int32Array]",$f="[object Uint8Array]",Cf="[object Uint8ClampedArray]",Rf="[object Uint16Array]",Ff="[object Uint32Array]",le={};le[wf]=le[Ef]=le[Sf]=le[Tf]=le[Of]=le[$f]=le[Cf]=le[Rf]=le[Ff]=!0;le[sf]=le[af]=le[xf]=le[lf]=le[yf]=le[uf]=le[cf]=le[df]=le[ff]=le[pf]=le[hf]=le[mf]=le[gf]=le[vf]=le[bf]=!1;function jf(e){return It(e)&&wa(e.length)&&!!le[At(e)]}function qi(e){return function(t){return e(t)}}var Ea=typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,dn=Ea&&typeof je=="object"&&je&&!je.nodeType&&je,Af=dn&&dn.exports===Ea,Zr=Af&&ca.process,Kt=function(){try{var e=dn&&dn.require&&dn.require("util").types;return e||Zr&&Zr.binding&&Zr.binding("util")}catch{}}(),Wo=Kt&&Kt.isTypedArray,If=Wo?qi(Wo):jf,Pf=Object.prototype,_f=Pf.hasOwnProperty;function Sa(e,t){var n=On(e),r=!n&&Xd(e),i=!n&&!r&&ya(e),o=!n&&!r&&!i&&If(e),s=n||r||i||o,a=s?Gd(e.length,String):[],l=a.length;for(var c in e)(t||_f.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rf(c,l)))&&a.push(c);return a}var Mf=Object.prototype;function Ui(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Mf;return e===n}var kf=fa(Object.keys,Object),Df=Object.prototype,Lf=Df.hasOwnProperty;function Nf(e){if(!Ui(e))return kf(e);var t=[];for(var n in Object(e))Lf.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ta(e){return e!=null&&wa(e.length)&&!ma(e)}function Wi(e){return Ta(e)?Sa(e):Nf(e)}function Vf(e,t){return e&&wr(t,Wi(t),e)}function Bf(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Hf=Object.prototype,zf=Hf.hasOwnProperty;function qf(e){if(!Tn(e))return Bf(e);var t=Ui(e),n=[];for(var r in e)r=="constructor"&&(t||!zf.call(e,r))||n.push(r);return n}function Gi(e){return Ta(e)?Sa(e,!0):qf(e)}function Uf(e,t){return e&&wr(t,Gi(t),e)}var Oa=typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,Go=Oa&&typeof je=="object"&&je&&!je.nodeType&&je,Wf=Go&&Go.exports===Oa,Ko=Wf?We.Buffer:void 0,Yo=Ko?Ko.allocUnsafe:void 0;function Gf(e,t){if(t)return e.slice();var n=e.length,r=Yo?Yo(n):new e.constructor(n);return e.copy(r),r}function $a(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Kf(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ca(){return[]}var Yf=Object.prototype,Zf=Yf.propertyIsEnumerable,Zo=Object.getOwnPropertySymbols,Ki=Zo?function(e){return e==null?[]:(e=Object(e),Kf(Zo(e),function(t){return Zf.call(e,t)}))}:Ca;function Xf(e,t){return wr(e,Ki(e),t)}function Ra(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Qf=Object.getOwnPropertySymbols,Fa=Qf?function(e){for(var t=[];e;)Ra(t,Ki(e)),e=zi(e);return t}:Ca;function Jf(e,t){return wr(e,Fa(e),t)}function ja(e,t,n){var r=t(e);return On(e)?r:Ra(r,n(e))}function ep(e){return ja(e,Wi,Ki)}function tp(e){return ja(e,Gi,Fa)}var fi=_t(We,"DataView"),pi=_t(We,"Promise"),hi=_t(We,"Set"),mi=_t(We,"WeakMap"),Xo="[object Map]",np="[object Object]",Qo="[object Promise]",Jo="[object Set]",es="[object WeakMap]",ts="[object DataView]",rp=Pt(fi),ip=Pt(vn),op=Pt(pi),sp=Pt(hi),ap=Pt(mi),Ye=At;(fi&&Ye(new fi(new ArrayBuffer(1)))!=ts||vn&&Ye(new vn)!=Xo||pi&&Ye(pi.resolve())!=Qo||hi&&Ye(new hi)!=Jo||mi&&Ye(new mi)!=es)&&(Ye=function(e){var t=At(e),n=t==np?e.constructor:void 0,r=n?Pt(n):"";if(r)switch(r){case rp:return ts;case ip:return Xo;case op:return Qo;case sp:return Jo;case ap:return es}return t});var lp=Object.prototype,up=lp.hasOwnProperty;function cp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&up.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ns=We.Uint8Array;function Yi(e){var t=new e.constructor(e.byteLength);return new ns(t).set(new ns(e)),t}function dp(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var fp=/\w*$/;function pp(e){var t=new e.constructor(e.source,fp.exec(e));return t.lastIndex=e.lastIndex,t}var rs=at?at.prototype:void 0,is=rs?rs.valueOf:void 0;function hp(e){return is?Object(is.call(e)):{}}function mp(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var gp="[object Boolean]",vp="[object Date]",bp="[object Map]",xp="[object Number]",yp="[object RegExp]",wp="[object Set]",Ep="[object String]",Sp="[object Symbol]",Tp="[object ArrayBuffer]",Op="[object DataView]",$p="[object Float32Array]",Cp="[object Float64Array]",Rp="[object Int8Array]",Fp="[object Int16Array]",jp="[object Int32Array]",Ap="[object Uint8Array]",Ip="[object Uint8ClampedArray]",Pp="[object Uint16Array]",_p="[object Uint32Array]";function Mp(e,t,n){var r=e.constructor;switch(t){case Tp:return Yi(e);case gp:case vp:return new r(+e);case Op:return dp(e,n);case $p:case Cp:case Rp:case Fp:case jp:case Ap:case Ip:case Pp:case _p:return mp(e,n);case bp:return new r;case xp:case Ep:return new r(e);case yp:return pp(e);case wp:return new r;case Sp:return hp(e)}}var os=Object.create,kp=function(){function e(){}return function(t){if(!Tn(t))return{};if(os)return os(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Dp(e){return typeof e.constructor=="function"&&!Ui(e)?kp(zi(e)):{}}var Lp="[object Map]";function Np(e){return It(e)&&Ye(e)==Lp}var ss=Kt&&Kt.isMap,Vp=ss?qi(ss):Np,Bp="[object Set]";function Hp(e){return It(e)&&Ye(e)==Bp}var as=Kt&&Kt.isSet,zp=as?qi(as):Hp,qp=1,Up=2,Wp=4,Aa="[object Arguments]",Gp="[object Array]",Kp="[object Boolean]",Yp="[object Date]",Zp="[object Error]",Ia="[object Function]",Xp="[object GeneratorFunction]",Qp="[object Map]",Jp="[object Number]",Pa="[object Object]",eh="[object RegExp]",th="[object Set]",nh="[object String]",rh="[object Symbol]",ih="[object WeakMap]",oh="[object ArrayBuffer]",sh="[object DataView]",ah="[object Float32Array]",lh="[object Float64Array]",uh="[object Int8Array]",ch="[object Int16Array]",dh="[object Int32Array]",fh="[object Uint8Array]",ph="[object Uint8ClampedArray]",hh="[object Uint16Array]",mh="[object Uint32Array]",se={};se[Aa]=se[Gp]=se[oh]=se[sh]=se[Kp]=se[Yp]=se[ah]=se[lh]=se[uh]=se[ch]=se[dh]=se[Qp]=se[Jp]=se[Pa]=se[eh]=se[th]=se[nh]=se[rh]=se[fh]=se[ph]=se[hh]=se[mh]=!0;se[Zp]=se[Ia]=se[ih]=!1;function fn(e,t,n,r,i,o){var s,a=t&qp,l=t&Up,c=t&Wp;if(s!==void 0)return s;if(!Tn(e))return e;var d=On(e);if(d){if(s=cp(e),!a)return $a(e,s)}else{var p=Ye(e),m=p==Ia||p==Xp;if(ya(e))return Gf(e,a);if(p==Pa||p==Aa||m&&!i){if(s=l||m?{}:Dp(e),!a)return l?Jf(e,Uf(s,e)):Xf(e,Vf(s,e))}else{if(!se[p])return i?e:{};s=Mp(e,p,a)}}o||(o=new Jt);var f=o.get(e);if(f)return f;o.set(e,s),zp(e)?e.forEach(function(b){s.add(fn(b,t,n,b,e,o))}):Vp(e)&&e.forEach(function(b,x){s.set(x,fn(b,t,n,x,e,o))});var g=c?l?tp:ep:l?Gi:Wi,v=d?void 0:g(e);return qd(v||e,function(b,x){v&&(x=b,b=e[x]),va(s,x,fn(b,t,n,x,e,o))}),s}var gh=1,vh=4;function Dn(e){return fn(e,gh|vh)}var ls=Array.isArray,us=Object.keys,bh=Object.prototype.hasOwnProperty,xh=typeof Element<"u";function gi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=ls(e),r=ls(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!gi(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,d=t instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==t.toString();var p=us(e);if(o=p.length,o!==us(t).length)return!1;for(i=o;i--!==0;)if(!bh.call(t,p[i]))return!1;if(xh&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=p[i],!(s==="_owner"&&e.$$typeof)&&!gi(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var yh=function(t,n){try{return gi(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const bt=qs(yh);var wh=4;function cs(e){return fn(e,wh)}function _a(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Eh="[object Symbol]";function Zi(e){return typeof e=="symbol"||It(e)&&At(e)==Eh}var Sh="Expected a function";function Xi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Sh);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Xi.Cache||ht),n}Xi.Cache=ht;var Th=500;function Oh(e){var t=Xi(e,function(r){return n.size===Th&&n.clear(),r}),n=t.cache;return t}var $h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ch=/\\(\\)?/g,Rh=Oh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($h,function(n,r,i,o){t.push(i?o.replace(Ch,"$1"):r||n)}),t}),Fh=1/0;function jh(e){if(typeof e=="string"||Zi(e))return e;var t=e+"";return t=="0"&&1/e==-Fh?"-0":t}var Ah=1/0,ds=at?at.prototype:void 0,fs=ds?ds.toString:void 0;function Ma(e){if(typeof e=="string")return e;if(On(e))return _a(e,Ma)+"";if(Zi(e))return fs?fs.call(e):"";var t=e+"";return t=="0"&&1/e==-Ah?"-0":t}function Ih(e){return e==null?"":Ma(e)}function ka(e){return On(e)?_a(e,jh):Zi(e)?[e]:$a(Rh(Ih(e)))}function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function qt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Er=u.createContext(void 0);Er.displayName="FormikContext";var Ph=Er.Provider;Er.Consumer;function Je(){var e=u.useContext(Er);return e}var $e=function(t){return typeof t=="function"},Sr=function(t){return t!==null&&typeof t=="object"},_h=function(t){return String(Math.floor(Number(t)))===t},Xr=function(t){return Object.prototype.toString.call(t)==="[object String]"},Mh=function(t){return u.Children.count(t)===0},Qr=function(t){return Sr(t)&&$e(t.then)};function Oe(e,t,n,r){r===void 0&&(r=0);for(var i=ka(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function Tt(e,t,n){for(var r=cs(e),i=r,o=0,s=ka(t);o<s.length-1;o++){var a=s[o],l=Oe(e,s.slice(0,o+1));if(l&&(Sr(l)||Array.isArray(l)))i=i[a]=cs(l);else{var c=s[o+1];i=i[a]=_h(c)&&Number(c)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Da(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];Sr(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Da(a,t,n,r[s])):r[s]=t}return r}function kh(e,t){switch(t.type){case"SET_VALUES":return ue({},e,{values:t.payload});case"SET_TOUCHED":return ue({},e,{touched:t.payload});case"SET_ERRORS":return bt(e.errors,t.payload)?e:ue({},e,{errors:t.payload});case"SET_STATUS":return ue({},e,{status:t.payload});case"SET_ISSUBMITTING":return ue({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return ue({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return ue({},e,{values:Tt(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return ue({},e,{touched:Tt(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return ue({},e,{errors:Tt(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return ue({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return ue({},e,{touched:Da(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return ue({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ue({},e,{isSubmitting:!1});default:return e}}var vt={},Ln={};function Dh(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,c=l===void 0?!1:l,d=e.onSubmit,p=qt(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=ue({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},p),f=u.useRef(m.initialValues),g=u.useRef(m.initialErrors||vt),v=u.useRef(m.initialTouched||Ln),b=u.useRef(m.initialStatus),x=u.useRef(!1),E=u.useRef({});u.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var w=u.useState(0),S=w[1],T=u.useRef({values:Dn(m.initialValues),errors:Dn(m.initialErrors)||vt,touched:Dn(m.initialTouched)||Ln,status:Dn(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=T.current,$=u.useCallback(function(y){var M=T.current;T.current=kh(M,y),M!==T.current&&S(function(N){return N+1})},[]),P=u.useCallback(function(y,M){return new Promise(function(N,H){var Y=m.validate(y,M);Y==null?N(vt):Qr(Y)?Y.then(function(te){N(te||vt)},function(te){H(te)}):N(Y)})},[m.validate]),_=u.useCallback(function(y,M){var N=m.validationSchema,H=$e(N)?N(M):N,Y=M&&H.validateAt?H.validateAt(M,y):Nh(y,H);return new Promise(function(te,ve){Y.then(function(){te(vt)},function(Ge){Ge.name==="ValidationError"?te(Lh(Ge)):ve(Ge)})})},[m.validationSchema]),B=u.useCallback(function(y,M){return new Promise(function(N){return N(E.current[y].validate(M))})},[]),R=u.useCallback(function(y){var M=Object.keys(E.current).filter(function(H){return $e(E.current[H].validate)}),N=M.length>0?M.map(function(H){return B(H,Oe(y,H))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(N).then(function(H){return H.reduce(function(Y,te,ve){return te==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||te&&(Y=Tt(Y,M[ve],te)),Y},{})})},[B]),z=u.useCallback(function(y){return Promise.all([R(y),m.validationSchema?_(y):{},m.validate?P(y):{}]).then(function(M){var N=M[0],H=M[1],Y=M[2],te=di.all([N,H,Y],{arrayMerge:Vh});return te})},[m.validate,m.validationSchema,R,P,_]),I=_e(function(y){return y===void 0&&(y=O.values),$({type:"SET_ISVALIDATING",payload:!0}),z(y).then(function(M){return x.current&&($({type:"SET_ISVALIDATING",payload:!1}),$({type:"SET_ERRORS",payload:M})),M})});u.useEffect(function(){s&&x.current===!0&&bt(f.current,m.initialValues)&&I(f.current)},[s,I]);var L=u.useCallback(function(y){var M=y&&y.values?y.values:f.current,N=y&&y.errors?y.errors:g.current?g.current:m.initialErrors||{},H=y&&y.touched?y.touched:v.current?v.current:m.initialTouched||{},Y=y&&y.status?y.status:b.current?b.current:m.initialStatus;f.current=M,g.current=N,v.current=H,b.current=Y;var te=function(){$({type:"RESET_FORM",payload:{isSubmitting:!!y&&!!y.isSubmitting,errors:N,touched:H,status:Y,values:M,isValidating:!!y&&!!y.isValidating,submitCount:y&&y.submitCount&&typeof y.submitCount=="number"?y.submitCount:0}})};if(m.onReset){var ve=m.onReset(O.values,q);Qr(ve)?ve.then(te):te()}else te()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);u.useEffect(function(){x.current===!0&&!bt(f.current,m.initialValues)&&c&&(f.current=m.initialValues,L(),s&&I(f.current))},[c,m.initialValues,L,s,I]),u.useEffect(function(){c&&x.current===!0&&!bt(g.current,m.initialErrors)&&(g.current=m.initialErrors||vt,$({type:"SET_ERRORS",payload:m.initialErrors||vt}))},[c,m.initialErrors]),u.useEffect(function(){c&&x.current===!0&&!bt(v.current,m.initialTouched)&&(v.current=m.initialTouched||Ln,$({type:"SET_TOUCHED",payload:m.initialTouched||Ln}))},[c,m.initialTouched]),u.useEffect(function(){c&&x.current===!0&&!bt(b.current,m.initialStatus)&&(b.current=m.initialStatus,$({type:"SET_STATUS",payload:m.initialStatus}))},[c,m.initialStatus,m.initialTouched]);var G=_e(function(y){if(E.current[y]&&$e(E.current[y].validate)){var M=Oe(O.values,y),N=E.current[y].validate(M);return Qr(N)?($({type:"SET_ISVALIDATING",payload:!0}),N.then(function(H){return H}).then(function(H){$({type:"SET_FIELD_ERROR",payload:{field:y,value:H}}),$({type:"SET_ISVALIDATING",payload:!1})})):($({type:"SET_FIELD_ERROR",payload:{field:y,value:N}}),Promise.resolve(N))}else if(m.validationSchema)return $({type:"SET_ISVALIDATING",payload:!0}),_(O.values,y).then(function(H){return H}).then(function(H){$({type:"SET_FIELD_ERROR",payload:{field:y,value:Oe(H,y)}}),$({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Q=u.useCallback(function(y,M){var N=M.validate;E.current[y]={validate:N}},[]),j=u.useCallback(function(y){delete E.current[y]},[]),V=_e(function(y,M){$({type:"SET_TOUCHED",payload:y});var N=M===void 0?i:M;return N?I(O.values):Promise.resolve()}),C=u.useCallback(function(y){$({type:"SET_ERRORS",payload:y})},[]),K=_e(function(y,M){var N=$e(y)?y(O.values):y;$({type:"SET_VALUES",payload:N});var H=M===void 0?n:M;return H?I(N):Promise.resolve()}),X=u.useCallback(function(y,M){$({type:"SET_FIELD_ERROR",payload:{field:y,value:M}})},[]),k=_e(function(y,M,N){$({type:"SET_FIELD_VALUE",payload:{field:y,value:M}});var H=N===void 0?n:N;return H?I(Tt(O.values,y,M)):Promise.resolve()}),ee=u.useCallback(function(y,M){var N=M,H=y,Y;if(!Xr(y)){y.persist&&y.persist();var te=y.target?y.target:y.currentTarget,ve=te.type,Ge=te.name,Ur=te.id,Wr=te.value,Du=te.checked,xx=te.outerHTML,Ao=te.options,Lu=te.multiple;N=M||Ge||Ur,H=/number|range/.test(ve)?(Y=parseFloat(Wr),isNaN(Y)?"":Y):/checkbox/.test(ve)?Hh(Oe(O.values,N),Du,Wr):Ao&&Lu?Bh(Ao):Wr}N&&k(N,H)},[k,O.values]),re=_e(function(y){if(Xr(y))return function(M){return ee(M,y)};ee(y)}),ae=_e(function(y,M,N){M===void 0&&(M=!0),$({type:"SET_FIELD_TOUCHED",payload:{field:y,value:M}});var H=N===void 0?i:N;return H?I(O.values):Promise.resolve()}),J=u.useCallback(function(y,M){y.persist&&y.persist();var N=y.target,H=N.name,Y=N.id,te=N.outerHTML,ve=M||H||Y;ae(ve,!0)},[ae]),ge=_e(function(y){if(Xr(y))return function(M){return J(M,y)};J(y)}),xe=u.useCallback(function(y){$e(y)?$({type:"SET_FORMIK_STATE",payload:y}):$({type:"SET_FORMIK_STATE",payload:function(){return y}})},[]),Nt=u.useCallback(function(y){$({type:"SET_STATUS",payload:y})},[]),Vt=u.useCallback(function(y){$({type:"SET_ISSUBMITTING",payload:y})},[]),oe=_e(function(){return $({type:"SUBMIT_ATTEMPT"}),I().then(function(y){var M=y instanceof Error,N=!M&&Object.keys(y).length===0;if(N){var H;try{if(H=ie(),H===void 0)return}catch(Y){throw Y}return Promise.resolve(H).then(function(Y){return x.current&&$({type:"SUBMIT_SUCCESS"}),Y}).catch(function(Y){if(x.current)throw $({type:"SUBMIT_FAILURE"}),Y})}else if(x.current&&($({type:"SUBMIT_FAILURE"}),M))throw y})}),pe=_e(function(y){y&&y.preventDefault&&$e(y.preventDefault)&&y.preventDefault(),y&&y.stopPropagation&&$e(y.stopPropagation)&&y.stopPropagation(),oe().catch(function(M){console.warn("Warning: An unhandled error was caught from submitForm()",M)})}),q={resetForm:L,validateForm:I,validateField:G,setErrors:C,setFieldError:X,setFieldTouched:ae,setFieldValue:k,setStatus:Nt,setSubmitting:Vt,setTouched:V,setValues:K,setFormikState:xe,submitForm:oe},ie=_e(function(){return d(O.values,q)}),Pe=_e(function(y){y&&y.preventDefault&&$e(y.preventDefault)&&y.preventDefault(),y&&y.stopPropagation&&$e(y.stopPropagation)&&y.stopPropagation(),L()}),Bt=u.useCallback(function(y){return{value:Oe(O.values,y),error:Oe(O.errors,y),touched:!!Oe(O.touched,y),initialValue:Oe(f.current,y),initialTouched:!!Oe(v.current,y),initialError:Oe(g.current,y)}},[O.errors,O.touched,O.values]),kn=u.useCallback(function(y){return{setValue:function(N,H){return k(y,N,H)},setTouched:function(N,H){return ae(y,N,H)},setError:function(N){return X(y,N)}}},[k,ae,X]),_u=u.useCallback(function(y){var M=Sr(y),N=M?y.name:y,H=Oe(O.values,N),Y={name:N,value:H,onChange:re,onBlur:ge};if(M){var te=y.type,ve=y.value,Ge=y.as,Ur=y.multiple;te==="checkbox"?ve===void 0?Y.checked=!!H:(Y.checked=!!(Array.isArray(H)&&~H.indexOf(ve)),Y.value=ve):te==="radio"?(Y.checked=H===ve,Y.value=ve):Ge==="select"&&Ur&&(Y.value=Y.value||[],Y.multiple=!0)}return Y},[ge,re,O.values]),qr=u.useMemo(function(){return!bt(f.current,O.values)},[f.current,O.values]),Mu=u.useMemo(function(){return typeof a<"u"?qr?O.errors&&Object.keys(O.errors).length===0:a!==!1&&$e(a)?a(m):a:O.errors&&Object.keys(O.errors).length===0},[a,qr,O.errors,m]),ku=ue({},O,{initialValues:f.current,initialErrors:g.current,initialTouched:v.current,initialStatus:b.current,handleBlur:ge,handleChange:re,handleReset:Pe,handleSubmit:pe,resetForm:L,setErrors:C,setFormikState:xe,setFieldTouched:ae,setFieldValue:k,setFieldError:X,setStatus:Nt,setSubmitting:Vt,setTouched:V,setValues:K,submitForm:oe,validateForm:I,validateField:G,isValid:Mu,dirty:qr,unregisterField:j,registerField:Q,getFieldProps:_u,getFieldMeta:Bt,getFieldHelpers:kn,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return ku}function Tr(e){var t=Dh(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return u.useImperativeHandle(o,function(){return t}),u.createElement(Ph,{value:t},n?u.createElement(n,t):i?i(t):r?$e(r)?r(t):Mh(r)?null:u.Children.only(r):null)}function Lh(e){var t={};if(e.inner){if(e.inner.length===0)return Tt(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Oe(t,s.path)||(t=Tt(t,s.path,s.message))}}return t}function Nh(e,t,n,r){n===void 0&&(n=!1);var i=vi(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function vi(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||Vo(i)?vi(i):i!==""?i:void 0}):Vo(e[r])?t[r]=vi(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function Vh(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?di(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=di(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function Bh(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Hh(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var zh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect;function _e(e){var t=u.useRef(e);return zh(function(){t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function Yt(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=e.className,l=qt(e,["validate","name","render","children","as","component","className"]),c=Je(),d=qt(c,["validate","validationSchema"]),p=d.registerField,m=d.unregisterField;u.useEffect(function(){return p(n,{validate:t}),function(){m(n)}},[p,m,n,t]);var f=d.getFieldProps(ue({name:n},l)),g=d.getFieldMeta(n),v={field:f,form:d};if(r)return r(ue({},v,{meta:g}));if($e(i))return i(ue({},v,{meta:g}));if(s){if(typeof s=="string"){var b=l.innerRef,x=qt(l,["innerRef"]);return u.createElement(s,ue({ref:b},f,x,{className:a}),i)}return u.createElement(s,ue({field:f,form:d},l,{className:a}),i)}var E=o||"input";if(typeof E=="string"){var w=l.innerRef,S=qt(l,["innerRef"]);return u.createElement(E,ue({ref:w},f,S,{className:a}),i)}return u.createElement(E,ue({},f,l,{className:a}),i)}var $n=u.forwardRef(function(e,t){var n=e.action,r=qt(e,["action"]),i=n??"#",o=Je(),s=o.handleReset,a=o.handleSubmit;return u.createElement("form",ue({onSubmit:a,ref:t,onReset:s,action:i},r))});$n.displayName="Form";function Mt(e){this._maxSize=e,this.clear()}Mt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Mt.prototype.get=function(e){return this._values[e]};Mt.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var qh=/[^.^\]^[]+|(?=\[\]|\.\.)/g,La=/^\d+$/,Uh=/^\d/,Wh=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Gh=/^\s*(['"]?)(.*?)(\1)\s*$/,Qi=512,ps=new Mt(Qi),hs=new Mt(Qi),ms=new Mt(Qi),Ot={Cache:Mt,split:bi,normalizePath:Jr,setter:function(e){var t=Jr(e);return hs.get(e)||hs.set(e,function(r,i){for(var o=0,s=t.length,a=r;o<s-1;){var l=t[o];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[t[o++]]}a[t[o]]=i})},getter:function(e,t){var n=Jr(e);return ms.get(e)||ms.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(Ji(n)||La.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){Kh(Array.isArray(e)?e:bi(e),t,n)}};function Jr(e){return ps.get(e)||ps.set(e,bi(e).map(function(t){return t.replace(Gh,"$2")}))}function bi(e){return e.match(qh)||[""]}function Kh(e,t,n){var r=e.length,i,o,s,a;for(o=0;o<r;o++)i=e[o],i&&(Xh(i)&&(i='"'+i+'"'),a=Ji(i),s=!a&&/^\d+$/.test(i),t.call(n,i,a,s,o,e))}function Ji(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function Yh(e){return e.match(Uh)&&!e.match(La)}function Zh(e){return Wh.test(e)}function Xh(e){return!Ji(e)&&(Yh(e)||Zh(e))}const Qh=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Or=e=>e.match(Qh)||[],$r=e=>e[0].toUpperCase()+e.slice(1),eo=(e,t)=>Or(e).join(t).toLowerCase(),Na=e=>Or(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Jh=e=>$r(Na(e)),em=e=>eo(e,"_"),tm=e=>eo(e,"-"),nm=e=>$r(eo(e," ")),rm=e=>Or(e).map($r).join(" ");var ei={words:Or,upperFirst:$r,camelCase:Na,pascalCase:Jh,snakeCase:em,kebabCase:tm,sentenceCase:nm,titleCase:rm},to={exports:{}};to.exports=function(e){return Va(im(e),e)};to.exports.array=Va;function Va(e,t){var n=e.length,r=new Array(n),i={},o=n,s=om(t),a=sm(e);for(t.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||l(e[o],o,new Set);return r;function l(c,d,p){if(p.has(c)){var m;try{m=", node was:"+JSON.stringify(c)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[d]){i[d]=!0;var f=s.get(c)||new Set;if(f=Array.from(f),d=f.length){p.add(c);do{var g=f[--d];l(g,a.get(g),p)}while(d);p.delete(c)}r[--n]=c}}}function im(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function om(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function sm(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var am=to.exports;const lm=qs(am),um=Object.prototype.toString,cm=Error.prototype.toString,dm=RegExp.prototype.toString,fm=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",pm=/^Symbol\((.*)\)(.*)$/;function hm(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function gs(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return hm(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return fm.call(e).replace(pm,"Symbol($1)");const r=um.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+cm.call(e)+"]":r==="RegExp"?dm.call(e):null}function Xe(e,t){let n=gs(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=gs(this[r],t);return o!==null?o:i},2)}function Ba(e){return e==null?[]:[].concat(e)}let Ha,za,qa,mm=/\$\{\s*(\w+)\s*\}/g;Ha=Symbol.toStringTag;class vs{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ha]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Ba(t).forEach(o=>{if(Ee.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}za=Symbol.hasInstance;qa=Symbol.toStringTag;class Ee extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof t=="string"?t.replace(mm,(i,o)=>Xe(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new vs(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[qa]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ee)}static[za](t){return vs[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let qe={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Xe(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Xe(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Xe(n,!0)}\``+i}},we={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},nt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},xi={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gm={isValue:"${path} field must be ${value}"},yi={noUnknown:"${path} field has unspecified keys: ${unknown}"},zn={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},vm={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Xe(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Xe(n,!0)}\``}return Ee.formatError(qe.notType,e)}};Object.assign(Object.create(null),{mixed:qe,string:we,number:nt,date:xi,object:yi,array:zn,boolean:gm,tuple:vm});const Cr=e=>e&&e.__isYupSchema__;class Yn{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Yn(t,(a,l)=>{var c;let d=s(...a)?i:o;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!Cr(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Nn={context:"$",value:"."};class kt{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Nn.context,this.isValue=this.key[0]===Nn.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Nn.context:this.isValue?Nn.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ot.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}kt.prototype.__isYupRef=!0;const Ze=e=>e==null;function Ht(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},a,l){const{name:c,test:d,params:p,message:m,skipAbsent:f}=e;let{parent:g,context:v,abortEarly:b=s.spec.abortEarly,disableStackTrace:x=s.spec.disableStackTrace}=i;function E(R){return kt.isRef(R)?R.getValue(n,g,v):R}function w(R={}){const z=Object.assign({value:n,originalValue:o,label:s.spec.label,path:R.path||r,spec:s.spec,disableStackTrace:R.disableStackTrace||x},p,R.params);for(const L of Object.keys(z))z[L]=E(z[L]);const I=new Ee(Ee.formatError(R.message||m,z),n,z.path,R.type||c,z.disableStackTrace);return I.params=z,I}const S=b?a:l;let T={path:r,parent:g,type:c,from:i.from,createError:w,resolve:E,options:i,originalValue:o,schema:s};const O=R=>{Ee.isError(R)?S(R):R?l(null):S(w())},$=R=>{Ee.isError(R)?S(R):a(R)};if(f&&Ze(n))return O(!0);let _;try{var B;if(_=d.call(T,n,T),typeof((B=_)==null?void 0:B.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(_).then(O,$)}}catch(R){$(R);return}O(_)}return t.OPTIONS=e,t}function bm(e,t,n,r=n){let i,o,s;return t?(Ot.forEach(t,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let p=e.type==="tuple",m=c?parseInt(d,10):0;if(e.innerType||p){if(p&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[m],e=p?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[d],e=e.fields[d]}o=d,s=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class Zn extends Set{describe(){const t=[];for(const n of this.values())t.push(kt.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Zn(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ut(e,t=new Map){if(Cr(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Ut(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Ut(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Ut(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Ut(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Le{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Zn,this._blacklist=new Zn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(qe.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ut(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Ze(o))return o;let s=Xe(t),a=Xe(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:o,value:l,originalValue:s,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:o,value:l,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:l,options:c}=t,d=v=>{i||(i=!0,n(v,s))},p=v=>{i||(i=!0,r(v,s))},m=o.length,f=[];if(!m)return p([]);let g={value:s,originalValue:a,path:l,options:c,schema:this};for(let v=0;v<o.length;v++){const b=o[v];b(g,d,function(E){E&&(Array.isArray(E)?f.push(...E):f.push(E)),--m<=0&&p(f)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},s,{strict:!0,parent:r,value:c,originalValue:o[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(p,m,f)=>this.resolve(d)._validate(c,d,m,f)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(t,n,(l,c)=>{Ee.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Ee(l,c,void 0,void 0,o)):s(c)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(a,l)=>{throw Ee.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Ee(a,t,void 0,void 0,s);o=l}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Ee.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Ee.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Ut(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Ht({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Ht({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=qe.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=qe.notNull){return this.nullability(!1,t)}required(t=qe.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=qe.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Ht(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=Ba(t).map(o=>new kt(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Yn(i,n):Yn.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Ht({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=qe.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Ht({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=qe.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Ht({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(p=>p.name===l.name)===c)}}}Le.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Le.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=bm(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Le.prototype[e]=Le.prototype.oneOf;for(const e of["not","nope"])Le.prototype[e]=Le.prototype.notOneOf;const xm=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ym(e){const t=wi(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function wi(e){var t,n;const r=xm.exec(e);return r?{year:Ke(r[1]),month:Ke(r[2],1)-1,day:Ke(r[3],1),hour:Ke(r[4]),minute:Ke(r[5]),second:Ke(r[6]),millisecond:r[7]?Ke(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ke(r[10]),minuteOffset:Ke(r[11])}:null}function Ke(e,t=0){return Number(e)||t}let wm=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Em=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Sm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Tm="^\\d{4}-\\d{2}-\\d{2}",Om="\\d{2}:\\d{2}:\\d{2}",$m="(([+-]\\d{2}(:?\\d{2})?)|Z)",Cm=new RegExp(`${Tm}T${Om}(\\.\\d+)?${$m}$`),Rm=e=>Ze(e)||e===e.trim(),Fm={}.toString();function Be(){return new Ua}class Ua extends Le{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===Fm?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||qe.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=we.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=we.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=we.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||we.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=we.email){return this.matches(wm,{name:"email",message:t,excludeEmptyString:!0})}url(t=we.url){return this.matches(Em,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=we.uuid){return this.matches(Sm,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(Cm,{name:"datetime",message:n||we.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||we.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=wi(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||we.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=wi(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=we.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Rm})}lowercase(t=we.lowercase){return this.transform(n=>Ze(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ze(n)||n===n.toLowerCase()})}uppercase(t=we.uppercase){return this.transform(n=>Ze(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ze(n)||n===n.toUpperCase()})}}Be.prototype=Ua.prototype;let jm=e=>e!=+e;function Wa(){return new Ga}class Ga extends Le{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!jm(t)}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce)return t;let i=t;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(t,n=nt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(t)}})}max(t,n=nt.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(t)}})}lessThan(t,n=nt.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(r){return r<this.resolve(t)}})}moreThan(t,n=nt.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(r){return r>this.resolve(t)}})}positive(t=nt.positive){return this.moreThan(0,t)}negative(t=nt.negative){return this.lessThan(0,t)}integer(t=nt.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Ze(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Ze(i)?i:Math[t](i))}}Wa.prototype=Ga.prototype;let Am=new Date(""),Im=e=>Object.prototype.toString.call(e)==="[object Date]";class Rr extends Le{constructor(){super({type:"date",check(t){return Im(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=ym(t),isNaN(t)?Rr.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(kt.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=xi.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=xi.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Rr.INVALID_DATE=Am;Rr.prototype;function Pm(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=Ot.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s of Object.keys(e)){let a=e[s];r.add(s),kt.isRef(a)&&a.isSibling?o(a.path,s):Cr(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return lm.array(Array.from(r),n).reverse()}function bs(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function Ka(e){return(t,n)=>bs(e,t)-bs(e,n)}const Ya=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function qn(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=qn(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=qn(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(qn)}):"optional"in e?e.optional():e}const _m=(e,t)=>{const n=[...Ot.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Ot.getter(Ot.join(n),!0)(e);return!!(i&&r in i)};let xs=e=>Object.prototype.toString.call(e)==="[object Object]";function Mm(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const km=Ka([]);function en(e){return new Za(e)}class Za extends Le{constructor(t){super({type:"object",check(n){return xs(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=km,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const p of a){let m=o[p],f=p in i;if(m){let g,v=i[p];c.path=(n.path?`${n.path}.`:"")+p,m=m.resolve({value:v,context:n.context,parent:l});let b=m instanceof Le?m.spec:void 0,x=b==null?void 0:b.strict;if(b!=null&&b.strip){d=d||p in i;continue}g=!n.__validating||!x?m.cast(i[p],c):i[p],g!==void 0&&(l[p]=g)}else f&&!s&&(l[p]=i[p]);(f!==p in l||l[p]!==i[p])&&(d=!0)}return d?l:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(l,c)=>{if(!a||!xs(c)){i(l,c);return}s=s||c;let d=[];for(let p of this._nodes){let m=this.fields[p];!m||kt.isRef(m)||d.push(m.asNestedTest({options:n,key:p,parent:c,parentPath:n.path,originalParent:s}))}this.runTests({tests:d,value:c,originalValue:s,options:n},r,p=>{i(p.sort(this._sortErrors).concat(l),c)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=Pm(t,n),r._sortErrors=Ka(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return qn(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=Ot.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return _m(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(Ya)}noUnknown(t=!0,n=yi.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=Mm(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=yi.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(ei.camelCase)}snakeCase(){return this.transformKeys(ei.snakeCase)}constantCase(){return this.transformKeys(t=>ei.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}en.prototype=Za.prototype;function Xa(e){return new Qa(e)}class Qa extends Le{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const l=this.innerType.cast(s,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==s&&(i=!0),l});return i?o:r}_validate(t,n={},r,i){var o;let s=this.innerType,a=(o=n.recursive)!=null?o:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,r,(l,c)=>{var d;if(!a||!s||!this._typeCheck(c)){i(l,c);return}let p=new Array(c.length);for(let f=0;f<c.length;f++){var m;p[f]=s.asNestedTest({options:n,index:f,parent:c,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:t})}this.runTests({value:c,tests:p,originalValue:(d=n.originalValue)!=null?d:t,options:n},r,f=>i(f.concat(l),c))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(Ya)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!Cr(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Xe(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=zn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n){return n=n||zn.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n){return n=n||zn.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);if(n.innerType){var i;let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[0]})),r.innerType=n.innerType.describe(o)}return r}}Xa.prototype=Qa.prototype;const Ja=e=>(e.preventDefault(),e.returnValue="");function el(){return window.addEventListener("beforeunload",Ja,{capture:!0})}function no(){return window.removeEventListener("beforeunload",Ja,{capture:!0})}function Fr(){const{formData:e}=Ne(),{dirty:t}=Je();return u.useEffect(()=>t||Object.keys(e).length?el():no(),[t,e]),null}function tl(){const{formData:e}=Ne();return u.useEffect(()=>e?el():no(),[e]),null}function mt({children:e,className:t="",disabled:n=!1,onClick:r=()=>null,size:i="md",type:o="button",variant:s="primary"}){return h.jsx("button",{className:De("inline-flex w-fit items-center justify-center rounded border-b-2 shadow transition-buttons duration-200 px-4 py-2 font-semibold","hover:shadow-lg","focus:ring-offset-white focus:outline-none focus:ring-2 focus:ring-offset-2",s==="primary"?"bg-oxford-600 border-b-oxford-700 text-white hover:bg-oxford-700 focus:bg-oxford-700 focus:ring-oxford-500":null,s==="danger"?"bg-bn-ribbon-600 border-b-bn-ribbon-700 text-white hover:bg-bn-ribbon-700 focus:bg-bn-ribbon-700 focus:ring-bn-ribbon-500":null,s==="danger-outline"?"bg-bn-ribbon-50 border border-bn-ribbon-200 border-b-bn-ribbon-200 text-bn-ribbon-700 hover:bg-bn-ribbon-100 focus:bg-bn-ribbon-100 focus:ring-bn-ribbon-400":null,i==="sm"?"text-sm !px-2 !py-1.5 font-normal":null,n?"opacity-75 cursor-not-allowed !bg-gray-700 !border-b-gray-800":null,t),disabled:n,onClick:r,type:o,children:e})}mt.propTypes={children:A.node.isRequired,className:A.string,disabled:A.bool,onClick:A.func,size:A.oneOf(["sm","md","lg"]),type:A.oneOf(["button","submit","reset"]),variant:A.oneOf(["primary","danger","danger-outline"])};function lt({children:e}){return h.jsx("div",{className:"border-l-2 border-l-bn-ribbon-600 bg-bn-ribbon-100 max-w-prose p-2 pl-4 mt-2 text-sm font-semibold text-bn-ribbon-800",children:e})}lt.propTypes={children:A.node.isRequired};function nl({field:e,min:t=null,max:n=null}){const{values:r}=Je(),i=r==null?void 0:r[e].length;return i===n?h.jsx("p",{className:"text-sm",children:"No characters remaining"}):i<t?h.jsxs("p",{className:"text-sm",children:[i-t," more characters required"]}):i<n?h.jsxs("p",{className:"text-sm",children:[n-i," characters remaining"]}):i>n?h.jsxs("p",{className:"text-sm",children:["Remove ",i-n," characters"]}):h.jsx("p",{className:"text-sm",children:" chars remaining"})}nl.propTypes={field:A.string.isRequired,min:A.number,max:A.number};function ro({children:e}){return h.jsx("div",{className:"-mt-2 mb-0.5 text-sm text-gray-700 flex flex-col gap-y-1",children:e})}ro.propTypes={children:A.node.isRequired};function Ei({characterCount:e=!1,children:t=null,className:n=null,hintText:r=null,id:i,label:o,maxlength:s=null,minlength:a=null,name:l,placeholder:c=null,required:d=!1,resize:p,rows:m=8,value:f=""}){const{setFieldValue:g,values:v}=Je();return u.useEffect(()=>{g(i,v[i]||f)},[]),h.jsxs("div",{className:`flex flex-col gap-y-3 text-lg leading-tight ${n}`,children:[h.jsx("label",{className:"font-semibold tracking-tight",htmlFor:i,children:o}),r?h.jsx(ro,{children:r}):null,h.jsx(Yt,{as:"textarea",className:`
          mt-1 block w-full max-w-prose rounded-md border-gray-400 text-gray-900 shadow-sm
          ${p?"":"resize-none"}
          sm:text-sm
          focus:outline-none focus:ring-oxford-500 focus:border-oxford-500
        `,maxLength:s,minLength:a,name:l,placeholder:c,required:d,rows:m}),e&&(a||s)?h.jsx(nl,{field:i,max:s,min:a}):null,t]})}Ei.propTypes={characterCount:A.bool,children:A.node,className:A.string,hintText:A.node,id:A.string.isRequired,label:A.string.isRequired,maxlength:A.number,minlength:A.number,name:A.string.isRequired,placeholder:A.string,required:A.bool,resize:A.bool.isRequired,rows:A.number,value:A.string};function Dm(){const[,e]=pt(),{formData:t,setFormData:n}=Ne();if(Sn(["codelistA","codelistB","timeOption","filterPopulation"]))return h.jsx(En,{to:""});const r=en().shape({purpose:Be().required("Write a purpose for this analysis").min(1,"Add a purpose").max(1e3,"Purpose is too long"),title:Be().required("Write a title for this analysis").min(1,"Add a title").max(140,"Title is too long")}),i={purpose:t.purpose||"",title:t.title||""};return h.jsx(Tr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/review-request")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>h.jsxs($n,{className:"flex flex-col gap-y-4",children:[h.jsx(Fr,{}),h.jsx("h1",{className:"text-4xl font-bold",children:"Analysis information"}),h.jsx(Ei,{characterCount:!0,className:"mb-6",hintText:h.jsxs(h.Fragment,{children:[h.jsx("p",{children:"The title will be shown at the top of the generated report. It should provide a short summary to anyone reading the report about what the analysis shows."}),h.jsx("p",{children:"You will be able to change this after the report is generated."})]}),id:"title",label:"Provide a title for the analysis",maxlength:140,name:"title",placeholder:"",required:!0,resize:!1,rows:2,value:`${t.codelistA.label} & ${t.codelistB.label} during the COVID-19 pandemic`,children:o.title&&a.title?h.jsx(lt,{children:o.title}):null}),h.jsx(Ei,{characterCount:!0,hintText:h.jsxs(h.Fragment,{children:[h.jsx("p",{children:"It must be clear that this analysis request is aligned with your approvals."}),h.jsx("p",{children:"Please refer to the approved version of your project application form, which you were sent by email."})]}),id:"purpose",label:"Explain why this analysis fits with the approved project purpose",maxlength:1e3,name:"purpose",required:!0,resize:!1}),o.purpose&&a.purpose?h.jsx(lt,{children:o.purpose}):null,h.jsx("div",{className:"flex flex-row w-full gap-2 mt-4",children:h.jsx(mt,{disabled:!s,type:"submit",children:"Next"})})]})})}const Me=["The number of people who had","added to their health record each month from","to","who have also had","added to their health record in the same month as","or"],rl="before.",Ve="at any time prior.",Un=e=>`up to ${e.timeValue} ${e.timeScale} before.`;function Xn({children:e,legend:t,hideLegend:n=!1}){return h.jsxs("fieldset",{children:[h.jsx("legend",{className:n?"sr-only":"text-2xl font-bold mb-4",children:h.jsx("h2",{children:t})}),h.jsx("div",{className:"flex flex-col gap-4",children:e})]})}Xn.propTypes={children:A.node.isRequired,hideLegend:A.bool,legend:A.string.isRequired};function Qn({children:e=null,id:t,label:n,labelClassName:r=null,name:i,onClick:o=()=>null,value:s}){return h.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[h.jsx(Yt,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:t,name:i,onClick:o,type:"radio",value:s}),h.jsx("label",{"aria-label":e?n:null,className:`cursor-pointer touch-manipulation tracking-tight ${r||""}`,htmlFor:t,children:e||n})]})}Qn.propTypes={children:A.node,id:A.string.isRequired,label:A.string.isRequired,labelClassName:A.string,name:A.string.isRequired,onClick:A.func,value:A.string.isRequired};const il=typeof document<"u"?D.useLayoutEffect:()=>{};function Lm(e){const t=u.useRef(null);return il(()=>{t.current=e},[e]),u.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Cn=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Et=e=>e&&"window"in e&&e.window===e?e:Cn(e).defaultView||window;function Nm(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Vm(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Bm(){return Vm(/^Mac/i)}function Hm(){return Nm(/Android/i)}function zm(e){return e.mozInputSource===0&&e.isTrusted?!0:Hm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class qm{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function ol(e){let t=u.useRef({isFocused:!1,observer:null});il(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Lm(r=>{e==null||e(r)});return u.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{t.current.isFocused=!1,i.disabled&&n(new qm("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Um(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=u.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=ol(o),a=u.useCallback(l=>{const c=Cn(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}let Rn=null,Si=new Set,pn=new Map,Rt=!1,Ti=!1;const Wm={Tab:!0,Escape:!0};function io(e,t){for(let n of Si)n(e,t)}function Gm(e){return!(e.metaKey||!Bm()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Jn(e){Rt=!0,Gm(e)&&(Rn="keyboard",io("keyboard",e))}function ke(e){Rn="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Rt=!0,io("pointer",e))}function sl(e){zm(e)&&(Rt=!0,Rn="virtual")}function al(e){e.target===window||e.target===document||(!Rt&&!Ti&&(Rn="virtual",io("virtual",e)),Rt=!1,Ti=!1)}function ll(){Rt=!1,Ti=!0}function Oi(e){if(typeof window>"u"||pn.get(Et(e)))return;const t=Et(e),n=Cn(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Rt=!0,r.apply(this,arguments)},n.addEventListener("keydown",Jn,!0),n.addEventListener("keyup",Jn,!0),n.addEventListener("click",sl,!0),t.addEventListener("focus",al,!0),t.addEventListener("blur",ll,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",ke,!0),n.addEventListener("pointermove",ke,!0),n.addEventListener("pointerup",ke,!0)):(n.addEventListener("mousedown",ke,!0),n.addEventListener("mousemove",ke,!0),n.addEventListener("mouseup",ke,!0)),t.addEventListener("beforeunload",()=>{ul(e)},{once:!0}),pn.set(t,{focus:r})}const ul=(e,t)=>{const n=Et(e),r=Cn(e);t&&r.removeEventListener("DOMContentLoaded",t),pn.has(n)&&(n.HTMLElement.prototype.focus=pn.get(n).focus,r.removeEventListener("keydown",Jn,!0),r.removeEventListener("keyup",Jn,!0),r.removeEventListener("click",sl,!0),n.removeEventListener("focus",al,!0),n.removeEventListener("blur",ll,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",ke,!0),r.removeEventListener("pointermove",ke,!0),r.removeEventListener("pointerup",ke,!0)):(r.removeEventListener("mousedown",ke,!0),r.removeEventListener("mousemove",ke,!0),r.removeEventListener("mouseup",ke,!0)),pn.delete(n))};function Km(e){const t=Cn(e);let n;return t.readyState!=="loading"?Oi(e):(n=()=>{Oi(e)},t.addEventListener("DOMContentLoaded",n)),()=>ul(e,n)}typeof document<"u"&&Km();function cl(){return Rn!=="pointer"}const Ym=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Zm(e,t,n){var r;const i=typeof window<"u"?Et(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Et(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Et(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Et(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!Ym.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!Wm[n.key])}function Xm(e,t,n){Oi(),u.useEffect(()=>{let r=(i,o)=>{Zm(!!(n!=null&&n.isTextInput),i,o)&&e(cl())};return Si.add(r),()=>{Si.delete(r)}},t)}function Qm(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=u.useRef({isFocusWithin:!1}),s=u.useCallback(c=>{o.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(c),i&&i(!1))},[n,i,o]),a=ol(s),l=u.useCallback(c=>{!o.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),i&&i(!0),o.current.isFocusWithin=!0,a(c))},[r,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let er=!1,ti=0;function $i(){er=!0,setTimeout(()=>{er=!1},50)}function ys(e){e.pointerType==="touch"&&$i()}function Jm(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ys):document.addEventListener("touchend",$i),ti++,()=>{ti--,!(ti>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ys):document.removeEventListener("touchend",$i))}}function jr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=u.useState(!1),a=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(Jm,[]);let{hoverProps:l,triggerHoverEnd:c}=u.useMemo(()=>{let d=(f,g)=>{if(a.pointerType=g,i||g==="touch"||a.isHovered||!f.currentTarget.contains(f.target))return;a.isHovered=!0;let v=f.currentTarget;a.target=v,t&&t({type:"hoverstart",target:v,pointerType:g}),n&&n(!0),s(!0)},p=(f,g)=>{if(a.pointerType="",a.target=null,g==="touch"||!a.isHovered)return;a.isHovered=!1;let v=f.currentTarget;r&&r({type:"hoverend",target:v,pointerType:g}),n&&n(!1),s(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=f=>{er&&f.pointerType==="mouse"||d(f,f.pointerType)},m.onPointerLeave=f=>{!i&&f.currentTarget.contains(f.target)&&p(f,f.pointerType)}):(m.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=f=>{!a.ignoreEmulatedMouseEvents&&!er&&d(f,"mouse"),a.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=f=>{!i&&f.currentTarget.contains(f.target)&&p(f,"mouse")}),{hoverProps:m,triggerHoverEnd:p}},[t,n,r,i,a]);return u.useEffect(()=>{i&&c({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function Fn(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=u.useRef({isFocused:!1,isFocusVisible:t||cl()}),[o,s]=u.useState(!1),[a,l]=u.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=u.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=u.useCallback(f=>{i.current.isFocused=f,s(f),c()},[c]);Xm(f=>{i.current.isFocusVisible=f,c()},[],{isTextInput:n});let{focusProps:p}=Um({isDisabled:r,onFocusChange:d}),{focusWithinProps:m}=Qm({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:a,focusProps:r?m:p}}var eg=Object.defineProperty,tg=(e,t,n)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ni=(e,t,n)=>(tg(e,typeof t!="symbol"?t+"":t,n),n);let ng=class{constructor(){ni(this,"current",this.detect()),ni(this,"handoffState","pending"),ni(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},$t=new ng;function Dt(e){return $t.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function oo(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function He(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return oo(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=He();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function gt(){let[e]=u.useState(He);return u.useEffect(()=>()=>e.dispose(),[e]),e}let W=(e,t)=>{$t.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function Se(e){let t=u.useRef(e);return W(()=>{t.current=e},[e]),t}let F=function(e){let t=Se(e);return D.useCallback((...n)=>t.current(...n),[t])};function rg(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function ig(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function so({disabled:e=!1}={}){let t=u.useRef(null),[n,r]=u.useState(!1),i=gt(),o=F(()=>{t.current=null,r(!1),i.dispose()}),s=F(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=Dt(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",c=>{if(t.current){let d=rg(c);r(ig(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let og=u.createContext(void 0);function Ar(){return u.useContext(og)}function Ci(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function fe(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fe),r}var ut=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ut||{}),it=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(it||{});function de({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??sg;let l=dl(t,e);if(o)return Vn(l,n,r,s,a);let c=i??0;if(c&2){let{static:d=!1,...p}=l;if(d)return Vn(p,n,r,s,a)}if(c&1){let{unmount:d=!0,...p}=l;return fe(d?0:1,{0(){return null},1(){return Vn({...p,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return Vn(l,n,r,s,a)}function Vn(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=ri(e,["unmount","static"]),c=e.ref!==void 0?{[a]:e.ref}:{},d=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(t){let m=!1,f=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(m=!0),v===!0&&f.push(g.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(m){p["data-headlessui-state"]=f.join(" ");for(let g of f)p[`data-${g}`]=""}}if(o===u.Fragment&&(Object.keys(rt(l)).length>0||Object.keys(rt(p)).length>0))if(!u.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(rt(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(rt(l)).concat(Object.keys(rt(p))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=d.props,f=m==null?void 0:m.className,g=typeof f=="function"?(...x)=>Ci(f(...x),l.className):Ci(f,l.className),v=g?{className:g}:{},b=dl(d.props,rt(ri(l,["ref"])));for(let x in p)x in b&&delete p[x];return u.cloneElement(d,Object.assign({},b,p,c,{ref:i(d.ref,c.ref)},v))}return u.createElement(o,Object.assign({},ri(l,["ref"]),o!==u.Fragment&&c,o!==u.Fragment&&p),d)}function sg(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function dl(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function Lt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function ce(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function rt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ri(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function fl(e,t,n){let[r,i]=u.useState(n),o=e!==void 0,s=u.useRef(o),a=u.useRef(!1),l=u.useRef(!1);return o&&!s.current&&!a.current?(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,F(c=>(o||i(c),t==null?void 0:t(c)))]}function pl(e){let[t]=u.useState(e);return t}function hl(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))gl(n,ml(t,r),i);return n}function ml(e,t){return e?e+"["+t+"]":t}function gl(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())gl(e,ml(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):hl(n,t,e)}function ag(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let lg="span";var Ir=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ir||{});function ug(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return de({ourProps:o,theirProps:i,slot:{},defaultTag:lg,name:"Hidden"})}let Pr=ce(ug),cg=u.createContext(null);function dg({children:e}){let t=u.useContext(cg);if(!t)return D.createElement(D.Fragment,null,e);let{target:n}=t;return n?he.createPortal(D.createElement(D.Fragment,null,e),n):null}function vl({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,s]=u.useState(null),a=gt();return u.useEffect(()=>{if(r&&o)return a.addEventListener(o,"reset",r)},[o,t,r]),D.createElement(dg,null,D.createElement(fg,{setForm:s,formId:t}),hl(e).map(([l,c])=>D.createElement(Pr,{features:Ir.Hidden,...rt({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:c,...i})})))}function fg({setForm:e,formId:t}){return u.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:D.createElement(Pr,{features:Ir.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let pg=u.createContext(void 0);function ao(){return u.useContext(pg)}function bl(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&hg(n)?!1:r}function hg(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let xl=Symbol();function mg(e,t=!0){return Object.assign(e,{[xl]:t})}function me(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let n=F(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[xl]))?void 0:n}let lo=u.createContext(null);lo.displayName="DescriptionContext";function yl(){let e=u.useContext(lo);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,yl),t}return e}function wl(){var e,t;return(t=(e=u.useContext(lo))==null?void 0:e.value)!=null?t:void 0}let gg="p";function vg(e,t){let n=u.useId(),r=Ar(),{id:i=`headlessui-description-${n}`,...o}=e,s=yl(),a=me(t);W(()=>s.register(i),[i,s.register]);let l=r||!1,c=u.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),d={ref:a,...s.props,id:i};return de({ourProps:d,theirProps:o,slot:c,defaultTag:gg,name:s.name||"Description"})}let bg=ce(vg);Object.assign(bg,{});var U=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(U||{});let _r=u.createContext(null);_r.displayName="LabelContext";function El(){let e=u.useContext(_r);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,El),t}return e}function jn(e){var t,n,r;let i=(n=(t=u.useContext(_r))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Sl({inherit:e=!1}={}){let t=jn(),[n,r]=u.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,u.useMemo(()=>function(o){let s=F(l=>(r(c=>[...c,l]),()=>r(c=>{let d=c.slice(),p=d.indexOf(l);return p!==-1&&d.splice(p,1),d}))),a=u.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return D.createElement(_r.Provider,{value:a},o.children)},[r])]}let xg="label";function yg(e,t){var n;let r=u.useId(),i=El(),o=ao(),s=Ar(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...d}=e,p=me(t);W(()=>i.register(a),[a,i.register]);let m=F(b=>{let x=b.currentTarget;if(x instanceof HTMLLabelElement&&b.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(b),x instanceof HTMLLabelElement){let E=document.getElementById(x.htmlFor);if(E){let w=E.getAttribute("disabled");if(w==="true"||w==="")return;let S=E.getAttribute("aria-disabled");if(S==="true"||S==="")return;(E instanceof HTMLInputElement&&(E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),f=s||!1,g=u.useMemo(()=>({...i.slot,disabled:f}),[i.slot,f]),v={ref:p,...i.props,id:a,htmlFor:l,onClick:m};return c&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),de({ourProps:v,theirProps:d,slot:g,defaultTag:l?xg:"div",name:i.name||"Label"})}let wg=ce(yg),Tl=Object.assign(wg,{});function an(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let c;n.key&&((o=n.debug)!=null&&o.call(n))&&(c=Date.now());const d=e();if(!(d.length!==r.length||d.some((f,g)=>r[g]!==f)))return i;r=d;let m;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(m=Date.now()),i=t(...d),n.key&&((a=n.debug)!=null&&a.call(n))){const f=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-m)*100)/100,v=g/16,b=(x,E)=>{for(x=String(x);x.length<E;)x=" "+x;return x};console.info(`%c⏱ ${b(g,5)} /${b(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function ii(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Eg=(e,t)=>Math.abs(e-t)<1,Sg=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Tg=e=>e,Og=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},$g=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=s[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},ws={passive:!0},Cg=typeof window>"u"?!0:"onscrollend"in window,Rg=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=Cg?()=>{}:Sg(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=c=>()=>{i=n[e.options.horizontal?"scrollLeft":"scrollTop"],o(),t(i,c)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,ws),n.addEventListener("scrollend",l,ws),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},Fg=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},jg=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Ag{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var i;return(i=r())==null?void 0:i.disconnect()},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Tg,rangeExtractor:Og,onChange:()=>{},measureElement:Fg,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...n}},this.notify=(n,r)=>{var i,o;const{startIndex:s,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(n||s!==(l==null?void 0:l.startIndex)||a!==(l==null?void 0:l.endIndex))&&((o=(i=this.options).onChange)==null||o.call(i,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.notify(!1,!1);return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i;const s=this.isScrolling;this.isScrolling=o,this.notify(s!==o,o)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=an(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=an(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{var l;if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,c);for(let p=c;p<n;p++){let m=(l=this.measurementsCache[p])==null?void 0:l.measureElement;m||(m=S=>{const T=o(p),O=this.elementsCache.get(T);if(!S){O&&(this.observer.unobserve(O),this.elementsCache.delete(T));return}O!==S&&(O&&this.observer.unobserve(O),this.observer.observe(S),this.elementsCache.set(T,S)),S.isConnected&&this.resizeItem(p,this.options.measureElement(S,void 0,this))});const f=o(p),g=this.options.lanes===1?d[p-1]:this.getFurthestMeasurement(d,p),v=g?g.end+this.options.gap:r+i,b=a.get(f),x=typeof b=="number"?b:this.options.estimateSize(p),E=v+x,w=g?g.lane:p%this.options.lanes;d[p]={index:p,start:v,size:x,end:E,key:f,lane:w,measureElement:m}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=an(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?Ig({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=an(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.getMeasurements()[i];if(!o||!n.isConnected){this.elementsCache.forEach((a,l)=>{a===n&&(this.observer.unobserve(n),this.elementsCache.delete(l))});return}const s=this.elementsCache.get(o.key);s!==n&&(s&&this.observer.unobserve(s),this.observer.observe(n),this.elementsCache.set(o.key,n)),this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.getMeasurements()[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=an(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return ii(r[Ol(0,r.length-1,i=>ii(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(n<=o?r="start":n>=o+i?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-i:r==="center"&&(n=n-i/2);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.getMeasurements()[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=ii(this.getOffsetForIndex(n,a));Eg(c,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),i-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t)}}const Ol=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Ig({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=Ol(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const Pg=typeof document<"u"?u.useLayoutEffect:u.useEffect;function _g(e){const t=u.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?he.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=u.useState(()=>new Ag(n));return r.setOptions(n),u.useEffect(()=>r._didMount(),[]),Pg(()=>r._willUpdate()),r}function Mg(e){return _g({observeElementRect:$g,observeElementOffset:Rg,scrollToFn:jg,...e})}function kg(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function $l(e=kg){return u.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function Dg(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Ri(e,t=!1){let n=e===null?null:"current"in e?e.current:e,[r,i]=u.useReducer(()=>({}),{}),o=u.useMemo(()=>Dg(n),[n,r]);return W(()=>{if(!n)return;let s=new ResizeObserver(i);return s.observe(n),()=>{s.disconnect()}},[n]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let Lg=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Cl(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function Rl(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Ng=new Lg(()=>Cl(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function uo(e,t){let n=Ng.get(t),r=u.useId(),i=Rl(n);if(W(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let Fi=new Map,hn=new Map;function Es(e){var t;let n=(t=hn.get(e))!=null?t:0;return hn.set(e,n+1),n!==0?()=>Ss(e):(Fi.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Ss(e))}function Ss(e){var t;let n=(t=hn.get(e))!=null?t:1;if(n===1?hn.delete(e):hn.set(e,n-1),n!==1)return;let r=Fi.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Fi.delete(e))}function Fl(e,{allowed:t,disallowed:n}={}){let r=uo(e,"inert-others");W(()=>{var i,o;if(!r)return;let s=He();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(Es(l));let a=(o=t==null?void 0:t())!=null?o:[];for(let l of a){if(!l)continue;let c=Dt(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let p of d.children)a.some(m=>p.contains(m))||s.add(Es(p));d=d.parentElement}}return s.dispose},[r,t,n])}function co(e,t,n){let r=Se(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});u.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=He();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}let tr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Vg=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ce=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ce||{}),cn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(cn||{}),Bg=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Bg||{});function jl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(tr)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Hg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Vg)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var fo=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(fo||{});function Al(e,t=0){var n;return e===((n=Dt(e))==null?void 0:n.body)?!1:fe(t,{0(){return e.matches(tr)},1(){let r=e;for(;r!==null;){if(r.matches(tr))return!0;r=r.parentElement}return!1}})}var zg=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(zg||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let qg=["textarea","input"].join(",");function Ug(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,qg))!=null?n:!1}function ot(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Wg(e,t){return xt(jl(),t,{relativeTo:e})}function xt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?ot(e):e:t&64?Hg(e):jl(e);i.length>0&&s.length>1&&(s=s.filter(f=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===f:g===f))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,p=s.length,m;do{if(d>=p||d+p<=0)return 0;let f=l+d;if(t&16)f=(f+p)%p;else{if(f<0)return 3;if(f>=p)return 1}m=s[f],m==null||m.focus(c),d+=a}while(m!==o.activeElement);return t&6&&Ug(m)&&m.select(),2}function Il(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Gg(){return/Android/gi.test(window.navigator.userAgent)}function Pl(){return Il()||Gg()}function ln(e,t,n,r){let i=Se(n);u.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Kg(e,t,n,r){let i=Se(n);u.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Ts=30;function _l(e,t,n){let r=uo(e,"outside-click"),i=Se(n),o=u.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let p=function m(f){return typeof f=="function"?m(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let m of p){if(m===null)continue;let f=m instanceof HTMLElement?m:m.current;if(f!=null&&f.contains(d)||l.composed&&l.composedPath().includes(f))return}return!Al(d,fo.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i]),s=u.useRef(null);ln(r,"pointerdown",l=>{var c,d;s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),ln(r,"mousedown",l=>{var c,d;s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),ln(r,"click",l=>{Pl()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=u.useRef({x:0,y:0});ln(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),ln(r,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=Ts||Math.abs(c.y-a.current.y)>=Ts))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),Kg(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function An(...e){return u.useMemo(()=>Dt(...e),[...e])}function Yg(e,t,n,r){let i=Se(n);u.useEffect(()=>{e=e??window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Ml(e){let t=u.useRef({value:"",selectionStart:null,selectionEnd:null});return Yg(e.current,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),F(()=>{let n=e.current;if(document.activeElement!==n&&n instanceof HTMLInputElement&&n.isConnected){if(n.focus({preventScroll:!0}),n.value!==t.current.value)n.setSelectionRange(n.value.length,n.value.length);else{let{selectionStart:r,selectionEnd:i}=t.current;r!==null&&i!==null&&n.setSelectionRange(r,i)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Os(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function po(e,t){let[n,r]=u.useState(()=>Os(e));return W(()=>{r(Os(e))},[e.type,e.as]),W(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function Zg(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Xg(){return Il()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=He();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=e.querySelector(c);d&&!r(d)&&(s=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Qg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Jg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let St=Cl(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:He(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Jg(n)},i=[Xg(),Zg(),Qg()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});St.subscribe(()=>{let e=St.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&St.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&St.dispatch("TEARDOWN",n)}});function ev(e,t,n=()=>({containers:[]})){let r=Rl(St),i=t?r.get(t):void 0,o=i?i.count>0:!1;return W(()=>{if(!(!t||!e))return St.dispatch("PUSH",t,n),()=>St.dispatch("POP",t,n)},[e,t]),o}function kl(e,t,n=()=>[document.body]){let r=uo(e,"scroll-lock");ev(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function $s(e){return[e.screenX,e.screenY]}function Dl(){let e=u.useRef([-1,-1]);return{wasMoved(t){let n=$s(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=$s(t)}}}function tv(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function nv(e=0){let[t,n]=u.useState(e),r=u.useCallback(l=>n(l),[t]),i=u.useCallback(l=>n(c=>c|l),[t]),o=u.useCallback(l=>(t&l)===l,[t]),s=u.useCallback(l=>n(c=>c&~l),[n]),a=u.useCallback(l=>n(c=>c^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var rv=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(rv||{});function ho(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function mo(e,t,n,r){let[i,o]=u.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=nv(e&&i?3:0),c=u.useRef(!1),d=u.useRef(!1),p=gt();return W(function m(){var f;if(!e)return;n&&o(!0);let g=t.current;return g?((f=r==null?void 0:r.start)==null||f.call(r,n),iv(g,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var v;d.current&&typeof g.getAnimations=="function"&&g.getAnimations().length>0||(c.current=!1,l(7),n||o(!1),(v=r==null?void 0:r.end)==null||v.call(r,n))}})):n?(a(3),p.nextFrame(()=>m())):void 0},[e,n,t,p]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function iv(e,{prepare:t,run:n,done:r,inFlight:i}){let o=He();return sv(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{o.add(ov(e,r)),n()}),o.dispose}function ov(e,t){let n=tv(t),r=He();if(!e)return r.dispose;let{transitionDuration:i,transitionDelay:o}=getComputedStyle(e),[s,a]=[i,o].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(p=>p.includes("ms")?parseFloat(p):parseFloat(p)*1e3).sort((p,m)=>m-p);return d}),l=s+a;if(l!==0){let c=r.group(d=>{let p=d.setTimeout(()=>{n(),d.dispose()},l);d.addEventListener(e,"transitionrun",m=>{m.target===m.currentTarget&&(p(),d.addEventListener(e,"transitioncancel",f=>{f.target===f.currentTarget&&(n(),c())}))})});r.addEventListener(e,"transitionend",d=>{d.target===d.currentTarget&&(n(),r.dispose())})}else n();return r.dispose}function sv(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function av(e,{container:t,accept:n,walk:r}){let i=u.useRef(n),o=u.useRef(r);u.useEffect(()=>{i.current=n,o.current=r},[n,r]),W(()=>{if(!t||!e)return;let s=Dt(t);if(!s)return;let a=i.current,l=o.current,c=Object.assign(p=>a(p),{acceptNode:a}),d=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)l(d.currentNode)},[t,e,i,o])}function Cs(e,t){let n=u.useRef([]),r=F(e);u.useEffect(()=>{let i=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let a=r(t,i);return n.current=t,a}},[r,...t])}function tn(e){return Ll(e)?(e.nodeName||"").toLowerCase():"#document"}function Ae(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function et(e){var t;return(t=(Ll(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ll(e){return e instanceof Node||e instanceof Ae(e).Node}function Te(e){return e instanceof Element||e instanceof Ae(e).Element}function Ue(e){return e instanceof HTMLElement||e instanceof Ae(e).HTMLElement}function Rs(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ae(e).ShadowRoot}function In(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ze(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function lv(e){return["table","td","th"].includes(tn(e))}function Mr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function go(e){const t=vo(),n=ze(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function uv(e){let t=ct(e);for(;Ue(t)&&!Zt(t);){if(Mr(t))return null;if(go(t))return t;t=ct(t)}return null}function vo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zt(e){return["html","body","#document"].includes(tn(e))}function ze(e){return Ae(e).getComputedStyle(e)}function kr(e){return Te(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ct(e){if(tn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rs(e)&&e.host||et(e);return Rs(t)?t.host:t}function Nl(e){const t=ct(e);return Zt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ue(t)&&In(t)?t:Nl(t)}function xn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Nl(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ae(i);return o?t.concat(s,s.visualViewport||[],In(i)?i:[],s.frameElement&&n?xn(s.frameElement):[]):t.concat(i,xn(i,[],n))}function cv(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const st=Math.min,Re=Math.max,nr=Math.round,Bn=Math.floor,dt=e=>({x:e,y:e}),dv={left:"right",right:"left",bottom:"top",top:"bottom"},fv={start:"end",end:"start"};function Fs(e,t,n){return Re(e,st(t,n))}function nn(e,t){return typeof e=="function"?e(t):e}function ft(e){return e.split("-")[0]}function Pn(e){return e.split("-")[1]}function Vl(e){return e==="x"?"y":"x"}function Bl(e){return e==="y"?"height":"width"}function Ft(e){return["top","bottom"].includes(ft(e))?"y":"x"}function Hl(e){return Vl(Ft(e))}function pv(e,t,n){n===void 0&&(n=!1);const r=Pn(e),i=Hl(e),o=Bl(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=rr(s)),[s,rr(s)]}function hv(e){const t=rr(e);return[ji(e),t,ji(t)]}function ji(e){return e.replace(/start|end/g,t=>fv[t])}function mv(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function gv(e,t,n,r){const i=Pn(e);let o=mv(ft(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(ji)))),o}function rr(e){return e.replace(/left|right|bottom|top/g,t=>dv[t])}function vv(e){return{top:0,right:0,bottom:0,left:0,...e}}function bv(e){return typeof e!="number"?vv(e):{top:e,right:e,bottom:e,left:e}}function ir(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function js(e,t,n){let{reference:r,floating:i}=e;const o=Ft(t),s=Hl(t),a=Bl(s),l=ft(t),c=o==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-i.width,y:p};break;default:f={x:r.x,y:r.y}}switch(Pn(t)){case"start":f[s]-=m*(n&&c?-1:1);break;case"end":f[s]+=m*(n&&c?-1:1);break}return f}const xv=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:p}=js(c,r,l),m=r,f={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:x}=a[v],{x:E,y:w,data:S,reset:T}=await x({x:d,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});d=E??d,p=w??p,f={...f,[b]:{...f[b],...S}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:d,y:p}=js(c,m,l)),v=-1)}return{x:d,y:p,placement:m,strategy:i,middlewareData:f}};async function Dr(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:f=0}=nn(t,e),g=bv(f),b=a[m?p==="floating"?"reference":"floating":p],x=ir(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),E=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},T=ir(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:w,strategy:l}):E);return{top:(x.top-T.top+g.top)/S.y,bottom:(T.bottom-x.bottom+g.bottom)/S.y,left:(x.left-T.left+g.left)/S.x,right:(T.right-x.right+g.right)/S.x}}const yv=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=nn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ft(i),E=Ft(a),w=ft(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=m||(w||!v?[rr(a)]:hv(a)),O=g!=="none";!m&&O&&T.push(...gv(a,v,g,S));const $=[a,...T],P=await Dr(t,b),_=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&_.push(P[x]),p){const L=pv(i,s,S);_.push(P[L[0]],P[L[1]])}if(B=[...B,{placement:i,overflows:_}],!_.every(L=>L<=0)){var R,z;const L=(((R=o.flip)==null?void 0:R.index)||0)+1,G=$[L];if(G)return{data:{index:L,overflows:B},reset:{placement:G}};let Q=(z=B.filter(j=>j.overflows[0]<=0).sort((j,V)=>j.overflows[1]-V.overflows[1])[0])==null?void 0:z.placement;if(!Q)switch(f){case"bestFit":{var I;const j=(I=B.filter(V=>{if(O){const C=Ft(V.placement);return C===E||C==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(C=>C>0).reduce((C,K)=>C+K,0)]).sort((V,C)=>V[1]-C[1])[0])==null?void 0:I[0];j&&(Q=j);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};async function wv(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ft(n),a=Pn(n),l=Ft(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,p=nn(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*d,y:m*c}:{x:m*c,y:f*d}}const Ev=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await wv(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Sv=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y:E}=b;return{x,y:E}}},...l}=nn(e,t),c={x:n,y:r},d=await Dr(t,l),p=Ft(ft(i)),m=Vl(p);let f=c[m],g=c[p];if(o){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",E=f+d[b],w=f-d[x];f=Fs(E,f,w)}if(s){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=g+d[b],w=g-d[x];g=Fs(E,g,w)}const v=a.fn({...t,[m]:f,[p]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}},Tv=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=nn(e,t),l=await Dr(t,a),c=ft(n),d=Pn(n),p=Ft(n)==="y",{width:m,height:f}=r.floating;let g,v;c==="top"||c==="bottom"?(g=c,v=d===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=c,g=d==="end"?"top":"bottom");const b=f-l.top-l.bottom,x=m-l.left-l.right,E=st(f-l[g],b),w=st(m-l[v],x),S=!t.middlewareData.shift;let T=E,O=w;if(p?O=d||S?st(w,x):x:T=d||S?st(E,b):b,S&&!d){const P=Re(l.left,0),_=Re(l.right,0),B=Re(l.top,0),R=Re(l.bottom,0);p?O=m-2*(P!==0||_!==0?P+_:Re(l.left,l.right)):T=f-2*(B!==0||R!==0?B+R:Re(l.top,l.bottom))}await s({...t,availableWidth:O,availableHeight:T});const $=await i.getDimensions(o.floating);return m!==$.width||f!==$.height?{reset:{rects:!0}}:{}}}};function zl(e){const t=ze(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ue(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=nr(n)!==o||nr(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function bo(e){return Te(e)?e:e.contextElement}function Wt(e){const t=bo(e);if(!Ue(t))return dt(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zl(t);let s=(o?nr(n.width):n.width)/r,a=(o?nr(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Ov=dt(0);function ql(e){const t=Ae(e);return!vo()||!t.visualViewport?Ov:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $v(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ae(e)?!1:t}function jt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=bo(e);let s=dt(1);t&&(r?Te(r)&&(s=Wt(r)):s=Wt(e));const a=$v(o,n,r)?ql(o):dt(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,p=i.height/s.y;if(o){const m=Ae(o),f=r&&Te(r)?Ae(r):r;let g=m,v=g.frameElement;for(;v&&r&&f!==g;){const b=Wt(v),x=v.getBoundingClientRect(),E=ze(v),w=x.left+(v.clientLeft+parseFloat(E.paddingLeft))*b.x,S=x.top+(v.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,p*=b.y,l+=w,c+=S,g=Ae(v),v=g.frameElement}}return ir({width:d,height:p,x:l,y:c})}function Cv(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=et(r),a=t?Mr(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=dt(1);const d=dt(0),p=Ue(r);if((p||!p&&!o)&&((tn(r)!=="body"||In(s))&&(l=kr(r)),Ue(r))){const m=jt(r);c=Wt(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Rv(e){return Array.from(e.getClientRects())}function Ul(e){return jt(et(e)).left+kr(e).scrollLeft}function Fv(e){const t=et(e),n=kr(e),r=e.ownerDocument.body,i=Re(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Re(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ul(e);const a=-n.scrollTop;return ze(r).direction==="rtl"&&(s+=Re(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function jv(e,t){const n=Ae(e),r=et(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=vo();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Av(e,t){const n=jt(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ue(e)?Wt(e):dt(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function As(e,t,n){let r;if(t==="viewport")r=jv(e,n);else if(t==="document")r=Fv(et(e));else if(Te(t))r=Av(t,n);else{const i=ql(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return ir(r)}function Wl(e,t){const n=ct(e);return n===t||!Te(n)||Zt(n)?!1:ze(n).position==="fixed"||Wl(n,t)}function Iv(e,t){const n=t.get(e);if(n)return n;let r=xn(e,[],!1).filter(a=>Te(a)&&tn(a)!=="body"),i=null;const o=ze(e).position==="fixed";let s=o?ct(e):e;for(;Te(s)&&!Zt(s);){const a=ze(s),l=go(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||In(s)&&!l&&Wl(e,s))?r=r.filter(d=>d!==s):i=a,s=ct(s)}return t.set(e,r),r}function Pv(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Mr(t)?[]:Iv(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const p=As(t,d,i);return c.top=Re(p.top,c.top),c.right=st(p.right,c.right),c.bottom=st(p.bottom,c.bottom),c.left=Re(p.left,c.left),c},As(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _v(e){const{width:t,height:n}=zl(e);return{width:t,height:n}}function Mv(e,t,n){const r=Ue(t),i=et(t),o=n==="fixed",s=jt(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=dt(0);if(r||!r&&!o)if((tn(t)!=="body"||In(i))&&(a=kr(t)),r){const p=jt(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&(l.x=Ul(i));const c=s.left+a.scrollLeft-l.x,d=s.top+a.scrollTop-l.y;return{x:c,y:d,width:s.width,height:s.height}}function oi(e){return ze(e).position==="static"}function Is(e,t){return!Ue(e)||ze(e).position==="fixed"?null:t?t(e):e.offsetParent}function Gl(e,t){const n=Ae(e);if(Mr(e))return n;if(!Ue(e)){let i=ct(e);for(;i&&!Zt(i);){if(Te(i)&&!oi(i))return i;i=ct(i)}return n}let r=Is(e,t);for(;r&&lv(r)&&oi(r);)r=Is(r,t);return r&&Zt(r)&&oi(r)&&!go(r)?n:r||uv(e)||n}const kv=async function(e){const t=this.getOffsetParent||Gl,n=this.getDimensions,r=await n(e.floating);return{reference:Mv(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Dv(e){return ze(e).direction==="rtl"}const Lv={convertOffsetParentRelativeRectToViewportRelativeRect:Cv,getDocumentElement:et,getClippingRect:Pv,getOffsetParent:Gl,getElementRects:kv,getClientRects:Rv,getDimensions:_v,getScale:Wt,isElement:Te,isRTL:Dv};function Nv(e,t){let n=null,r;const i=et(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:p,height:m}=e.getBoundingClientRect();if(a||t(),!p||!m)return;const f=Bn(d),g=Bn(i.clientWidth-(c+p)),v=Bn(i.clientHeight-(d+m)),b=Bn(c),E={rootMargin:-f+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Re(0,st(1,l))||1};let w=!0;function S(T){const O=T[0].intersectionRatio;if(O!==l){if(!w)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(S,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,E)}n.observe(e)}return s(!0),o}function Vv(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=bo(e),d=i||o?[...c?xn(c):[],...xn(t)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const p=c&&a?Nv(c,n):null;let m=-1,f=null;s&&(f=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let g,v=l?jt(e):null;l&&b();function b(){const x=jt(e);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,g=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),p==null||p(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const si=Dr,Bv=Ev,Hv=Sv,zv=yv,qv=Tv,Uv=(e,t,n)=>{const r=new Map,i={platform:Lv,...n},o={...i.platform,_c:r};return xv(e,t,{...i,platform:o})};var Wn=typeof document<"u"?u.useLayoutEffect:u.useEffect;function or(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!or(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!or(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Kl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ps(e,t){const n=Kl(e);return Math.round(t*n)/n}function _s(e){const t=u.useRef(e);return Wn(()=>{t.current=e}),t}function Wv(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,p]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=u.useState(r);or(m,r)||f(r);const[g,v]=u.useState(null),[b,x]=u.useState(null),E=u.useCallback(j=>{j!==O.current&&(O.current=j,v(j))},[]),w=u.useCallback(j=>{j!==$.current&&($.current=j,x(j))},[]),S=o||g,T=s||b,O=u.useRef(null),$=u.useRef(null),P=u.useRef(d),_=l!=null,B=_s(l),R=_s(i),z=u.useCallback(()=>{if(!O.current||!$.current)return;const j={placement:t,strategy:n,middleware:m};R.current&&(j.platform=R.current),Uv(O.current,$.current,j).then(V=>{const C={...V,isPositioned:!0};I.current&&!or(P.current,C)&&(P.current=C,he.flushSync(()=>{p(C)}))})},[m,t,n,R]);Wn(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const I=u.useRef(!1);Wn(()=>(I.current=!0,()=>{I.current=!1}),[]),Wn(()=>{if(S&&(O.current=S),T&&($.current=T),S&&T){if(B.current)return B.current(S,T,z);z()}},[S,T,z,B,_]);const L=u.useMemo(()=>({reference:O,floating:$,setReference:E,setFloating:w}),[E,w]),G=u.useMemo(()=>({reference:S,floating:T}),[S,T]),Q=u.useMemo(()=>{const j={position:n,left:0,top:0};if(!G.floating)return j;const V=Ps(G.floating,d.x),C=Ps(G.floating,d.y);return a?{...j,transform:"translate("+V+"px, "+C+"px)",...Kl(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:C}},[n,a,G.floating,d.x,d.y]);return u.useMemo(()=>({...d,update:z,refs:L,elements:G,floatingStyles:Q}),[d,z,L,G,Q])}const Yl=(e,t)=>({...Bv(e),options:[e,t]}),Gv=(e,t)=>({...Hv(e),options:[e,t]}),Kv=(e,t)=>({...zv(e),options:[e,t]}),Yv=(e,t)=>({...qv(e),options:[e,t]}),Zl={...Gn},Zv=Zl.useInsertionEffect,Xv=Zv||(e=>e());function Xl(e){const t=u.useRef(()=>{});return Xv(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Ai=typeof document<"u"?u.useLayoutEffect:u.useEffect;let Ms=!1,Qv=0;const ks=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Qv++;function Jv(){const[e,t]=u.useState(()=>Ms?ks():void 0);return Ai(()=>{e==null&&t(ks())},[]),u.useEffect(()=>{Ms=!0},[]),e}const eb=Zl.useId,tb=eb||Jv;function nb(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const rb=u.createContext(null),ib=u.createContext(null),ob=()=>{var e;return((e=u.useContext(rb))==null?void 0:e.id)||null},sb=()=>u.useContext(ib);function ab(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=tb(),o=u.useRef({}),[s]=u.useState(()=>nb()),a=ob()!=null,[l,c]=u.useState(r.reference),d=Xl((f,g,v)=>{o.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:v,nested:a}),n==null||n(f,g,v)}),p=u.useMemo(()=>({setPositionReference:c}),[]),m=u.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return u.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:m,events:s,floatingId:i,refs:p}),[t,d,m,s,i,p])}function lb(e){e===void 0&&(e={});const{nodeId:t}=e,n=ab({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=u.useState(null),[a,l]=u.useState(null),d=(i==null?void 0:i.reference)||o,p=u.useRef(null),m=sb();Ai(()=>{d&&(p.current=d)},[d]);const f=Wv({...e,elements:{...i,...a&&{reference:a}}}),g=u.useCallback(w=>{const S=Te(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(S),f.refs.setReference(S)},[f.refs]),v=u.useCallback(w=>{(Te(w)||w===null)&&(p.current=w,s(w)),(Te(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!Te(w))&&f.refs.setReference(w)},[f.refs]),b=u.useMemo(()=>({...f.refs,setReference:v,setPositionReference:g,domReference:p}),[f.refs,v,g]),x=u.useMemo(()=>({...f.elements,domReference:d}),[f.elements,d]),E=u.useMemo(()=>({...f,...r,refs:b,elements:x,nodeId:t}),[f,b,x,t,r]);return Ai(()=>{r.dataRef.current.floatingContext=E;const w=m==null?void 0:m.nodesRef.current.find(S=>S.id===t);w&&(w.context=E)}),u.useMemo(()=>({...f,context:E,refs:b,elements:x}),[f,b,x,E])}const Ds="active",Ls="selected";function ai(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Ds]:s,[Ls]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[c,d]=l;if(!(i&&[Ds,Ls].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var p;(p=r.get(c))==null||p.push(d),s[c]=function(){for(var m,f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return(m=r.get(c))==null?void 0:m.map(b=>b(...g)).find(b=>b!==void 0)}}}else s[c]=d}),s),{})}}function ub(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=u.useCallback(a=>ai(a,e,"reference"),t),o=u.useCallback(a=>ai(a,e,"floating"),n),s=u.useCallback(a=>ai(a,e,"item"),r);return u.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function Ns(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const cb=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...d}=nn(e,t),{rects:p,elements:{floating:m}}=t,f=n.current[s];if(!f)return{};const g={...t,...await Yl(-f.offsetTop-m.clientTop-p.reference.height/2-f.offsetHeight/2-o).fn(t)},v=(c==null?void 0:c.current)||m,b=await si(Ns(g,v.scrollHeight),d),x=await si(g,{...d,elementContext:"reference"}),E=Math.max(0,b.top),w=g.y+E,S=Math.max(0,v.scrollHeight-E-Math.max(0,b.bottom));return v.style.maxHeight=S+"px",v.scrollTop=E,i&&(v.offsetHeight<f.offsetHeight*Math.min(a,n.current.length-1)-1||x.top>=-l||x.bottom>=-l?he.flushSync(()=>i(!0)):he.flushSync(()=>i(!1))),r&&(r.current=await si(Ns({...g,y:w},v.offsetHeight),d)),{y:w}}});function db(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=Xl(a),c=u.useRef(!1),d=u.useRef(null),p=u.useRef(null);u.useEffect(()=>{if(!i)return;function f(v){if(v.ctrlKey||!g||o.current==null)return;const b=v.deltaY,x=o.current.top>=-.5,E=o.current.bottom>=-.5,w=g.scrollHeight-g.clientHeight,S=b<0?-1:1,T=b<0?"max":"min";g.scrollHeight<=g.clientHeight||(!x&&b>0||!E&&b<0?(v.preventDefault(),he.flushSync(()=>{l(O=>O+Math[T](b,w*S))})):/firefox/i.test(cv())&&(g.scrollTop+=b))}const g=(s==null?void 0:s.current)||r.floating;if(n&&g)return g.addEventListener("wheel",f),requestAnimationFrame(()=>{d.current=g.scrollTop,o.current!=null&&(p.current={...o.current})}),()=>{d.current=null,p.current=null,g.removeEventListener("wheel",f)}},[i,n,r.floating,o,s,l]);const m=u.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const f=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!f||!c.current)){if(d.current!==null){const g=f.scrollTop-d.current;(o.current.bottom<-.5&&g<-1||o.current.top<-.5&&g>1)&&he.flushSync(()=>l(v=>v+g))}requestAnimationFrame(()=>{d.current=f.scrollTop})}}}),[r.floating,l,o,s]);return u.useMemo(()=>i?{floating:m}:{},[i,m])}let rn=u.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});rn.displayName="FloatingContext";let xo=u.createContext(null);xo.displayName="PlacementContext";function Ql(e){return u.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Jl(){return u.useContext(rn).setReference}function fb(){return u.useContext(rn).getReferenceProps}function eu(){let{getFloatingProps:e,slot:t}=u.useContext(rn);return u.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function tu(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=u.useContext(xo),n=u.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(i,o)=>o instanceof HTMLElement?o.outerHTML:o:void 0)]);W(()=>{t==null||t(n??null)},[t,n]);let r=u.useContext(rn);return u.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Vs=4;function nu({children:e,enabled:t=!0}){let[n,r]=u.useState(null),[i,o]=u.useState(0),s=u.useRef(null),[a,l]=u.useState(null);pb(a);let c=t&&n!==null&&a!==null,{to:d="bottom",gap:p=0,offset:m=0,padding:f=0,inner:g}=hb(n,a),[v,b="center"]=d.split(" ");W(()=>{c&&o(0)},[c]);let{refs:x,floatingStyles:E,context:w}=lb({open:c,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[Yl({mainAxis:v==="selection"?0:p,crossAxis:m}),Gv({padding:f}),v!=="selection"&&Kv({padding:f}),v==="selection"&&g?cb({...g,padding:f,overflowRef:s,offset:i,minItemsVisible:Vs,referenceOverflowThreshold:f,onFallbackChange(R){var z,I;if(!R)return;let L=w.elements.floating;if(!L)return;let G=parseFloat(getComputedStyle(L).scrollPaddingBottom)||0,Q=Math.min(Vs,L.childElementCount),j=0,V=0;for(let C of(I=(z=w.elements.floating)==null?void 0:z.childNodes)!=null?I:[])if(C instanceof HTMLElement){let K=C.offsetTop,X=K+C.clientHeight+G,k=L.scrollTop,ee=k+L.clientHeight;if(K>=k&&X<=ee)Q--;else{V=Math.max(0,Math.min(X,ee)-Math.max(K,k)),j=C.clientHeight;break}}Q>=1&&o(C=>{let K=j*Q-V+G;return C>=K?C:K})}}):null,Yv({padding:f,apply({availableWidth:R,availableHeight:z,elements:I}){Object.assign(I.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:Vv}),[S=v,T=b]=w.placement.split("-");v==="selection"&&(S="selection");let O=u.useMemo(()=>({anchor:[S,T].filter(Boolean).join(" ")}),[S,T]),$=db(w,{overflowRef:s,onChange:o}),{getReferenceProps:P,getFloatingProps:_}=ub([$]),B=F(R=>{l(R),x.setFloating(R)});return u.createElement(xo.Provider,{value:r},u.createElement(rn.Provider,{value:{setFloating:B,setReference:x.setReference,styles:E,getReferenceProps:P,getFloatingProps:_,slot:O}},e))}function pb(e){W(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function hb(e,t){var n,r,i;let o=li((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=li((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=li((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}function li(e,t,n=void 0){let r=gt(),i=F((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let d=Bs(l,c);return[d,p=>{let m=ru(l);{let f=m.map(g=>window.getComputedStyle(c).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let v=!1;for(let[x,E]of m.entries()){let w=window.getComputedStyle(c).getPropertyValue(E);if(f[x]!==w){f[x]=w,v=!0;break}}if(!v)return;let b=Bs(l,c);d!==b&&(p(b),d=b)})}return r.dispose}]}return[n,null]}),o=u.useMemo(()=>i(e,t)[0],[e,t]),[s=o,a]=u.useState();return W(()=>{let[l,c]=i(e,t);if(a(l),!!c)return c(a)},[e,t]),s}function ru(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...ru(i)]:[r]}return[]}function Bs(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function mb({children:e,freeze:t}){let n=sr(t,e);return D.createElement(D.Fragment,null,n)}function sr(e,t){let[n,r]=u.useState(t);return!e&&n!==t&&r(t),e?n:t}let yo=u.createContext(null);yo.displayName="OpenClosedContext";var ye=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ye||{});function Lr(){return u.useContext(yo)}function wo({value:e,children:t}){return D.createElement(yo.Provider,{value:e},t)}function gb(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let wt=[];gb(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||wt[0]===t.target)return;let n=t.target;n=n.closest(tr),wt.unshift(n??t.target),wt=wt.filter(r=>r!=null&&r.isConnected),wt.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function vb(e){throw new Error("Unexpected object: "+e)}var Z=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Z||{});function mn(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:vb(e)}}var Eo=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Eo||{});function bb(e){let t=F(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,oo(()=>{n.current&&t()})}),[t])}function xb(){let e=typeof document>"u";return"useSyncExternalStore"in Gn?(t=>t.useSyncExternalStore)(Gn)(()=>()=>{},()=>!1,()=>!e):!1}function So(){let e=xb(),[t,n]=u.useState($t.isHandoffComplete);return t&&$t.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>$t.handoff(),[]),e?!1:t}let yb=u.createContext(!1);function wb(){return u.useContext(yb)}function Eb(e){let t=wb(),n=u.useContext(ou),r=An(e),[i,o]=u.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if($t.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return u.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),u.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let iu=u.Fragment,Sb=ce(function(e,t){let n=e,r=u.useRef(null),i=me(mg(d=>{r.current=d}),t),o=An(r),s=Eb(r),[a]=u.useState(()=>{var d;return $t.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),l=u.useContext(Cb),c=So();return W(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),W(()=>{if(a&&l)return l.register(a)},[l,a]),bb(()=>{var d;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((d=s.parentElement)==null||d.removeChild(s)))}),c?!s||!a?null:he.createPortal(de({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:iu,name:"Portal"}),a):null});function Tb(e,t){let n=me(t),{enabled:r=!0,...i}=e;return r?D.createElement(Sb,{...i,ref:n}):de({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:iu,name:"Portal"})}let Ob=u.Fragment,ou=u.createContext(null);function $b(e,t){let{target:n,...r}=e,i={ref:me(t)};return D.createElement(ou.Provider,{value:n},de({ourProps:i,theirProps:r,defaultTag:Ob,name:"Popover.Group"}))}let Cb=u.createContext(null),Rb=ce(Tb),Fb=ce($b),su=Object.assign(Rb,{Group:Fb});var jb={},Ab=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ab||{}),Ib=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ib||{}),Pb=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Pb||{}),_b=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e))(_b||{});function ui(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,a)=>s.dataRef.current.order-a.dataRef.current.order):ot(r,s=>s.dataRef.current.domRef.current),o=n?i.indexOf(n):null;return o===-1&&(o=null),{options:i,activeOptionIndex:o}}let Mb={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,i,o,s;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((i=e.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:d,disabled:p}=e.virtual,m=t.focus===Z.Specific?t.idx:mn(t,{resolveItems:()=>d,resolveActiveIndex:()=>{var g,v;return(v=(g=e.activeOptionIndex)!=null?g:d.findIndex(b=>!p(b)))!=null?v:null},resolveDisabled:p,resolveId(){throw new Error("Function not implemented.")}}),f=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===m&&e.activationTrigger===f?e:{...e,activeOptionIndex:m,activationTrigger:f,isTyping:!1,__demoMode:!1}}let a=ui(e);if(a.activeOptionIndex===null){let d=a.options.findIndex(p=>!p.dataRef.current.disabled);d!==-1&&(a.activeOptionIndex=d)}let l=t.focus===Z.Specific?t.idx:mn(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),c=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===l&&e.activationTrigger===c?e:{...e,...a,isTyping:!1,activeOptionIndex:l,activationTrigger:c,__demoMode:!1}},4:(e,t)=>{var n,r,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let o=t.payload,s=ui(e,l=>(l.push(o),l));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(o));let a={...e,...s,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let r=ui(e,i=>{let o=i.findIndex(s=>s.id===t.id);return o!==-1&&i.splice(o,1),i});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?i=o:i=null}return{...e,activeOptionIndex:i,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}}},To=u.createContext(null);To.displayName="ComboboxActionsContext";function _n(e){let t=u.useContext(To);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_n),n}return t}let au=u.createContext(null);function kb(e){let t=on("VirtualProvider"),{options:n}=t.virtual,[r,i]=u.useMemo(()=>{let c=t.optionsRef.current;if(!c)return[0,0];let d=window.getComputedStyle(c);return[parseFloat(d.paddingBlockStart||d.paddingTop),parseFloat(d.paddingBlockEnd||d.paddingBottom)]},[t.optionsRef.current]),o=Mg({enabled:n.length!==0,scrollPaddingStart:r,scrollPaddingEnd:i,count:n.length,estimateSize(){return 40},getScrollElement(){var c;return(c=t.optionsRef.current)!=null?c:null},overscan:12}),[s,a]=u.useState(0);W(()=>{a(c=>c+1)},[n]);let l=o.getVirtualItems();return l.length===0?null:D.createElement(au.Provider,{value:o},D.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&jb.JEST_WORKER_ID!==void 0||t.activationTrigger===0)return;t.activeOptionIndex!==null&&n.length>t.activeOptionIndex&&o.scrollToIndex(t.activeOptionIndex)}}},l.map(c=>{var d;return D.createElement(u.Fragment,{key:c.key},D.cloneElement((d=e.children)==null?void 0:d.call(e,{...e.slot,option:n[c.index]}),{key:`${s}-${c.key}`,"data-index":c.index,"aria-setsize":n.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let yn=u.createContext(null);yn.displayName="ComboboxDataContext";function on(e){let t=u.useContext(yn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,on),n}return t}function Db(e,t){return fe(t.type,Mb,e,t)}let Lb=u.Fragment;function Nb(e,t){var n,r;let i=Ar(),{value:o,defaultValue:s,onChange:a,form:l,name:c,by:d,disabled:p=i||!1,onClose:m,__demoMode:f=!1,multiple:g=!1,immediate:v=!1,virtual:b=null,nullable:x,...E}=e,w=pl(s),[S=g?[]:void 0,T]=fl(o,a,w),[O,$]=u.useReducer(Db,{dataRef:u.createRef(),comboboxState:f?0:1,isTyping:!1,options:[],virtual:b?{options:b.options,disabled:(n=b.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:f}),P=u.useRef(!1),_=u.useRef({static:!1,hold:!1}),B=u.useRef(null),R=u.useRef(null),z=u.useRef(null),I=$l(d),L=F(q=>b?d===null?b.options.indexOf(q):b.options.findIndex(ie=>I(ie,q)):O.options.findIndex(ie=>I(ie.dataRef.current.value,q))),G=u.useCallback(q=>fe(j.mode,{1:()=>S.some(ie=>I(ie,q)),0:()=>I(S,q)}),[S]),Q=F(q=>O.activeOptionIndex===L(q)),j=u.useMemo(()=>({...O,immediate:v,optionsPropsRef:_,inputRef:B,buttonRef:R,optionsRef:z,value:S,defaultValue:w,disabled:p,mode:g?1:0,virtual:b?O.virtual:null,get activeOptionIndex(){if(P.current&&O.activeOptionIndex===null&&(b?b.options.length>0:O.options.length>0)){if(b){let ie=b.options.findIndex(Pe=>{var Bt,kn;return!((kn=(Bt=b.disabled)==null?void 0:Bt.call(b,Pe))!=null&&kn)});if(ie!==-1)return ie}let q=O.options.findIndex(ie=>!ie.dataRef.current.disabled);if(q!==-1)return q}return O.activeOptionIndex},calculateIndex:L,compare:I,isSelected:G,isActive:Q}),[S,w,p,g,f,O,b]);W(()=>{var q;b&&$({type:7,options:b.options,disabled:(q=b.disabled)!=null?q:null})},[b,b==null?void 0:b.options,b==null?void 0:b.disabled]),W(()=>{O.dataRef.current=j},[j]);let V=j.comboboxState===0;_l(V,[j.buttonRef,j.inputRef,j.optionsRef],()=>xe.closeCombobox());let C=u.useMemo(()=>{var q,ie,Pe;return{open:j.comboboxState===0,disabled:p,activeIndex:j.activeOptionIndex,activeOption:j.activeOptionIndex===null?null:j.virtual?j.virtual.options[(q=j.activeOptionIndex)!=null?q:0]:(Pe=(ie=j.options[j.activeOptionIndex])==null?void 0:ie.dataRef.current.value)!=null?Pe:null,value:S}},[j,p,S]),K=F(()=>{if(j.activeOptionIndex!==null){if(xe.setIsTyping(!1),j.virtual)J(j.virtual.options[j.activeOptionIndex]);else{let{dataRef:q}=j.options[j.activeOptionIndex];J(q.current.value)}xe.goToOption(Z.Specific,j.activeOptionIndex)}}),X=F(()=>{$({type:0}),P.current=!0}),k=F(()=>{$({type:1}),P.current=!1,m==null||m()}),ee=F(q=>{$({type:3,isTyping:q})}),re=F((q,ie,Pe)=>(P.current=!1,q===Z.Specific?$({type:2,focus:Z.Specific,idx:ie,trigger:Pe}):$({type:2,focus:q,trigger:Pe}))),ae=F((q,ie)=>($({type:4,payload:{id:q,dataRef:ie}}),()=>{j.isActive(ie.current.value)&&(P.current=!0),$({type:5,id:q})})),J=F(q=>fe(j.mode,{0(){return T==null?void 0:T(q)},1(){let ie=j.value.slice(),Pe=ie.findIndex(Bt=>I(Bt,q));return Pe===-1?ie.push(q):ie.splice(Pe,1),T==null?void 0:T(ie)}})),ge=F(q=>{$({type:6,trigger:q})}),xe=u.useMemo(()=>({onChange:J,registerOption:ae,goToOption:re,setIsTyping:ee,closeCombobox:k,openCombobox:X,setActivationTrigger:ge,selectActiveOption:K}),[]),[Nt,Vt]=Sl(),oe=t===null?{}:{ref:t},pe=u.useCallback(()=>{if(w!==void 0)return T==null?void 0:T(w)},[T,w]);return D.createElement(Vt,{value:Nt,props:{htmlFor:(r=j.inputRef.current)==null?void 0:r.id},slot:{open:j.comboboxState===0,disabled:p}},D.createElement(nu,null,D.createElement(To.Provider,{value:xe},D.createElement(yn.Provider,{value:j},D.createElement(wo,{value:fe(j.comboboxState,{0:ye.Open,1:ye.Closed})},c!=null&&D.createElement(vl,{disabled:p,data:S!=null?{[c]:S}:{},form:l,onReset:pe}),de({ourProps:oe,theirProps:E,slot:C,defaultTag:Lb,name:"Combobox"}))))))}let Vb="input";function Bb(e,t){var n,r,i,o,s;let a=on("Combobox.Input"),l=_n("Combobox.Input"),c=u.useId(),d=ao(),{id:p=d||`headlessui-combobox-input-${c}`,onChange:m,displayValue:f,disabled:g=a.disabled||!1,autoFocus:v=!1,type:b="text",...x}=e,E=me(a.inputRef,t,Jl()),w=An(a.inputRef),S=gt(),T=F(()=>{l.onChange(null),a.optionsRef.current&&(a.optionsRef.current.scrollTop=0),l.goToOption(Z.Nothing)}),O=u.useMemo(()=>{var k;return typeof f=="function"&&a.value!==void 0?(k=f(a.value))!=null?k:"":typeof a.value=="string"?a.value:""},[a.value,f]);Cs(([k,ee],[re,ae])=>{if(a.isTyping)return;let J=a.inputRef.current;J&&((ae===0&&ee===1||k!==re)&&(J.value=k),requestAnimationFrame(()=>{if(a.isTyping||!J||(w==null?void 0:w.activeElement)!==J)return;let{selectionStart:ge,selectionEnd:xe}=J;Math.abs((xe??0)-(ge??0))===0&&ge===0&&J.setSelectionRange(J.value.length,J.value.length)}))},[O,a.comboboxState,w,a.isTyping]),Cs(([k],[ee])=>{if(k===0&&ee===1){if(a.isTyping)return;let re=a.inputRef.current;if(!re)return;let ae=re.value,{selectionStart:J,selectionEnd:ge,selectionDirection:xe}=re;re.value="",re.value=ae,xe!==null?re.setSelectionRange(J,ge,xe):re.setSelectionRange(J,ge)}},[a.comboboxState]);let $=u.useRef(!1),P=F(()=>{$.current=!0}),_=F(()=>{S.nextFrame(()=>{$.current=!1})}),B=F(k=>{switch(l.setIsTyping(!0),k.key){case U.Enter:if(a.comboboxState!==0||$.current)return;if(k.preventDefault(),k.stopPropagation(),a.activeOptionIndex===null){l.closeCombobox();return}l.selectActiveOption(),a.mode===0&&l.closeCombobox();break;case U.ArrowDown:return k.preventDefault(),k.stopPropagation(),fe(a.comboboxState,{0:()=>l.goToOption(Z.Next),1:()=>l.openCombobox()});case U.ArrowUp:return k.preventDefault(),k.stopPropagation(),fe(a.comboboxState,{0:()=>l.goToOption(Z.Previous),1:()=>{he.flushSync(()=>l.openCombobox()),a.value||l.goToOption(Z.Last)}});case U.Home:if(k.shiftKey)break;return k.preventDefault(),k.stopPropagation(),l.goToOption(Z.First);case U.PageUp:return k.preventDefault(),k.stopPropagation(),l.goToOption(Z.First);case U.End:if(k.shiftKey)break;return k.preventDefault(),k.stopPropagation(),l.goToOption(Z.Last);case U.PageDown:return k.preventDefault(),k.stopPropagation(),l.goToOption(Z.Last);case U.Escape:return a.comboboxState!==0?void 0:(k.preventDefault(),a.optionsRef.current&&!a.optionsPropsRef.current.static&&k.stopPropagation(),a.mode===0&&a.value===null&&T(),l.closeCombobox());case U.Tab:if(a.comboboxState!==0)return;a.mode===0&&a.activationTrigger!==1&&l.selectActiveOption(),l.closeCombobox();break}}),R=F(k=>{m==null||m(k),a.mode===0&&k.target.value===""&&T(),l.openCombobox()}),z=F(k=>{var ee,re,ae;let J=(ee=k.relatedTarget)!=null?ee:wt.find(ge=>ge!==k.currentTarget);if(!((re=a.optionsRef.current)!=null&&re.contains(J))&&!((ae=a.buttonRef.current)!=null&&ae.contains(J))&&a.comboboxState===0)return k.preventDefault(),a.mode===0&&a.value===null&&T(),l.closeCombobox()}),I=F(k=>{var ee,re,ae;let J=(ee=k.relatedTarget)!=null?ee:wt.find(ge=>ge!==k.currentTarget);(re=a.buttonRef.current)!=null&&re.contains(J)||(ae=a.optionsRef.current)!=null&&ae.contains(J)||a.disabled||a.immediate&&a.comboboxState!==0&&S.microTask(()=>{he.flushSync(()=>l.openCombobox()),l.setActivationTrigger(1)})}),L=jn(),G=wl(),{isFocused:Q,focusProps:j}=Fn({autoFocus:v}),{isHovered:V,hoverProps:C}=jr({isDisabled:g}),K=u.useMemo(()=>({open:a.comboboxState===0,disabled:g,hover:V,focus:Q,autofocus:v}),[a,V,Q,v,g]),X=Lt({ref:E,id:p,role:"combobox",type:b,"aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.comboboxState===0,"aria-activedescendant":a.activeOptionIndex===null?void 0:a.virtual?(r=a.options.find(k=>!k.dataRef.current.disabled&&a.compare(k.dataRef.current.value,a.virtual.options[a.activeOptionIndex])))==null?void 0:r.id:(i=a.options[a.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":L,"aria-describedby":G,"aria-autocomplete":"list",defaultValue:(s=(o=e.defaultValue)!=null?o:a.defaultValue!==void 0?f==null?void 0:f(a.defaultValue):null)!=null?s:a.defaultValue,disabled:g||void 0,autoFocus:v,onCompositionStart:P,onCompositionEnd:_,onKeyDown:B,onChange:R,onFocus:I,onBlur:z},j,C);return de({ourProps:X,theirProps:x,slot:K,defaultTag:Vb,name:"Combobox.Input"})}let Hb="button";function zb(e,t){var n;let r=on("Combobox.Button"),i=_n("Combobox.Button"),o=me(r.buttonRef,t),s=u.useId(),{id:a=`headlessui-combobox-button-${s}`,disabled:l=r.disabled||!1,autoFocus:c=!1,...d}=e,p=Ml(r.inputRef),m=F($=>{switch($.key){case U.Space:case U.Enter:$.preventDefault(),$.stopPropagation(),r.comboboxState===1&&he.flushSync(()=>i.openCombobox()),p();return;case U.ArrowDown:$.preventDefault(),$.stopPropagation(),r.comboboxState===1&&(he.flushSync(()=>i.openCombobox()),r.value||i.goToOption(Z.First)),p();return;case U.ArrowUp:$.preventDefault(),$.stopPropagation(),r.comboboxState===1&&(he.flushSync(()=>i.openCombobox()),r.value||i.goToOption(Z.Last)),p();return;case U.Escape:if(r.comboboxState!==0)return;$.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&$.stopPropagation(),he.flushSync(()=>i.closeCombobox()),p();return;default:return}}),f=F($=>{$.preventDefault(),!bl($.currentTarget)&&($.button===Eo.Left&&(r.comboboxState===0?i.closeCombobox():i.openCombobox()),p())}),g=jn([a]),{isFocusVisible:v,focusProps:b}=Fn({autoFocus:c}),{isHovered:x,hoverProps:E}=jr({isDisabled:l}),{pressed:w,pressProps:S}=so({disabled:l}),T=u.useMemo(()=>({open:r.comboboxState===0,active:w||r.comboboxState===0,disabled:l,value:r.value,hover:x,focus:v}),[r,x,v,w,l]),O=Lt({ref:o,id:a,type:po(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":g,disabled:l||void 0,autoFocus:c,onMouseDown:f,onKeyDown:m},b,E,S);return de({ourProps:O,theirProps:d,slot:T,defaultTag:Hb,name:"Combobox.Button"})}let qb="div",Ub=ut.RenderStrategy|ut.Static;function Wb(e,t){var n,r,i;let o=u.useId(),{id:s=`headlessui-combobox-options-${o}`,hold:a=!1,anchor:l,portal:c=!1,modal:d=!0,transition:p=!1,...m}=e,f=on("Combobox.Options"),g=_n("Combobox.Options"),v=Ql(l);v&&(c=!0);let[b,x]=tu(v),E=eu(),w=me(f.optionsRef,t,v?b:null),S=An(f.optionsRef),T=Lr(),[O,$]=mo(p,f.optionsRef,T!==null?(T&ye.Open)===ye.Open:f.comboboxState===0);co(O,f.inputRef,g.closeCombobox);let P=f.__demoMode?!1:d&&f.comboboxState===0;kl(P,S);let _=f.__demoMode?!1:d&&f.comboboxState===0;Fl(_,{allowed:F(()=>[f.inputRef.current,f.buttonRef.current,f.optionsRef.current])}),W(()=>{var C;f.optionsPropsRef.current.static=(C=e.static)!=null?C:!1},[f.optionsPropsRef,e.static]),W(()=>{f.optionsPropsRef.current.hold=a},[f.optionsPropsRef,a]),av(f.comboboxState===0,{container:f.optionsRef.current,accept(C){return C.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:C.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(C){C.setAttribute("role","none")}});let B=jn([(n=f.buttonRef.current)==null?void 0:n.id]),R=u.useMemo(()=>({open:f.comboboxState===0,option:void 0}),[f.comboboxState]),z=F(()=>{g.setActivationTrigger(0)}),I=F(C=>{C.preventDefault(),g.setActivationTrigger(0)}),L=Lt(v?E():{},{"aria-labelledby":B,role:"listbox","aria-multiselectable":f.mode===1?!0:void 0,id:s,ref:w,style:{...m.style,...x,"--input-width":Ri(f.inputRef,!0).width,"--button-width":Ri(f.buttonRef,!0).width},onWheel:f.activationTrigger===0?void 0:z,onMouseDown:I,...ho($)}),G=O&&f.comboboxState===1,Q=sr(G,(r=f.virtual)==null?void 0:r.options),j=sr(G,f.value),V=F(C=>f.compare(j,C));if(f.virtual){if(Q===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(m,{children:D.createElement(yn.Provider,{value:Q!==f.virtual.options?{...f,virtual:{...f.virtual,options:Q}}:f},D.createElement(kb,{slot:R},m.children))})}return D.createElement(su,{enabled:c?e.static||O:!1},D.createElement(yn.Provider,{value:f.mode===1?f:{...f,isSelected:V}},de({ourProps:L,theirProps:{...m,children:D.createElement(mb,{freeze:G},typeof m.children=="function"?(i=m.children)==null?void 0:i.call(m,R):m.children)},slot:R,defaultTag:qb,features:Ub,visible:O,name:"Combobox.Options"})))}let Gb="div";function Kb(e,t){var n,r,i,o;let s=on("Combobox.Option"),a=_n("Combobox.Option"),l=u.useId(),{id:c=`headlessui-combobox-option-${l}`,value:d,disabled:p=(i=(r=(n=s.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,d))!=null?i:!1,order:m=null,...f}=e,g=Ml(s.inputRef),v=s.virtual?s.activeOptionIndex===s.calculateIndex(d):s.activeOptionIndex===null?!1:((o=s.options[s.activeOptionIndex])==null?void 0:o.id)===c,b=s.isSelected(d),x=u.useRef(null),E=Se({disabled:p,value:d,domRef:x,order:m}),w=u.useContext(au),S=me(t,x,w?w.measureElement:null),T=F(()=>{a.setIsTyping(!1),a.onChange(d)});W(()=>a.registerOption(c,E),[E,c]);let O=u.useRef(!(s.virtual||s.__demoMode));W(()=>{if(!s.virtual&&!s.__demoMode)return He().requestAnimationFrame(()=>{O.current=!0})},[s.virtual,s.__demoMode]),W(()=>{if(O.current&&s.comboboxState===0&&v&&s.activationTrigger!==0)return He().requestAnimationFrame(()=>{var L,G;(G=(L=x.current)==null?void 0:L.scrollIntoView)==null||G.call(L,{block:"nearest"})})},[x,v,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let $=F(L=>{L.preventDefault(),L.button===Eo.Left&&(p||(T(),Pl()||requestAnimationFrame(()=>g()),s.mode===0&&a.closeCombobox()))}),P=F(()=>{if(p)return a.goToOption(Z.Nothing);let L=s.calculateIndex(d);a.goToOption(Z.Specific,L)}),_=Dl(),B=F(L=>_.update(L)),R=F(L=>{if(!_.wasMoved(L)||p||v)return;let G=s.calculateIndex(d);a.goToOption(Z.Specific,G,0)}),z=F(L=>{_.wasMoved(L)&&(p||v&&(s.optionsPropsRef.current.hold||a.goToOption(Z.Nothing)))}),I=u.useMemo(()=>({active:v,focus:v,selected:b,disabled:p}),[v,b,p]);return de({ourProps:{id:c,ref:S,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:$,onFocus:P,onPointerEnter:B,onMouseEnter:B,onPointerMove:R,onMouseMove:R,onPointerLeave:z,onMouseLeave:z},theirProps:f,slot:I,defaultTag:Gb,name:"Combobox.Option"})}let Yb=ce(Nb),Zb=ce(zb),lu=ce(Bb),Xb=Tl,uu=ce(Wb),cu=ce(Kb),Qb=Object.assign(Yb,{Input:lu,Button:Zb,Label:Xb,Options:uu,Option:cu});function du(){let e=u.useRef(!1);return W(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function fu(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:hu)!==u.Fragment||D.Children.count(e.children)===1}let Nr=u.createContext(null);Nr.displayName="TransitionContext";var Jb=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Jb||{});function e0(){let e=u.useContext(Nr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function t0(){let e=u.useContext(Vr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Vr=u.createContext(null);Vr.displayName="NestingContext";function Br(e){return"children"in e?Br(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function pu(e,t){let n=Se(e),r=u.useRef([]),i=du(),o=gt(),s=F((f,g=it.Hidden)=>{let v=r.current.findIndex(({el:b})=>b===f);v!==-1&&(fe(g,{[it.Unmount](){r.current.splice(v,1)},[it.Hidden](){r.current[v].state="hidden"}}),o.microTask(()=>{var b;!Br(r)&&i.current&&((b=n.current)==null||b.call(n))}))}),a=F(f=>{let g=r.current.find(({el:v})=>v===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,it.Unmount)}),l=u.useRef([]),c=u.useRef(Promise.resolve()),d=u.useRef({enter:[],leave:[]}),p=F((f,g,v)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([b])=>b!==f)),t==null||t.chains.current[g].push([f,new Promise(b=>{l.current.push(b)})]),t==null||t.chains.current[g].push([f,new Promise(b=>{Promise.all(d.current[g].map(([x,E])=>E)).then(()=>b())})]),g==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(g)):v(g)}),m=F((f,g,v)=>{Promise.all(d.current[g].splice(0).map(([b,x])=>x)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>v(g))});return u.useMemo(()=>({children:r,register:a,unregister:s,onStart:p,onStop:m,wait:c,chains:d}),[a,s,r,p,m,d,c])}let hu=u.Fragment,mu=ut.RenderStrategy;function n0(e,t){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:p,entered:m,leave:f,leaveFrom:g,leaveTo:v,...b}=e,x=u.useRef(null),E=fu(e),w=me(...E?[x,t]:t===null?[]:[t]),S=(n=b.unmount)==null||n?it.Unmount:it.Hidden,{show:T,appear:O,initial:$}=e0(),[P,_]=u.useState(T?"visible":"hidden"),B=t0(),{register:R,unregister:z}=B;W(()=>R(x),[R,x]),W(()=>{if(S===it.Hidden&&x.current){if(T&&P!=="visible"){_("visible");return}return fe(P,{hidden:()=>z(x),visible:()=>R(x)})}},[P,x,R,z,T,S]);let I=So();W(()=>{if(E&&I&&P==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,P,I,E]);let L=$&&!O,G=O&&T&&$,Q=u.useRef(!1),j=pu(()=>{Q.current||(_("hidden"),z(x))},B),V=F(re=>{Q.current=!0;let ae=re?"enter":"leave";j.onStart(x,ae,J=>{J==="enter"?o==null||o():J==="leave"&&(a==null||a())})}),C=F(re=>{let ae=re?"enter":"leave";Q.current=!1,j.onStop(x,ae,J=>{J==="enter"?s==null||s():J==="leave"&&(l==null||l())}),ae==="leave"&&!Br(j)&&(_("hidden"),z(x))});u.useEffect(()=>{E&&i||(V(T),C(T))},[T,E,i]);let K=!(!i||!E||!I||L),[,X]=mo(K,x,T,{start:V,end:C}),k=rt({ref:w,className:((r=Ci(b.className,G&&c,G&&d,X.enter&&c,X.enter&&X.closed&&d,X.enter&&!X.closed&&p,X.leave&&f,X.leave&&!X.closed&&g,X.leave&&X.closed&&v,!X.transition&&T&&m))==null?void 0:r.trim())||void 0,...ho(X)}),ee=0;return P==="visible"&&(ee|=ye.Open),P==="hidden"&&(ee|=ye.Closed),X.enter&&(ee|=ye.Opening),X.leave&&(ee|=ye.Closing),D.createElement(Vr.Provider,{value:j},D.createElement(wo,{value:ee},de({ourProps:k,theirProps:b,defaultTag:hu,features:mu,visible:P==="visible",name:"Transition.Child"})))}function r0(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=u.useRef(null),a=fu(e),l=me(...a?[s,t]:t===null?[]:[t]);So();let c=Lr();if(n===void 0&&c!==null&&(n=(c&ye.Open)===ye.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,p]=u.useState(n?"visible":"hidden"),m=pu(()=>{n||p("hidden")}),[f,g]=u.useState(!0),v=u.useRef([n]);W(()=>{f!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let b=u.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);co(n,s,()=>p("hidden")),W(()=>{n?p("visible"):!Br(m)&&s.current!==null&&p("hidden")},[n,m]);let x={unmount:i},E=F(()=>{var S;f&&g(!1),(S=e.beforeEnter)==null||S.call(e)}),w=F(()=>{var S;f&&g(!1),(S=e.beforeLeave)==null||S.call(e)});return D.createElement(Vr.Provider,{value:m},D.createElement(Nr.Provider,{value:b},de({ourProps:{...x,as:u.Fragment,children:D.createElement(gu,{ref:l,...x,...o,beforeEnter:E,beforeLeave:w})},theirProps:{},defaultTag:u.Fragment,features:mu,visible:d==="visible",name:"Transition"})))}function i0(e,t){let n=u.useContext(Nr)!==null,r=Lr()!==null;return D.createElement(D.Fragment,null,!n&&r?D.createElement(Ii,{ref:t,...e}):D.createElement(gu,{ref:t,...e}))}let Ii=ce(r0),gu=ce(n0),o0=ce(i0),s0=Object.assign(Ii,{Child:o0,Root:Ii});function a0(e,t){let[n,r]=u.useState(e),i=Se(e);return W(()=>r(i.current),[i,r,...t]),n}function l0(e,t){let n=u.useRef({left:0,top:0});if(W(()=>{let i=t.current;if(!i)return;let o=i.getBoundingClientRect();o&&(n.current=o)},[e]),t.current==null||!e||t.current===document.activeElement)return!1;let r=t.current.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Hs=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function zs(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return Hs.test(s)&&(s=s.replace(Hs,"")),s}function u0(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():zs(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return zs(e).trim()}function c0(e){let t=u.useRef(""),n=u.useRef("");return F(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=u0(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var d0=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(d0||{}),f0=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(f0||{}),p0=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(p0||{}),h0=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e))(h0||{});function ci(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ot(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let m0={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Z.Nothing)return{...a,activeOptionIndex:null};if(t.focus===Z.Specific)return{...a,activeOptionIndex:e.options.findIndex(d=>d.id===t.id)};if(t.focus===Z.Previous){let d=e.activeOptionIndex;if(d!==null){let p=e.options[d].dataRef.current.domRef,m=mn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(m!==null){let f=e.options[m].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:m}}}}else if(t.focus===Z.Next){let d=e.activeOptionIndex;if(d!==null){let p=e.options[d].dataRef.current.domRef,m=mn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(m!==null){let f=e.options[m].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.nextElementSibling)===f.current||((s=f.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeOptionIndex:m}}}}let l=ci(e),c=mn(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeOptionIndex:c}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var a;return!s.dataRef.current.disabled&&((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ci(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=ci(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}}},Oo=u.createContext(null);Oo.displayName="ListboxActionsContext";function Hr(e){let t=u.useContext(Oo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hr),n}return t}let zr=u.createContext(null);zr.displayName="ListboxDataContext";function Mn(e){let t=u.useContext(zr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mn),n}return t}function g0(e,t){return fe(t.type,m0,e,t)}let v0=u.Fragment;function b0(e,t){var n;let r=Ar(),{value:i,defaultValue:o,form:s,name:a,onChange:l,by:c,invalid:d=!1,disabled:p=r||!1,horizontal:m=!1,multiple:f=!1,__demoMode:g=!1,...v}=e;const b=m?"horizontal":"vertical";let x=me(t),E=pl(o),[w=f?[]:void 0,S]=fl(i,l,E),[T,O]=u.useReducer(g0,{dataRef:u.createRef(),listboxState:g?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,__demoMode:g}),$=u.useRef({static:!1,hold:!1}),P=u.useRef(null),_=u.useRef(null),B=u.useRef(new Map),R=$l(c),z=u.useCallback(oe=>fe(I.mode,{1:()=>w.some(pe=>R(pe,oe)),0:()=>R(w,oe)}),[w]),I=u.useMemo(()=>({...T,value:w,disabled:p,invalid:d,mode:f?1:0,orientation:b,compare:R,isSelected:z,optionsPropsRef:$,buttonRef:P,optionsRef:_,listRef:B}),[w,p,d,f,T,B]);W(()=>{T.dataRef.current=I},[I]);let L=I.listboxState===0;_l(L,[I.buttonRef,I.optionsRef],(oe,pe)=>{var q;O({type:1}),Al(pe,fo.Loose)||(oe.preventDefault(),(q=I.buttonRef.current)==null||q.focus())});let G=u.useMemo(()=>({open:I.listboxState===0,disabled:p,invalid:d,value:w}),[I,p,w,d]),Q=F(oe=>{let pe=I.options.find(q=>q.id===oe);pe&&ee(pe.dataRef.current.value)}),j=F(()=>{if(I.activeOptionIndex!==null){let{dataRef:oe,id:pe}=I.options[I.activeOptionIndex];ee(oe.current.value),O({type:2,focus:Z.Specific,id:pe})}}),V=F(()=>O({type:0})),C=F(()=>O({type:1})),K=gt(),X=F((oe,pe,q)=>{K.dispose(),K.microTask(()=>oe===Z.Specific?O({type:2,focus:Z.Specific,id:pe,trigger:q}):O({type:2,focus:oe,trigger:q}))}),k=F((oe,pe)=>(O({type:5,id:oe,dataRef:pe}),()=>O({type:6,id:oe}))),ee=F(oe=>fe(I.mode,{0(){return S==null?void 0:S(oe)},1(){let pe=I.value.slice(),q=pe.findIndex(ie=>R(ie,oe));return q===-1?pe.push(oe):pe.splice(q,1),S==null?void 0:S(pe)}})),re=F(oe=>O({type:3,value:oe})),ae=F(()=>O({type:4})),J=u.useMemo(()=>({onChange:ee,registerOption:k,goToOption:X,closeListbox:C,openListbox:V,selectActiveOption:j,selectOption:Q,search:re,clearSearch:ae}),[]),[ge,xe]=Sl({inherit:!0}),Nt={ref:x},Vt=u.useCallback(()=>{if(E!==void 0)return S==null?void 0:S(E)},[S,E]);return D.createElement(xe,{value:ge,props:{htmlFor:(n=I.buttonRef.current)==null?void 0:n.id},slot:{open:I.listboxState===0,disabled:p}},D.createElement(nu,null,D.createElement(Oo.Provider,{value:J},D.createElement(zr.Provider,{value:I},D.createElement(wo,{value:fe(I.listboxState,{0:ye.Open,1:ye.Closed})},a!=null&&w!=null&&D.createElement(vl,{disabled:p,data:{[a]:w},form:s,onReset:Vt}),de({ourProps:Nt,theirProps:v,slot:G,defaultTag:v0,name:"Listbox"}))))))}let x0="button";function y0(e,t){var n;let r=Mn("Listbox.Button"),i=Hr("Listbox.Button"),o=u.useId(),s=ao(),{id:a=s||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:c=!1,...d}=e,p=me(r.buttonRef,t,Jl()),m=fb(),f=F(R=>{switch(R.key){case U.Enter:ag(R.currentTarget);break;case U.Space:case U.ArrowDown:R.preventDefault(),he.flushSync(()=>i.openListbox()),r.value||i.goToOption(Z.First);break;case U.ArrowUp:R.preventDefault(),he.flushSync(()=>i.openListbox()),r.value||i.goToOption(Z.Last);break}}),g=F(R=>{switch(R.key){case U.Space:R.preventDefault();break}}),v=F(R=>{var z;if(bl(R.currentTarget))return R.preventDefault();r.listboxState===0?(he.flushSync(()=>i.closeListbox()),(z=r.buttonRef.current)==null||z.focus({preventScroll:!0})):(R.preventDefault(),i.openListbox())}),b=F(R=>R.preventDefault()),x=jn([a]),E=wl(),{isFocusVisible:w,focusProps:S}=Fn({autoFocus:c}),{isHovered:T,hoverProps:O}=jr({isDisabled:l}),{pressed:$,pressProps:P}=so({disabled:l}),_=u.useMemo(()=>({open:r.listboxState===0,active:$||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:T,focus:w,autofocus:c}),[r.listboxState,r.value,l,T,w,$,r.invalid,c]),B=Lt(m(),{ref:p,id:a,type:po(e,r.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":x,"aria-describedby":E,disabled:l||void 0,autoFocus:c,onKeyDown:f,onKeyUp:g,onKeyPress:b,onClick:v},S,O,P);return de({ourProps:B,theirProps:d,slot:_,defaultTag:x0,name:"Listbox.Button"})}let vu=u.createContext(!1),w0="div",E0=ut.RenderStrategy|ut.Static;function S0(e,t){var n;let r=u.useId(),{id:i=`headlessui-listbox-options-${r}`,anchor:o,portal:s=!1,modal:a=!0,transition:l=!1,...c}=e,d=Ql(o);d&&(s=!0);let p=Mn("Listbox.Options"),m=Hr("Listbox.Options"),f=An(p.optionsRef),g=Lr(),[v,b]=mo(l,p.optionsRef,g!==null?(g&ye.Open)===ye.Open:p.listboxState===0);co(v,p.buttonRef,m.closeListbox);let x=p.__demoMode?!1:a&&p.listboxState===0;kl(x,f);let E=p.__demoMode?!1:a&&p.listboxState===0;Fl(E,{allowed:F(()=>[p.buttonRef.current,p.optionsRef.current])});let w=p.listboxState!==0,S=l0(w,p.buttonRef)?!1:v,T=v&&p.listboxState===1,O=sr(T,p.value),$=F(C=>p.compare(O,C)),P=u.useMemo(()=>{var C;if(d==null||!((C=d==null?void 0:d.to)!=null&&C.includes("selection")))return null;let K=p.options.findIndex(X=>$(X.dataRef.current.value));return K===-1&&(K=0),K},[d,p.options]),_=(()=>{if(d==null)return;if(P===null)return{...d,inner:void 0};let C=Array.from(p.listRef.current.values());return{...d,inner:{listRef:{current:C},index:P}}})(),[B,R]=tu(_),z=eu(),I=me(p.optionsRef,t,d?B:null),L=gt();u.useEffect(()=>{var C;let K=p.optionsRef.current;K&&p.listboxState===0&&K!==((C=Dt(K))==null?void 0:C.activeElement)&&(K==null||K.focus({preventScroll:!0}))},[p.listboxState,p.optionsRef,p.optionsRef.current]);let G=F(C=>{var K,X;switch(L.dispose(),C.key){case U.Space:if(p.searchQuery!=="")return C.preventDefault(),C.stopPropagation(),m.search(C.key);case U.Enter:if(C.preventDefault(),C.stopPropagation(),p.activeOptionIndex!==null){let{dataRef:k}=p.options[p.activeOptionIndex];m.onChange(k.current.value)}p.mode===0&&(he.flushSync(()=>m.closeListbox()),(K=p.buttonRef.current)==null||K.focus({preventScroll:!0}));break;case fe(p.orientation,{vertical:U.ArrowDown,horizontal:U.ArrowRight}):return C.preventDefault(),C.stopPropagation(),m.goToOption(Z.Next);case fe(p.orientation,{vertical:U.ArrowUp,horizontal:U.ArrowLeft}):return C.preventDefault(),C.stopPropagation(),m.goToOption(Z.Previous);case U.Home:case U.PageUp:return C.preventDefault(),C.stopPropagation(),m.goToOption(Z.First);case U.End:case U.PageDown:return C.preventDefault(),C.stopPropagation(),m.goToOption(Z.Last);case U.Escape:C.preventDefault(),C.stopPropagation(),he.flushSync(()=>m.closeListbox()),(X=p.buttonRef.current)==null||X.focus({preventScroll:!0});return;case U.Tab:C.preventDefault(),C.stopPropagation(),he.flushSync(()=>m.closeListbox()),Wg(p.buttonRef.current,C.shiftKey?Ce.Previous:Ce.Next);break;default:C.key.length===1&&(m.search(C.key),L.setTimeout(()=>m.clearSearch(),350));break}}),Q=a0(()=>{var C;return(C=p.buttonRef.current)==null?void 0:C.id},[p.buttonRef.current]),j=u.useMemo(()=>({open:p.listboxState===0}),[p.listboxState]),V=Lt(d?z():{},{id:i,ref:I,"aria-activedescendant":p.activeOptionIndex===null||(n=p.options[p.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":p.mode===1?!0:void 0,"aria-labelledby":Q,"aria-orientation":p.orientation,onKeyDown:G,role:"listbox",tabIndex:p.listboxState===0?0:void 0,style:{...c.style,...R,"--button-width":Ri(p.buttonRef,!0).width},...ho(b)});return D.createElement(su,{enabled:s?e.static||v:!1},D.createElement(zr.Provider,{value:p.mode===1?p:{...p,isSelected:$}},de({ourProps:V,theirProps:c,slot:j,defaultTag:w0,features:E0,visible:S,name:"Listbox.Options"})))}let T0="div";function O0(e,t){let n=u.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,a=u.useContext(vu)===!0,l=Mn("Listbox.Option"),c=Hr("Listbox.Option"),d=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,p=l.isSelected(o),m=u.useRef(null),f=c0(m),g=Se({disabled:i,value:o,domRef:m,get textValue(){return f()}}),v=me(t,m,P=>{P?l.listRef.current.set(r,P):l.listRef.current.delete(r)});W(()=>{if(!l.__demoMode&&l.listboxState===0&&d&&l.activationTrigger!==0)return He().requestAnimationFrame(()=>{var P,_;(_=(P=m.current)==null?void 0:P.scrollIntoView)==null||_.call(P,{block:"nearest"})})},[m,d,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),W(()=>{if(!a)return c.registerOption(r,g)},[g,r,a]);let b=F(P=>{var _;if(i)return P.preventDefault();c.onChange(o),l.mode===0&&(he.flushSync(()=>c.closeListbox()),(_=l.buttonRef.current)==null||_.focus({preventScroll:!0}))}),x=F(()=>{if(i)return c.goToOption(Z.Nothing);c.goToOption(Z.Specific,r)}),E=Dl(),w=F(P=>{E.update(P),!i&&(d||c.goToOption(Z.Specific,r,0))}),S=F(P=>{E.wasMoved(P)&&(i||d||c.goToOption(Z.Specific,r,0))}),T=F(P=>{E.wasMoved(P)&&(i||d&&c.goToOption(Z.Nothing))}),O=u.useMemo(()=>({active:d,focus:d,selected:p,disabled:i,selectedOption:p&&a}),[d,p,i,a]);return!p&&a?null:de({ourProps:a?{}:{id:r,ref:v,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:w,onMouseEnter:w,onPointerMove:S,onMouseMove:S,onPointerLeave:T,onMouseLeave:T},theirProps:s,slot:O,defaultTag:T0,name:"Listbox.Option"})}let $0=u.Fragment;function C0(e,t){let{options:n,placeholder:r,...i}=e,o={ref:me(t)},s=Mn("ListboxSelectedOption"),a=u.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0;return D.createElement(vu.Provider,{value:!0},de({ourProps:o,theirProps:{...i,children:D.createElement(D.Fragment,null,r&&l?r:n)},slot:a,defaultTag:$0,name:"ListboxSelectedOption"}))}let R0=ce(b0),bu=ce(y0),F0=Tl,xu=ce(S0),yu=ce(O0),j0=ce(C0),A0=Object.assign(R0,{Button:bu,Label:F0,Options:xu,Option:yu,SelectedOption:j0});function I0({onFocus:e}){let[t,n]=u.useState(!0),r=du();return t?D.createElement(Pr,{as:"button",type:"button",features:Ir.Focusable,onFocus:i=>{i.preventDefault();let o,s=50;function a(){if(s--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const wu=u.createContext(null);function P0(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let o=Array.from(r.keys()).indexOf(t);function s(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[o,s]}}}function _0({children:e}){let t=u.useRef(P0());return u.createElement(wu.Provider,{value:t},e)}function Eu(e){let t=u.useContext(wu);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=u.useId(),[r,i]=t.current.get(e,n);return u.useEffect(()=>i,[]),r}var M0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(M0||{}),k0=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(k0||{}),D0=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(D0||{});let L0={0(e,t){var n;let r=ot(e.tabs,d=>d.current),i=ot(e.panels,d=>d.current),o=r.filter(d=>{var p;return!((p=d.current)!=null&&p.hasAttribute("disabled"))}),s={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let d=fe(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>fe(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return s;let p=fe(d,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...s,selectedIndex:p===-1?e.selectedIndex:p}}let a=r.slice(0,t.index),l=[...r.slice(t.index),...a].find(d=>o.includes(d));if(!l)return s;let c=(n=r.indexOf(l))!=null?n:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...s,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=ot([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:ot([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},$o=u.createContext(null);$o.displayName="TabsDataContext";function Xt(e){let t=u.useContext($o);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xt),n}return t}let Co=u.createContext(null);Co.displayName="TabsActionsContext";function Ro(e){let t=u.useContext(Co);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ro),n}return t}function N0(e,t){return fe(t.type,L0,e,t)}let V0="div";function B0(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:s=null,...a}=e;const l=r?"vertical":"horizontal",c=i?"manual":"auto";let d=s!==null,p=Se({isControlled:d}),m=me(t),[f,g]=u.useReducer(N0,{info:p,selectedIndex:s??n,tabs:[],panels:[]}),v=u.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),b=Se(o||(()=>{})),x=Se(f.tabs),E=u.useMemo(()=>({orientation:l,activation:c,...f}),[l,c,f]),w=F(_=>(g({type:1,tab:_}),()=>g({type:2,tab:_}))),S=F(_=>(g({type:3,panel:_}),()=>g({type:4,panel:_}))),T=F(_=>{O.current!==_&&b.current(_),d||g({type:0,index:_})}),O=Se(d?e.selectedIndex:f.selectedIndex),$=u.useMemo(()=>({registerTab:w,registerPanel:S,change:T}),[]);W(()=>{g({type:0,index:s??n})},[s]),W(()=>{if(O.current===void 0||f.tabs.length<=0)return;let _=ot(f.tabs,B=>B.current);_.some((B,R)=>f.tabs[R]!==B)&&T(_.indexOf(f.tabs[O.current]))});let P={ref:m};return D.createElement(_0,null,D.createElement(Co.Provider,{value:$},D.createElement($o.Provider,{value:E},E.tabs.length<=0&&D.createElement(I0,{onFocus:()=>{var _,B;for(let R of x.current)if(((_=R.current)==null?void 0:_.tabIndex)===0)return(B=R.current)==null||B.focus(),!0;return!1}}),de({ourProps:P,theirProps:a,slot:v,defaultTag:V0,name:"Tabs"}))))}let H0="div";function z0(e,t){let{orientation:n,selectedIndex:r}=Xt("Tab.List"),i=me(t),o=u.useMemo(()=>({selectedIndex:r}),[r]);return de({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:o,defaultTag:H0,name:"Tabs.List"})}let q0="button";function U0(e,t){var n,r;let i=u.useId(),{id:o=`headlessui-tabs-tab-${i}`,disabled:s=!1,autoFocus:a=!1,...l}=e,{orientation:c,activation:d,selectedIndex:p,tabs:m,panels:f}=Xt("Tab"),g=Ro("Tab"),v=Xt("Tab"),b=u.useRef(null),x=me(b,t);W(()=>g.registerTab(b),[g,b]);let E=Eu("tabs"),w=m.indexOf(b);w===-1&&(w=E);let S=w===p,T=F(V=>{var C;let K=V();if(K===cn.Success&&d==="auto"){let X=(C=Dt(b))==null?void 0:C.activeElement,k=v.tabs.findIndex(ee=>ee.current===X);k!==-1&&g.change(k)}return K}),O=F(V=>{let C=m.map(K=>K.current).filter(Boolean);if(V.key===U.Space||V.key===U.Enter){V.preventDefault(),V.stopPropagation(),g.change(w);return}switch(V.key){case U.Home:case U.PageUp:return V.preventDefault(),V.stopPropagation(),T(()=>xt(C,Ce.First));case U.End:case U.PageDown:return V.preventDefault(),V.stopPropagation(),T(()=>xt(C,Ce.Last))}if(T(()=>fe(c,{vertical(){return V.key===U.ArrowUp?xt(C,Ce.Previous|Ce.WrapAround):V.key===U.ArrowDown?xt(C,Ce.Next|Ce.WrapAround):cn.Error},horizontal(){return V.key===U.ArrowLeft?xt(C,Ce.Previous|Ce.WrapAround):V.key===U.ArrowRight?xt(C,Ce.Next|Ce.WrapAround):cn.Error}}))===cn.Success)return V.preventDefault()}),$=u.useRef(!1),P=F(()=>{var V;$.current||($.current=!0,(V=b.current)==null||V.focus({preventScroll:!0}),g.change(w),oo(()=>{$.current=!1}))}),_=F(V=>{V.preventDefault()}),{isFocusVisible:B,focusProps:R}=Fn({autoFocus:a}),{isHovered:z,hoverProps:I}=jr({isDisabled:s}),{pressed:L,pressProps:G}=so({disabled:s}),Q=u.useMemo(()=>({selected:S,hover:z,active:L,focus:B,autofocus:a,disabled:s}),[S,z,B,L,a,s]),j=Lt({ref:x,onKeyDown:O,onMouseDown:_,onClick:P,id:o,role:"tab",type:po(e,b),"aria-controls":(r=(n=f[w])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1,disabled:s||void 0,autoFocus:a},R,I,G);return de({ourProps:j,theirProps:l,slot:Q,defaultTag:q0,name:"Tabs.Tab"})}let W0="div";function G0(e,t){let{selectedIndex:n}=Xt("Tab.Panels"),r=me(t),i=u.useMemo(()=>({selectedIndex:n}),[n]);return de({ourProps:{ref:r},theirProps:e,slot:i,defaultTag:W0,name:"Tabs.Panels"})}let K0="div",Y0=ut.RenderStrategy|ut.Static;function Z0(e,t){var n,r,i,o;let s=u.useId(),{id:a=`headlessui-tabs-panel-${s}`,tabIndex:l=0,...c}=e,{selectedIndex:d,tabs:p,panels:m}=Xt("Tab.Panel"),f=Ro("Tab.Panel"),g=u.useRef(null),v=me(g,t);W(()=>f.registerPanel(g),[f,g]);let b=Eu("panels"),x=m.indexOf(g);x===-1&&(x=b);let E=x===d,{isFocusVisible:w,focusProps:S}=Fn(),T=u.useMemo(()=>({selected:E,focus:w}),[E,w]),O=Lt({ref:v,id:a,role:"tabpanel","aria-labelledby":(r=(n=p[x])==null?void 0:n.current)==null?void 0:r.id,tabIndex:E?l:-1},S);return!E&&((i=c.unmount)==null||i)&&!((o=c.static)!=null&&o)?D.createElement(Pr,{"aria-hidden":"true",...O}):de({ourProps:O,theirProps:c,slot:T,defaultTag:K0,features:Y0,visible:E,name:"Tabs.Panel"})}let X0=ce(U0),Su=ce(B0),Tu=ce(z0),Ou=ce(G0),$u=ce(Z0),Q0=Object.assign(X0,{Group:Su,List:Tu,Panels:Ou,Panel:$u});function J0({title:e,titleId:t,...n},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"}))}const ex=u.forwardRef(J0);function tx({title:e,titleId:t,...n},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Cu=u.forwardRef(tx);function nx({title:e,titleId:t,...n},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const rx=u.forwardRef(nx),Fo={label:A.string,organisation:A.string,type:A.string,user:A.string,value:A.string},Ru={name:A.string.isRequired,id:A.string.isRequired,codelists:A.arrayOf(A.shape(Fo)).isRequired};function Pi({label:e,value:t}){return h.jsx(yu,{className:({active:n})=>De("relative cursor-pointer select-none py-2 pl-10 pr-4",n?"bg-oxford-600 text-white":"text-gray-900"),value:t,children:({selected:n,active:r})=>h.jsxs(h.Fragment,{children:[h.jsx("span",{className:De("block truncate",n?"font-medium":"font-normal"),children:h.jsx("span",{children:e})}),n?h.jsx("span",{className:De("absolute inset-y-0 left-0 flex items-center px-3 z-10",r?"text-white":"text-oxford-600"),children:h.jsx(Cu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})})}Pi.propTypes={label:A.string.isRequired,value:A.shape(Fo).isRequired};function Fu({defaultValue:e,handleChange:t,name:n}){const{formData:r}=Ne();return h.jsx(A0,{name:n,onChange:i=>t(i),value:e,children:h.jsxs("div",{className:"relative mt-1",children:[h.jsx(bu,{className:De("relative w-fit max-w-prose rounded-md border-gray-400 border-2 bg-white py-2 pl-3 pr-10 text-left shadow-sm","focus:outline-none","focus-visible:border-oxford-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300"),children:({value:i})=>h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"block truncate",children:i.label}),h.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 ",children:h.jsx(rx,{"aria-hidden":"true",className:"h-5 w-5 text-gray-400"})})]})}),h.jsx(s0,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:h.jsxs(xu,{className:"absolute z-10 mt-1 max-h-60 w-fit max-w-prose overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[r.codelist0?h.jsx(Pi,{label:r.codelist0.label,value:r.codelist0}):null,r.codelist1?h.jsx(Pi,{label:r.codelist1.label,value:r.codelist1}):null]})})]})})}Fu.propTypes={defaultValue:A.shape(Fo).isRequired,handleChange:A.func.isRequired,name:A.string.isRequired};function ix(){var p,m;const{dates:{startStr:e,endStr:t}}=Qt(),{formData:n}=Ne(),{errors:r,setFieldTouched:i,setFieldValue:o,touched:s,validateField:a,values:l}=Je();function c(f){f===l.codelistA&&(o("codelistA",l.codelistB),o("codelistB",f)),f===l.codelistB&&(o("codelistB",l.codelistA),o("codelistA",f))}function d(f,g,v){a(g),i(g),o(g,f.target.value),i("timeOption"),o("timeOption",Un({[g]:f.target.value,[v]:l==null?void 0:l[v]}))}return h.jsxs("div",{className:"flex flex-col gap-y-1",children:[h.jsx("p",{className:"max-w-prose text-lg",children:Me[0]}),h.jsx(Fu,{defaultValue:(l==null?void 0:l.codelistA)||l.codelist0,handleChange:f=>c(f),name:"codelistA"}),h.jsxs("p",{className:"max-w-prose text-lg grid gap-y-1",children:[Me[1],h.jsxs("span",{children:[h.jsx("strong",{children:e})," ",Me[2]," ",h.jsx("strong",{children:t})]}),Me[3]]}),h.jsxs("p",{className:"max-w-prose text-lg",children:[h.jsx("strong",{className:"block mb-1",children:l.codelistB.label||((p=n.codelist1)==null?void 0:p.label)}),Me[4]," ",h.jsxs("span",{className:"block mt-1",children:[h.jsx("strong",{children:l.codelistA.label||((m=n.codelist0)==null?void 0:m.label)})," ",Me[5]]})]}),h.jsxs(Xn,{hideLegend:!0,legend:"Select a time scale",children:[h.jsxs(Qn,{id:"timeHasValue",label:Un(l),labelClassName:"flex flex-row gap-1 items-center mt-2",name:"timeOption",type:"radio",value:Un(l),children:["up to",h.jsx(Yt,{className:"inline-flex w-[6ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-sm",inputMode:"numeric",max:"52",min:"0",name:"timeValue",onChange:f=>d(f,"timeValue","timeScale"),type:"text"}),h.jsx(Yt,{as:"select",className:"inline-flex w-[12ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-sm",name:"timeScale",onChange:f=>d(f,"timeScale","timeValue"),children:la.map(({label:f,value:g})=>h.jsx("option",{value:g,children:f},g))}),rl]}),h.jsx(Qn,{id:"anyTime",label:Ve,name:"timeOption",type:"radio",value:Ve})]}),r.timeValue&&s.timeValue?h.jsx(lt,{children:r.timeValue}):null]})}const ar=e=>en().shape({label:Be().required("Select a codelist"),organisation:Be(),value:Be().required("Select a codelist"),type:Be().oneOf(e.map(t=>t.id)).required()}).required("Select a codelist");function ox(e){return{codelistA:e.codelistA||e.codelist0,codelistB:e.codelistB||e.codelist1,timeOption:e.timeOption===Ve?Ve:Un({timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}),timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}}function sx(){const[,e]=pt(),{codelistGroups:t}=Qt(),{formData:n,setFormData:r}=Ne();if(Sn(["codelist0","codelist1"]))return h.jsx(En,{to:""});const i=en().shape({codelistA:ar(t),codelistB:ar(t),timeOption:Be().required(),timeValue:Wa().typeError("Amount must be a number").positive("Time value must be a positive number").min(0,"Time scale cannot be less than 0").required("Amount of time is required").test("tenYears","Time scale cannot be longer than 10 years",(o,s)=>{const{timeScale:a,timeOption:l}=s.parent;return l===Ve?!0:!(o===void 0||Number.isNaN(o)||a==="weeks"&&o>522||a==="months"&&o>120||a==="years"&&o>10)}),timeScale:Be().oneOf(la.map(o=>o.value)).required()});return h.jsx(Tr,{initialValues:ox(n),onSubmit:(o,s)=>s.validateForm().then(()=>{const{timeOption:a,timeScale:l,timeValue:c,...d}=o;return a===Ve?(r({...n,timeOption:a,timeEver:"true",timeScale:null,timeValue:null,...d}),e("/preview-request")):(r({...n,timeEver:null,...o}),e("/preview-request"))}),validateOnBlur:!0,validateOnChange:!0,validateOnMount:!0,validationSchema:i,children:({isValid:o})=>h.jsxs($n,{children:[h.jsx(Fr,{}),h.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Report request"}),h.jsx(ix,{}),h.jsx(mt,{className:"mt-6",disabled:!o,type:"submit",children:"Next"})]})})}function ju({id:e,label:t,name:n,value:r,onClick:i=()=>null}){return h.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[h.jsx(Yt,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:e,name:n,onClick:i,type:"checkbox",value:r}),h.jsx("label",{className:"cursor-pointer touch-manipulation tracking-tight",htmlFor:e,children:t})]})}ju.propTypes={id:A.string.isRequired,label:A.string.isRequired,name:A.string.isRequired,onClick:A.func,value:A.string.isRequired};function ax(){const[,e]=pt(),{formData:t,setFormData:n}=Ne();if(Sn(["codelistA","codelistB","timeOption"]))return h.jsx(En,{to:""});const r=en().shape({filterPopulation:Be().oneOf(Hn.items.map(o=>o.value)).required("Select a filter for the population"),demographics:Xa().of(Be().oneOf(un.items.map(o=>o.value))).min(0).max(un.items.length)}),i={filterPopulation:t.filterPopulation||"",demographics:t.demographics||[]};return h.jsx(Tr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/analysis-information")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>h.jsxs($n,{className:"flex flex-col gap-y-8",children:[h.jsx(Fr,{}),h.jsx("h1",{className:"text-4xl font-bold",children:"Set report filters"}),h.jsxs(Xn,{legend:Hn.label,children:[Hn.items.map(l=>h.jsx(Qn,{id:l.value,label:l.label,name:"filterPopulation",value:l.value},l.value)),o.filterPopulation&&a.filterPopulation?h.jsx(lt,{children:o.filterPopulation}):null]}),h.jsxs(Xn,{legend:un.label,children:[h.jsx(ro,{children:h.jsx("p",{children:"These should only be selected if they align with your approved project purpose. Selecting more options will increase report processing time."})}),un.items.map(l=>h.jsx(ju,{id:l.value,label:l.label,name:"demographics",value:l.value},l.value)),o.demographics&&a.demographics?h.jsx(lt,{children:"Select one or more demographics"}):null]}),h.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:h.jsx(mt,{disabled:!s,type:"submit",children:"Next"})})]})})}function lx(){const{codelistGroups:e}=Qt();return h.jsx(Tu,{className:"flex space-x-1 rounded bg-gray-100 p-1 max-w-prose",children:e.map(t=>h.jsx(Q0,{className:({selected:n})=>De("w-full rounded-lg p-1 font-semibold text-oxford-700 leading-5 md:py-2.5","ring-white ring-opacity-60 ring-offset-2 ring-offset-oxford-400 focus:outline-none focus:ring-2",n?"bg-white shadow":"hover:bg-white/[0.12] hover:text-oxford-900"),children:t.name},t.id))})}function ux(e){const t={year:"numeric",month:"short",day:"2-digit"},n=new Date(e);return new Intl.DateTimeFormat("en-GB",t).format(n)}function Au({codelistGroup:e,codelistID:t,query:n}){const{values:r}=Je(),i=o=>n.length<2?o:o.filter(s=>s.label.toLowerCase().includes(n.toLowerCase()));return n.length<3?h.jsxs("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:["Type ",3-n.length," more characters to search"]}):i(e.codelists).length===0?h.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:"Nothing found"}):h.jsx(h.Fragment,{children:i(e.codelists.sort((o,s)=>o.label.localeCompare(s.label))).map(o=>h.jsx(cu,{className:({active:s})=>De("relative cursor-pointer select-none py-2 pl-10 pr-4",s?"bg-oxford-600 text-white":"text-gray-900"),value:o,children:({selected:s,active:a})=>{var l;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:De("block truncate",s?"font-medium":"font-normal"),children:[h.jsx("span",{children:o.label}),h.jsxs("dl",{className:`flex flex-row flex-wrap text-sm mt-0.5 ${a?"text-white":"text-gray-600"}`,children:[h.jsxs("div",{className:"flex flex-row gap-1",children:[h.jsx("dt",{children:"From:"})," ",h.jsx("dd",{children:o.organisation?o.organisation:o.user})]}),h.jsxs("div",{className:"flex flex-row gap-1 ml-2 border-l border-l-gray-300 pl-2",children:[h.jsx("dt",{children:"Last updated:"})," ",h.jsx("dd",{children:ux(o.updatedDate)})]})]})]}),s||((l=r[t])==null?void 0:l.value)===o.value?h.jsx("span",{className:De("absolute inset-y-0 left-0 flex items-center pl-3 z-10",a?"text-white":"text-oxford-600"),children:h.jsx(Cu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})}},o.value))})}Au.propTypes={codelistGroup:A.shape(Ru).isRequired,codelistID:A.string.isRequired,query:A.string.isRequired};function Iu({codelistGroup:e,codelistID:t,query:n,setQuery:r}){const{errors:i,setFieldValue:o,setTouched:s,touched:a}=Je(),[l,c]=u.useState("");return u.useEffect(()=>i[t]&&a[t]?$c(i[t])?c(i[t].label):c(i[t]):c(""),[i,a,t]),h.jsx($u,{children:h.jsx(Yt,{name:t,children:({field:d})=>{var p;return h.jsxs("div",{className:"mt-2",children:[h.jsx(Qb,{defaultValue:d.value,name:d.name,onChange:m=>{s({...a,[t]:!0}),o(d.name,m)},children:h.jsxs("div",{className:"relative w-full max-w-prose",children:[h.jsx(lu,{autoComplete:"off",autoCorrect:"false",className:De("block w-full px-3 py-2 border-2 border-gray-400 rounded-md shadow-sm placeholder-gray-400","focus:cursor-text focus:outline-none focus:ring-oxford-500 focus:border-oxford-500"),displayValue:m=>m.label,onChange:m=>r(m.target.value),placeholder:"Type 3 or more characters to find a codelist"}),h.jsx(uu,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:h.jsx(Au,{codelistGroup:e,codelistID:t,query:n})})]})}),l?h.jsx(lt,{children:l}):null,(p=d==null?void 0:d.value)!=null&&p.value?h.jsx("ul",{className:"text-sm mt-2",children:h.jsx("li",{children:h.jsxs("a",{className:"text-oxford-600 font-semibold underline underline-offset-1 transition-colors hover:text-oxford-700 hover:no-underline focus:text-oxford-900 focus:no-underline",href:`https://www.opencodelists.org/codelist/${d.value.value}`,rel:"noopener noreferrer",target:"_blank",children:["View “",d.value.label,"” codelist",h.jsx(ex,{className:"inline h-4 -mt-0.5",height:20,width:20})]})})}):null]})}})},e.id)}Iu.propTypes={codelistGroup:A.shape(Ru).isRequired,codelistID:A.string.isRequired,query:A.string.isRequired,setQuery:A.func.isRequired};function _i({id:e,label:t}){const{setFieldValue:n}=Je(),{formData:r}=Ne(),{codelistGroups:i}=Qt(),[o,s]=u.useState(""),a=`codelist${e}`,l=i.findIndex(c=>{var d;return c.id===((d=r==null?void 0:r[a])==null?void 0:d.type)});return h.jsxs(Su,{as:"div",defaultIndex:l!==-1?l:0,onChange:()=>{s(""),n(a,{})},children:[h.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-2 md:mb-1",children:t}),h.jsx(lx,{}),h.jsx(Ou,{children:i.map(c=>h.jsx(Iu,{codelistGroup:c,codelistID:a,query:o,setQuery:s},c.id))})]})}_i.propTypes={id:A.number.isRequired,label:A.string.isRequired};function cx(){const{formData:e,setFormData:t}=Ne(),{codelistGroups:n}=Qt(),[,r]=pt(),i=en({codelist0:ar(n),codelist1:ar(n).test("compare_codelists","Codelists cannot be the same, please change one codelist",(s,a)=>Object.entries(a.parent.codelist0).toString()!==Object.entries(s).toString())}),o={codelist0:e.codelist0||"",codelist1:e.codelist1||""};return h.jsx(Tr,{initialValues:o,onSubmit:(s,a)=>{a.validateForm().then(()=>(t({...e,...s,codelistA:null,codelistB:null}),r("/build-query")))},validateOnMount:!0,validationSchema:i,children:({isValid:s})=>h.jsxs($n,{className:"flex flex-col gap-y-12",children:[h.jsx(Fr,{}),h.jsx(_i,{id:0,label:"Select a codelist"}),h.jsx(_i,{id:1,label:"Select a second codelist"}),h.jsx(mt,{disabled:!s,type:"submit",children:"Next"})]})})}function dx(){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"prose prose-blue",children:[h.jsx("p",{className:"text-lg",children:"Requesting an analysis requires you to select two SNOMED CT or dm+d codelists to see how they are used in combination over time."}),h.jsx("p",{className:"text-lg",children:"To make sure this is the right tool for you, check that you understand the following terms before continuing."}),h.jsx("h3",{children:"Codelist"}),h.jsx("p",{children:"A codelist is a set of codes that can be recorded in clinical systems. Codelists are used to select patients with activities and conditions of interest."}),h.jsx("p",{children:"Any codelist you require in your Analysis Request must:"}),h.jsxs("ul",{children:[h.jsx("li",{children:"use either the SNOMED CT or dm+d coding system"}),h.jsxs("li",{children:["be published on"," ",h.jsx("a",{href:"https://www.opencodelists.org/",rel:"noopener noreferrer",target:"_blank",children:"OpenCodelists"})]})]}),h.jsx("p",{children:"You should review the codelists you wish to use on OpenCodelists and confirm it is suitable for your request before you start."}),h.jsx("p",{children:"Speak to your co-pilot if you can’t find a codelist you want to use, or you wish to add a new codelist to OpenCodelists."}),h.jsx("h3",{children:"SNOMED CT"}),h.jsxs("p",{children:[h.jsx("a",{href:"https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct",rel:"noopener noreferrer",target:"_blank",children:"SNOMED CT"})," ","is a systematically organised computer-processable collection of medical terms used in clinical documentation and reporting. It provides a consistent vocabulary for recording patient clinical information across the NHS and helps ensure data is recorded consistently and accurately."]}),h.jsx("p",{children:"SNOMED CT codelists can query data related to recording of events such as:"}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Condition Diagnoses "}),"— for example: Crohn’s Disease, Bipolar disorder"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Symptoms "}),"— for example: Headache, Blood in urine"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Test Results "}),"— for example: Potassium level, Abnormal ECG"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Procedures "}),"— for example: Coronary artery bypass graft, Hysterectomy"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Activities "}),"— for example: Medication review"]})]}),h.jsx("h3",{children:"dm+d"}),h.jsxs("p",{children:[h.jsx("a",{href:"https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd",rel:"noopener noreferrer",target:"_blank",children:"dm+d"})," ","is a dictionary of descriptions and codes which represent medicines and devices in use across the NHS."]}),h.jsx("p",{children:"dm+d codelists can query data related to prescriptions that have been issued for medicines or devices, for example: a prescription for Paracetamol 500mg tablets or for a Salbutamol 100micrograms/dose inhaler."})]}),h.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:h.jsx(oa,{asChild:!0,to:"/find-codelists",children:h.jsx(mt,{children:"Next"})})})]})}function Pu({timeOption:e,timeScale:t=null,timeValue:n=null}){const r=e==="at any time prior."?"Any time":`${n} ${t}`;return h.jsxs("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 415 233",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",children:[h.jsx("path",{className:"fill-gray-300",d:"M194 52.03h6V157h-6zM394 52h6v105h-6z"}),h.jsx("path",{className:"fill-gray-500",d:"M3.9 99.9c-.6.5-.6 1.5 0 2l9.35 9.6c.26.2.57.3.89.3a1.5 1.5 0 0 0 1.18-2.4l-8.37-8.5 8.37-8.5a1.5 1.5 0 0 0-1.18-2.4c-.32 0-.63.1-.89.3l-9.46 9.5.1.1Zm189.1 2c.6-.5.6-1.5 0-2l-9.35-9.6c-.26-.2-.57-.3-.89-.3a1.5 1.5 0 0 0-1.18 2.4l8.37 8.5-8.37 8.5a1.5 1.5 0 0 0 1.18 2.4c.32 0 .63-.1.89-.3l9.46-9.5-.1-.1Zm-188.12.5h187.14v-3H4.88v3Z",fillRule:"nonzero"}),h.jsx("path",{className:"fill-green-600 stroke-green-600",d:"M1 128c-.6.5-.6 1.5 0 2l9.5 9.6a1.5 1.5 0 0 0 2.1-2.1L4.1 129l8.5-8.5a1.5 1.5 0 0 0-2.1-2.1l-9.6 9.5.1.1Zm392 2c.6-.5.6-1.5 0-2l-9.5-9.6a1.5 1.5 0 0 0-2.1 2.1l8.5 8.5-8.5 8.5a1.5 1.5 0 0 0 2.1 2.1l9.6-9.5-.1-.1Zm-391 .5h390v-3H2v3Z",fillRule:"nonzero",strokeWidth:"2",transform:"matrix(.99262 0 0 1 2.9 1.9)"}),h.jsx("path",{className:"fill-bn-ribbon-300 stroke-bn-ribbon-700",d:"M297 97.4 284.4 85l-3.5 3.5 12.5 12.5-12.4 12.3 3.5 3.5 12.4-12.4 12.4 12.4 3.5-3.5-12.4-12.4 12.4-12.4-3.5-3.5-12.4 12.4h.1Z"}),h.jsx("path",{className:"fill-oxford-300",d:"M296 74.55c.5.6 1.5.6 2 0l9.6-9.5a1.5 1.5 0 0 0-2.1-2.1l-8.5 8.5-8.5-8.5a1.5 1.5 0 0 0-2.1 2.1l9.5 9.6.1-.1Zm-.5-71v70h3v-70h-3ZM50 150.6c-.2-.8-1-1.3-1.8-1l-13 3.4a1.54 1.54 0 0 0 .7 3l11.6-3.2 3.1 11.6a1.5 1.5 0 0 0 2.9-.7l-3.5-13v-.1ZM3.3 232.4l46.6-80.6-2.6-1.6L.7 231l2.6 1.5v-.1Z",fillRule:"nonzero"}),h.jsx("text",{fontSize:"12",x:"177",y:"170",children:"Start of"}),h.jsx("text",{fontSize:"12",x:"180",y:"183",children:"month"}),h.jsx("text",{fontSize:"12",x:"379",y:"170",children:"End of"}),h.jsx("text",{fontSize:"12",x:"380",y:"183",children:"month"}),h.jsx("text",{fontSize:"12",x:"67",y:"88.63",children:r})]})}Pu.propTypes={timeOption:A.string.isRequired,timeScale:A.string,timeValue:A.number};function fx(){const{formData:e}=Ne();return Sn(["codelistA","codelistB","timeOption"])?h.jsx(En,{to:""}):h.jsxs(h.Fragment,{children:[h.jsx(tl,{}),h.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Preview your request"}),h.jsx("div",{className:"px-4 py-24",children:h.jsxs("div",{className:"relative",children:[h.jsxs("p",{className:"absolute max-w-[28ch] text-center -translate-y-[80%] top-0 right-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual has qualifying event from:",h.jsx("br",{}),h.jsx("strong",{children:e.codelistA.label})]}),h.jsx(Pu,{timeOption:e.timeOption,timeScale:e.timeScale,timeValue:e.timeValue}),h.jsxs("p",{className:"absolute max-w-[28ch] text-center bottom-0 translate-y-[80%] left-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual ALSO has an event from:",h.jsx("br",{}),h.jsx("strong",{children:e.codelistB.label})]})]})}),h.jsx("div",{className:"flex flex-row w-full gap-2 mt-16",children:h.jsx(oa,{asChild:!0,to:"/filter-request",children:h.jsx(mt,{children:"Next"})})})]})}function zt({title:e,children:t,page:n}){const[,r]=pt();return h.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5",children:[h.jsx("dt",{className:"text-lg font-bold text-gray-700 md:text-base",children:e}),h.jsxs("dd",{className:"mt-1 flex text-gray-900 sm:col-span-2 sm:mt-0",children:[h.jsx("span",{className:"flex-grow break-words",children:t}),h.jsx("span",{className:"ml-4 flex-shrink-0",children:h.jsx("button",{className:"rounded-md bg-white font-medium text-oxford-600 hover:text-oxford-500 focus:outline-none focus:ring-2 focus:ring-oxford-500 focus:ring-offset-2",onClick:()=>r(`/${n}`),type:"button",children:"Edit"})})]})]})}zt.propTypes={title:A.string.isRequired,children:A.node.isRequired,page:A.string.isRequired};function px(){var g,v,b,x,E;const{basePath:e,csrfToken:t,dates:{startISO:n,endISO:r,startStr:i,endStr:o}}=Qt(),{formData:s}=Ne(),[a,l]=u.useState(!1),[c,d]=u.useState("");if(Sn(["codelistA","codelistB","timeOption","filterPopulation","title","purpose"]))return h.jsx(En,{to:""});const p=()=>{const{codelistA:w,codelistB:S,timeOption:T,timeScale:O,timeValue:$,filterPopulation:P,demographics:_,title:B,purpose:R}=s;return Rc({codelistA:{label:w.label,type:w.type,value:w.value},codelistB:{label:S.label,type:S.type,value:S.value},startDate:n.slice(0,10),endDate:r.slice(0,10),timeEver:T===Ve?"true":null,timeScale:T===Ve?void 0:O,timeValue:T===Ve?void 0:$,filterPopulation:P,demographics:_,title:B,purpose:R})},m=async()=>{l(!0),d("");const w=JSON.stringify(p());Io(T=>{T.setLevel("debug"),Gr("formData",w),Po("Submitting analysis request")});const S=await fetch(`${e}publish`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:w});if(!S.ok){l(!1);const T=`An error has occurred: ${S.status} - ${S.statusText}`;throw d(T),new Error(T)}no(),Io(T=>{T.setLevel("debug"),Gr("formData",w),Gr("response",S.url),Po("Analysis ok, redirecting")}),window.location.href=S.url},f=s.timeOption===Ve?Ve:`up to ${s.timeValue} ${s.timeScale} ${rl}`;return h.jsxs(h.Fragment,{children:[h.jsx(tl,{}),h.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Review your request"}),h.jsx("div",{className:"mt-5 border-t border-gray-200",children:h.jsxs("dl",{className:"divide-y divide-gray-200",children:[h.jsxs(zt,{page:"find-codelists",title:"Codelists",children:[(g=s.codelist0)==null?void 0:g.label,",",h.jsx("br",{}),(v=s.codelist1)==null?void 0:v.label]}),(b=s.codelistA)!=null&&b.label&&((x=s.codelistB)!=null&&x.label)?h.jsxs(zt,{page:"build-query",title:"Report request",children:[` ${Me[0]} `,h.jsx("strong",{children:s.codelistA.label}),` ${Me[1]} `,h.jsx("strong",{children:i})," ",Me[2]," ",h.jsx("strong",{children:o}),` ${Me[3]} `,h.jsx("strong",{children:s.codelistB.label}),` ${Me[4]} `,h.jsx("strong",{children:` ${s.codelistA.label}`}),` ${Me[5]} ${f}`]}):null,h.jsx(zt,{page:"filter-request",title:"Filter population",children:Hn.items.filter(w=>w.value===s.filterPopulation)[0].label}),h.jsx(zt,{page:"filter-request",title:"Break down the report by demographics",children:s.demographics.length?h.jsx("ul",{children:(E=s.demographics)==null?void 0:E.map(w=>{var S;return h.jsx("li",{children:(S=un.items.find(T=>(T==null?void 0:T.value)===w))==null?void 0:S.label},w)})}):h.jsx("p",{children:"No demographics selected"})}),h.jsxs(zt,{page:"analysis-information",title:"Analysis information",children:[h.jsxs("p",{className:"mb-4",children:[h.jsx("strong",{children:"Title: "}),h.jsx("br",{}),s.title]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Description: "}),h.jsx("br",{}),s.purpose]})]})]})}),h.jsxs("section",{className:"prose prose-blue mt-8 pt-6 border-t max-w-full",children:[h.jsx("h2",{className:"sr-only",children:"Read and agree"}),h.jsxs("ul",{children:[h.jsx("li",{children:"Your analyses will be run on primary care patient records for approximately 44% of the English population"}),h.jsx("li",{children:"The analysis you are requesting may take up to 5 days to return results"}),h.jsx("li",{children:"The time for the analysis to generate may vary significantly dependent on current loads on our servers and current demand for our disclosure checking service"}),h.jsx("p",{children:"By making this request you are agreeing:"}),h.jsxs("ul",{children:[h.jsx("li",{children:"That your request falls within your approved project purpose"}),h.jsx("li",{children:"To abide by the Terms and Conditions you signed previously"}),h.jsx("li",{children:"That the contents of this request, along with your name and email address, will be publicly available"})]})]})]}),h.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:h.jsx(mt,{disabled:a,onClick:m,type:"submit",children:a?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"h-5 w-5 flex-1 animate-spin stroke-current stroke-[3] mr-2",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{className:"stroke-current opacity-25",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"}),h.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 14.7255 3.09032 17.1962 4.85857 19"})]}),"Submitting"]}):"Submit request"})}),c?h.jsx(lt,{children:c}):null]})}function hx(){const[e]=pt();return u.useEffect(()=>{window.scrollTo(0,0)},[e]),null}var mx={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const jo=document.getElementById("osi");if(!jo)throw new Error("Failed to find the root element");const gx=Bu(jo),{dataset:yt}=jo,vx={basePath:"Basename",csrfToken:"CSRF Token",dateEnd:"End date",dateStart:"Start date",events:"Events codelist data",medications:"Medications codelist data"};Object.entries(vx).map(([e,t])=>{if(!yt[e])throw new Error(`${t} not provided`);return null});Hu({dsn:mx.VITE_SENTRY_DSN,tracesSampleRate:1});gx.render(h.jsx(D.StrictMode,{children:h.jsx(Bi.Provider,{value:Cc({dataset:yt}),children:h.jsx(aa,{children:h.jsxs(ia,{base:yt.basePath.slice(0,-1),children:[h.jsx(hx,{}),h.jsx(ua,{basePath:yt.basePath,csrfToken:yt.csrfToken,events:yt.events,medications:yt.medications,children:h.jsxs(Tc,{children:[h.jsx(tt,{component:dx,path:"/"}),h.jsx(tt,{component:cx,path:"/find-codelists"}),h.jsx(tt,{component:sx,path:"/build-query"}),h.jsx(tt,{component:fx,path:"/preview-request"}),h.jsx(tt,{component:ax,path:"/filter-request"}),h.jsx(tt,{component:Dm,path:"/analysis-information"}),h.jsx(tt,{component:px,path:"/review-request"}),h.jsx(tt,{path:"*",children:h.jsxs("div",{className:"prose",children:[h.jsx("h2",{children:"An error occurred"}),h.jsx("p",{className:"lead",children:"Your request was not submitted."}),h.jsxs("p",{children:["Please try again, or"," ",h.jsx("a",{href:"mailto:team@opensafely.org",children:"email team@opensafely.org"}),"."]})]})})]})})]})})})}))});export default bx();
