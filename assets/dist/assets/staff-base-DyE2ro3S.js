import"./_datatable-CdHalGsa.js";class m extends HTMLElement{constructor(){super(),this.currentQuery=null,this.filter=null,this.debounceInputChange=L(()=>d(this,!0)),this.boundFilterResults=()=>{d(this,!1)}}static get observedAttributes(){return["aria-owns"]}attributeChangedCallback(t,n){n&&t==="aria-owns"&&d(this,!1)}connectedCallback(){const t=this.input;t&&(t.setAttribute("autocomplete","off"),t.setAttribute("spellcheck","false"),t.addEventListener("focus",this.boundFilterResults),t.addEventListener("change",this.boundFilterResults),t.addEventListener("input",this.debounceInputChange))}disconnectedCallback(){const t=this.input;t&&(t.removeEventListener("focus",this.boundFilterResults),t.removeEventListener("change",this.boundFilterResults),t.removeEventListener("input",this.debounceInputChange))}get input(){const t=this.querySelector("input");return t instanceof HTMLInputElement?t:null}reset(){const t=this.input;t&&(t.value="",t.dispatchEvent(new Event("change",{bubbles:!0})))}}async function d(e,t=!1){const n=e.input;if(!n)return;const i=n.value.trim(),f=e.getAttribute("aria-owns");if(!f)return;const s=document.getElementById(f);if(!s)return;const c=s.hasAttribute("data-filter-list")?s:s.querySelector("[data-filter-list]");if(!c||(e.dispatchEvent(new CustomEvent("filter-input-start",{bubbles:!0})),t&&e.currentQuery===i))return;e.currentQuery=i;const p=e.filter||E,b=c.childElementCount;let l=0,h=!1;for(const u of Array.from(c.children)){if(!(u instanceof HTMLElement))continue;const w=v(u),o=p(u,w,i);o.hideNew===!0&&(h=o.hideNew),u.hidden=!o.match,o.match&&l++}const r=s.querySelector("[data-filter-new-item]"),a=!!r&&i.length>0&&!h;r instanceof HTMLElement&&(r.hidden=!a,a&&g(r,i)),C(s,l>0||a),e.dispatchEvent(new CustomEvent("filter-input-updated",{bubbles:!0,detail:{count:l,total:b}}))}function E(e,t,n){return{match:t.toLowerCase().indexOf(n.toLowerCase())!==-1,hideNew:t===n}}function v(e){return((e.querySelector("[data-filter-item-text]")||e).textContent||"").trim()}function g(e,t){const n=e.querySelector("[data-filter-new-item-text]");n&&(n.textContent=t);const i=e.querySelector("[data-filter-new-item-value]");(i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&(i.value=t)}function C(e,t){const n=e.querySelector("[data-filter-empty-state]");n instanceof HTMLElement&&(n.hidden=t)}function L(e){let t;return function(){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),e()},300)}}window.customElements.get("filter-input")||(window.FilterInputElement=m,window.customElements.define("filter-input",m));
