var ps=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var a=(t,e,s)=>(ps(t,e,"read from private field"),s?s.call(t):e.get(t)),S=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},b=(t,e,s,r)=>(ps(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var Jt=(t,e,s,r)=>({set _(i){b(t,e,i,s)},get _(){return a(t,e,r)}}),I=(t,e,s)=>(ps(t,e,"access private method"),s);import{r as v,t as yi,j as d,P as C,R as wr,i as vi,c as bi}from"./index-DNi9Awpp.js";import{c as xi,g as wi}from"./_commonjsHelpers-BosuxZz1.js";/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Dt.apply(this,arguments)}var it;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(it||(it={}));const Gs="popstate";function Ci(t){t===void 0&&(t={});function e(r,i){let{pathname:n,search:u,hash:h}=r.location;return vs("",{pathname:n,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Cr(i)}return Ri(e,s,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ei(){return Math.random().toString(36).substr(2,8)}function Vs(t,e){return{usr:t.state,key:t.key,idx:e}}function vs(t,e,s,r){return s===void 0&&(s=null),Dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ls(e):e,{state:s,key:e&&e.key||r||Ei()})}function Cr(t){let{pathname:e="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ls(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ri(t,e,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:n=!1}=r,u=i.history,h=it.Pop,c=null,f=p();f==null&&(f=0,u.replaceState(Dt({},u.state,{idx:f}),""));function p(){return(u.state||{idx:null}).idx}function m(){h=it.Pop;let w=p(),k=w==null?null:w-f;f=w,c&&c({action:h,location:N.location,delta:k})}function y(w,k){h=it.Push;let j=vs(N.location,w,k);f=p()+1;let A=Vs(j,f),q=N.createHref(j);try{u.pushState(A,"",q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(q)}n&&c&&c({action:h,location:N.location,delta:1})}function x(w,k){h=it.Replace;let j=vs(N.location,w,k);f=p();let A=Vs(j,f),q=N.createHref(j);u.replaceState(A,"",q),n&&c&&c({action:h,location:N.location,delta:0})}function D(w){let k=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof w=="string"?w:Cr(w);return j=j.replace(/ $/,"%20"),De(k,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,k)}let N={get action(){return h},get location(){return t(i,u)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Gs,m),c=w,()=>{i.removeEventListener(Gs,m),c=null}},createHref(w){return e(i,w)},createURL:D,encodeLocation(w){let k=D(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:x,go(w){return u.go(w)}};return N}var Js;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Js||(Js={}));function Si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function Oi(t,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?ls(t):t;return{pathname:s?s.startsWith("/")?s:_i(s,e):e,search:ji(r),hash:Ii(i)}}function _i(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function ms(t,e,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ki(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Ti(t,e){let s=ki(t);return e?s.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Fi(t,e,s,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ls(t):(i=Dt({},t),De(!i.pathname||!i.pathname.includes("?"),ms("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),ms("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),ms("#","search","hash",i)));let n=t===""||i.pathname==="",u=n?"/":i.pathname,h;if(u==null)h=s;else{let m=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}h=m>=0?e[m]:"/"}let c=Oi(i,h),f=u&&u!=="/"&&u.endsWith("/"),p=(n||u===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const Pi=t=>t.join("/").replace(/\/\/+/g,"/"),ji=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ii=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Er=["post","put","patch","delete"];new Set(Er);const Di=["get",...Er];new Set(Di);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},is.apply(this,arguments)}const Rr=v.createContext(null),Ls=v.createContext(null),Us=v.createContext(null),qs=v.createContext({outlet:null,matches:[],isDataRoute:!1});function Bs(){return v.useContext(Us)!=null}function Sr(){return Bs()||De(!1),v.useContext(Us).location}function Or(t){v.useContext(Ls).static||v.useLayoutEffect(t)}function Ni(){let{isDataRoute:t}=v.useContext(qs);return t?qi():Mi()}function Mi(){Bs()||De(!1);let t=v.useContext(Rr),{basename:e,future:s,navigator:r}=v.useContext(Ls),{matches:i}=v.useContext(qs),{pathname:n}=Sr(),u=JSON.stringify(Ti(i,s.v7_relativeSplatPath)),h=v.useRef(!1);return Or(()=>{h.current=!0}),v.useCallback(function(f,p){if(p===void 0&&(p={}),!h.current)return;if(typeof f=="number"){r.go(f);return}let m=Fi(f,JSON.parse(u),n,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pi([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,u,n,t])}var _r=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_r||{}),kr=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kr||{});function Ai(t){let e=v.useContext(Rr);return e||De(!1),e}function Li(t){let e=v.useContext(qs);return e||De(!1),e}function Ui(t){let e=Li(),s=e.matches[e.matches.length-1];return s.route.id||De(!1),s.route.id}function qi(){let{router:t}=Ai(_r.UseNavigateStable),e=Ui(kr.UseNavigateStable),s=v.useRef(!1);return Or(()=>{s.current=!0}),v.useCallback(function(i,n){n===void 0&&(n={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,is({fromRouteId:e},n)))},[t,e])}function Bi(t){let{basename:e="/",children:s=null,location:r,navigationType:i=it.Pop,navigator:n,static:u=!1,future:h}=t;Bs()&&De(!1);let c=e.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:c,navigator:n,static:u,future:is({v7_relativeSplatPath:!1},h)}),[c,h,n,u]);typeof r=="string"&&(r=ls(r));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:D="default"}=r,N=v.useMemo(()=>{let w=Si(p,c);return w==null?null:{location:{pathname:w,search:m,hash:y,state:x,key:D},navigationType:i}},[c,p,m,y,x,D,i]);return N==null?null:v.createElement(Ls.Provider,{value:f},v.createElement(Us.Provider,{children:s,value:N}))}new Promise(()=>{});/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Qi="6";try{window.__reactRouterVersion=Qi}catch{}const $i="startTransition",Ys=yi[$i];function zi(t){let{basename:e,children:s,future:r,window:i}=t,n=v.useRef();n.current==null&&(n.current=Ci({window:i,v5Compat:!0}));let u=n.current,[h,c]=v.useState({action:u.action,location:u.location}),{v7_startTransition:f}=r||{},p=v.useCallback(m=>{f&&Ys?Ys(()=>c(m)):c(m)},[c,f]);return v.useLayoutEffect(()=>u.listen(p),[u,p]),v.createElement(Bi,{basename:e,children:s,location:h.location,navigationType:h.action,navigator:u,future:r})}var Zs;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zs||(Zs={}));var Xs;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xs||(Xs={}));var Pt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ft=typeof window>"u"||"Deno"in globalThis;function Re(){}function Ki(t,e){return typeof t=="function"?t(e):t}function bs(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function er(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:n,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==Qs(u,e.options))return!1}else if(!Nt(e.queryKey,u))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||n&&!n(e))}function tr(t,e){const{exact:s,status:r,predicate:i,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(s){if(ft(e.options.mutationKey)!==ft(n))return!1}else if(!Nt(e.options.mutationKey,n))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Qs(t,e){return((e==null?void 0:e.queryKeyHashFn)||ft)(t)}function ft(t){return JSON.stringify(t,(e,s)=>xs(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function Nt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Nt(t[s],e[s])):!1}function Fr(t,e){if(t===e)return t;const s=sr(t)&&sr(e);if(s||xs(t)&&xs(e)){const r=s?t:Object.keys(t),i=r.length,n=s?e:Object.keys(e),u=n.length,h=s?[]:{};let c=0;for(let f=0;f<u;f++){const p=s?f:n[f];(!s&&r.includes(p)||s)&&t[p]===void 0&&e[p]===void 0?(h[p]=void 0,c++):(h[p]=Fr(t[p],e[p]),h[p]===t[p]&&t[p]!==void 0&&c++)}return i===u&&c===i?t:h}return e}function ns(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function sr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xs(t){if(!rr(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!rr(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hi(t){return new Promise(e=>{setTimeout(e,t)})}function ws(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Fr(t,e):e}function Wi(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Gi(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Pr=Symbol(),jr=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Pr?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,nt,We,gt,hr,Vi=(hr=class extends Pt{constructor(){super();S(this,nt,void 0);S(this,We,void 0);S(this,gt,void 0);b(this,gt,e=>{if(!Ft&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){a(this,We)||this.setEventListener(a(this,gt))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,We))==null||e.call(this),b(this,We,void 0))}setEventListener(e){var s;b(this,gt,e),(s=a(this,We))==null||s.call(this),b(this,We,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){a(this,nt)!==e&&(b(this,nt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof a(this,nt)=="boolean"?a(this,nt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},nt=new WeakMap,We=new WeakMap,gt=new WeakMap,hr),$s=new Vi,yt,Ge,vt,dr,Ji=(dr=class extends Pt{constructor(){super();S(this,yt,!0);S(this,Ge,void 0);S(this,vt,void 0);b(this,vt,e=>{if(!Ft&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){a(this,Ge)||this.setEventListener(a(this,vt))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,Ge))==null||e.call(this),b(this,Ge,void 0))}setEventListener(e){var s;b(this,vt,e),(s=a(this,Ge))==null||s.call(this),b(this,Ge,e(this.setOnline.bind(this)))}setOnline(e){a(this,yt)!==e&&(b(this,yt,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return a(this,yt)}},yt=new WeakMap,Ge=new WeakMap,vt=new WeakMap,dr),as=new Ji;function Yi(t){return Math.min(1e3*2**t,3e4)}function Ir(t){return(t??"online")==="online"?as.isOnline():!0}var Dr=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gs(t){return t instanceof Dr}function Nr(t){let e=!1,s=0,r=!1,i,n,u;const h=new Promise((k,j)=>{n=k,u=j}),c=k=>{var j;r||(D(new Dr(k)),(j=t.abort)==null||j.call(t))},f=()=>{e=!0},p=()=>{e=!1},m=()=>$s.isFocused()&&(t.networkMode==="always"||as.isOnline())&&t.canRun(),y=()=>Ir(t.networkMode)&&t.canRun(),x=k=>{var j;r||(r=!0,(j=t.onSuccess)==null||j.call(t,k),i==null||i(),n(k))},D=k=>{var j;r||(r=!0,(j=t.onError)==null||j.call(t,k),i==null||i(),u(k))},N=()=>new Promise(k=>{var j;i=A=>{(r||m())&&k(A)},(j=t.onPause)==null||j.call(t)}).then(()=>{var k;i=void 0,r||(k=t.onContinue)==null||k.call(t)}),w=()=>{if(r)return;let k;const j=s===0?t.initialPromise:void 0;try{k=j??t.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(x).catch(A=>{var o;if(r)return;const q=t.retry??(Ft?0:3),z=t.retryDelay??Yi,te=typeof z=="function"?z(s,A):z,M=q===!0||typeof q=="number"&&s<q||typeof q=="function"&&q(s,A);if(e||!M){D(A);return}s++,(o=t.onFail)==null||o.call(t,s,A),Hi(te).then(()=>m()?void 0:N()).then(()=>{e?D(A):w()})})};return{promise:h,cancel:c,continue:()=>(i==null||i(),h),cancelRetry:f,continueRetry:p,canStart:y,start:()=>(y()?w():N().then(w),h)}}function Zi(){let t=[],e=0,s=y=>{y()},r=y=>{y()},i=y=>setTimeout(y,0);const n=y=>{i=y},u=y=>{let x;e++;try{x=y()}finally{e--,e||f()}return x},h=y=>{e?t.push(y):i(()=>{s(y)})},c=y=>(...x)=>{h(()=>{y(...x)})},f=()=>{const y=t;t=[],y.length&&i(()=>{r(()=>{y.forEach(x=>{s(x)})})})};return{batch:u,batchCalls:c,schedule:h,setNotifyFunction:y=>{s=y},setBatchNotifyFunction:y=>{r=y},setScheduler:n}}var re=Zi(),at,fr,Mr=(fr=class{constructor(){S(this,at,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bs(this.gcTime)&&b(this,at,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ft?1/0:5*60*1e3))}clearGcTimeout(){a(this,at)&&(clearTimeout(a(this,at)),b(this,at,void 0))}},at=new WeakMap,fr),bt,xt,Ee,he,Mt,ot,_e,Le,pr,Xi=(pr=class extends Mr{constructor(e){super();S(this,_e);S(this,bt,void 0);S(this,xt,void 0);S(this,Ee,void 0);S(this,he,void 0);S(this,Mt,void 0);S(this,ot,void 0);b(this,ot,!1),b(this,Mt,e.defaultOptions),this.setOptions(e.options),this.observers=[],b(this,Ee,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,bt,e.state||en(this.options)),this.state=a(this,bt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=a(this,he))==null?void 0:e.promise}setOptions(e){this.options={...a(this,Mt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&a(this,Ee).remove(this)}setData(e,s){const r=ws(this.state.data,e,this.options);return I(this,_e,Le).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){I(this,_e,Le).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=a(this,he))==null?void 0:r.promise;return(i=a(this,he))==null||i.cancel(e),s?s.then(Re).catch(Re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(a(this,bt))}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Tr(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=a(this,he))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=a(this,he))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),a(this,Ee).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(a(this,he)&&(a(this,ot)?a(this,he).cancel({revert:!0}):a(this,he).cancelRetry()),this.scheduleGc()),a(this,Ee).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||I(this,_e,Le).call(this,{type:"invalidate"})}fetch(e,s){var c,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(a(this,he))return a(this,he).continueRetry(),a(this,he).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(b(this,ot,!0),r.signal)})},n=()=>{const m=jr(this.options,s),y={queryKey:this.queryKey,meta:this.meta};return i(y),b(this,ot,!1),this.options.persister?this.options.persister(m,y,this):m(y)},u={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:n};i(u),(c=this.options.behavior)==null||c.onFetch(u,this),b(this,xt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&I(this,_e,Le).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const h=m=>{var y,x,D,N;gs(m)&&m.silent||I(this,_e,Le).call(this,{type:"error",error:m}),gs(m)||((x=(y=a(this,Ee).config).onError)==null||x.call(y,m,this),(N=(D=a(this,Ee).config).onSettled)==null||N.call(D,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return b(this,he,Nr({initialPromise:s==null?void 0:s.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,x,D,N;if(m===void 0){h(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(x=(y=a(this,Ee).config).onSuccess)==null||x.call(y,m,this),(N=(D=a(this,Ee).config).onSettled)==null||N.call(D,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(m,y)=>{I(this,_e,Le).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{I(this,_e,Le).call(this,{type:"pause"})},onContinue:()=>{I(this,_e,Le).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),a(this,he).start()}},bt=new WeakMap,xt=new WeakMap,Ee=new WeakMap,he=new WeakMap,Mt=new WeakMap,ot=new WeakMap,_e=new WeakSet,Le=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ar(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return gs(i)&&i.revert&&a(this,xt)?{...a(this,xt),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),re.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),a(this,Ee).notify({query:this,type:"updated",action:e})})},pr);function Ar(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ir(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function en(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Te,mr,Lr=(mr=class extends Pt{constructor(e={}){super();S(this,Te,void 0);this.config=e,b(this,Te,new Map)}build(e,s,r){const i=s.queryKey,n=s.queryHash??Qs(i,s);let u=this.get(n);return u||(u=new Xi({cache:this,queryKey:i,queryHash:n,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){a(this,Te).has(e.queryHash)||(a(this,Te).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=a(this,Te).get(e.queryHash);s&&(e.destroy(),s===e&&a(this,Te).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){re.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,Te).get(e)}getAll(){return[...a(this,Te).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>er(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>er(e,r)):s}notify(e){re.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){re.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){re.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Te=new WeakMap,mr),Fe,de,ut,Pe,Ke,gr,tn=(gr=class extends Mr{constructor(e){super();S(this,Pe);S(this,Fe,void 0);S(this,de,void 0);S(this,ut,void 0);this.mutationId=e.mutationId,b(this,de,e.mutationCache),b(this,Fe,[]),this.state=e.state||Ur(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){a(this,Fe).includes(e)||(a(this,Fe).push(e),this.clearGcTimeout(),a(this,de).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,Fe,a(this,Fe).filter(s=>s!==e)),this.scheduleGc(),a(this,de).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){a(this,Fe).length||(this.state.status==="pending"?this.scheduleGc():a(this,de).remove(this))}continue(){var e;return((e=a(this,ut))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,n,u,h,c,f,p,m,y,x,D,N,w,k,j,A,q,z,te,M;b(this,ut,Nr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{I(this,Pe,Ke).call(this,{type:"failed",failureCount:o,error:l})},onPause:()=>{I(this,Pe,Ke).call(this,{type:"pause"})},onContinue:()=>{I(this,Pe,Ke).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>a(this,de).canRun(this)}));const s=this.state.status==="pending",r=!a(this,ut).canStart();try{if(!s){I(this,Pe,Ke).call(this,{type:"pending",variables:e,isPaused:r}),await((n=(i=a(this,de).config).onMutate)==null?void 0:n.call(i,e,this));const l=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e));l!==this.state.context&&I(this,Pe,Ke).call(this,{type:"pending",context:l,variables:e,isPaused:r})}const o=await a(this,ut).start();return await((f=(c=a(this,de).config).onSuccess)==null?void 0:f.call(c,o,e,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,o,e,this.state.context)),await((x=(y=a(this,de).config).onSettled)==null?void 0:x.call(y,o,null,this.state.variables,this.state.context,this)),await((N=(D=this.options).onSettled)==null?void 0:N.call(D,o,null,e,this.state.context)),I(this,Pe,Ke).call(this,{type:"success",data:o}),o}catch(o){try{throw await((k=(w=a(this,de).config).onError)==null?void 0:k.call(w,o,e,this.state.context,this)),await((A=(j=this.options).onError)==null?void 0:A.call(j,o,e,this.state.context)),await((z=(q=a(this,de).config).onSettled)==null?void 0:z.call(q,void 0,o,this.state.variables,this.state.context,this)),await((M=(te=this.options).onSettled)==null?void 0:M.call(te,void 0,o,e,this.state.context)),o}finally{I(this,Pe,Ke).call(this,{type:"error",error:o})}}finally{a(this,de).runNext(this)}}},Fe=new WeakMap,de=new WeakMap,ut=new WeakMap,Pe=new WeakSet,Ke=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),re.batch(()=>{a(this,Fe).forEach(r=>{r.onMutationUpdate(e)}),a(this,de).notify({mutation:this,type:"updated",action:e})})},gr);function Ur(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ye,At,yr,sn=(yr=class extends Pt{constructor(e={}){super();S(this,ye,void 0);S(this,At,void 0);this.config=e,b(this,ye,new Map),b(this,At,Date.now())}build(e,s,r){const i=new tn({mutationCache:this,mutationId:++Jt(this,At)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){const s=Yt(e),r=a(this,ye).get(s)??[];r.push(e),a(this,ye).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Yt(e);if(a(this,ye).has(s)){const i=(r=a(this,ye).get(s))==null?void 0:r.filter(n=>n!==e);i&&(i.length===0?a(this,ye).delete(s):a(this,ye).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=a(this,ye).get(Yt(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=a(this,ye).get(Yt(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){re.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...a(this,ye).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>tr(s,r))}findAll(e={}){return this.getAll().filter(s=>tr(e,s))}notify(e){re.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return re.batch(()=>Promise.all(e.map(s=>s.continue().catch(Re))))}},ye=new WeakMap,At=new WeakMap,yr);function Yt(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function rn(t){return{onFetch:(e,s)=>{const r=async()=>{var D,N,w,k,j;const i=e.options,n=(w=(N=(D=e.fetchOptions)==null?void 0:D.meta)==null?void 0:N.fetchMore)==null?void 0:w.direction,u=((k=e.state.data)==null?void 0:k.pages)||[],h=((j=e.state.data)==null?void 0:j.pageParams)||[],c={pages:[],pageParams:[]};let f=!1;const p=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},m=jr(e.options,e.fetchOptions),y=async(A,q,z)=>{if(f)return Promise.reject();if(q==null&&A.pages.length)return Promise.resolve(A);const te={queryKey:e.queryKey,pageParam:q,direction:z?"backward":"forward",meta:e.options.meta};p(te);const M=await m(te),{maxPages:o}=e.options,l=z?Gi:Wi;return{pages:l(A.pages,M,o),pageParams:l(A.pageParams,q,o)}};let x;if(n&&u.length){const A=n==="backward",q=A?nn:ir,z={pages:u,pageParams:h},te=q(i,z);x=await y(z,te,A)}else{x=await y(c,h[0]??i.initialPageParam);const A=t??u.length;for(let q=1;q<A;q++){const z=ir(i,x);x=await y(x,z)}}return x};e.options.persister?e.fetchFn=()=>{var i,n;return(n=(i=e.options).persister)==null?void 0:n.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=r}}}function ir(t,{pages:e,pageParams:s}){const r=e.length-1;return t.getNextPageParam(e[r],e,s[r],s)}function nn(t,{pages:e,pageParams:s}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s)}var Y,Ve,Je,wt,Ct,Ye,Et,Rt,vr,an=(vr=class{constructor(t={}){S(this,Y,void 0);S(this,Ve,void 0);S(this,Je,void 0);S(this,wt,void 0);S(this,Ct,void 0);S(this,Ye,void 0);S(this,Et,void 0);S(this,Rt,void 0);b(this,Y,t.queryCache||new Lr),b(this,Ve,t.mutationCache||new sn),b(this,Je,t.defaultOptions||{}),b(this,wt,new Map),b(this,Ct,new Map),b(this,Ye,0)}mount(){Jt(this,Ye)._++,a(this,Ye)===1&&(b(this,Et,$s.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,Y).onFocus())})),b(this,Rt,as.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,Y).onOnline())})))}unmount(){var t,e;Jt(this,Ye)._--,a(this,Ye)===0&&((t=a(this,Et))==null||t.call(this),b(this,Et,void 0),(e=a(this,Rt))==null||e.call(this),b(this,Rt,void 0))}isFetching(t){return a(this,Y).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return a(this,Ve).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,Y).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=a(this,Y).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(s.staleTime)&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return a(this,Y).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=a(this,Y).get(r.queryHash),n=i==null?void 0:i.state.data,u=Ki(e,n);if(u!==void 0)return a(this,Y).build(this,r).setData(u,{...s,manual:!0})}setQueriesData(t,e,s){return re.batch(()=>a(this,Y).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,Y).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=a(this,Y);re.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=a(this,Y),r={type:"active",...t};return re.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=re.batch(()=>a(this,Y).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(Re).catch(Re)}invalidateQueries(t={},e={}){return re.batch(()=>{if(a(this,Y).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=re.batch(()=>a(this,Y).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let n=i.fetch(void 0,s);return s.throwOnError||(n=n.catch(Re)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(Re)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=a(this,Y).build(this,e);return s.isStaleByTime(e.staleTime)?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Re).catch(Re)}fetchInfiniteQuery(t){return t.behavior=rn(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Re).catch(Re)}resumePausedMutations(){return as.isOnline()?a(this,Ve).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,Y)}getMutationCache(){return a(this,Ve)}getDefaultOptions(){return a(this,Je)}setDefaultOptions(t){b(this,Je,t)}setQueryDefaults(t,e){a(this,wt).set(ft(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...a(this,wt).values()];let s={};return e.forEach(r=>{Nt(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){a(this,Ct).set(ft(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...a(this,Ct).values()];let s={};return e.forEach(r=>{Nt(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...a(this,Je).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Qs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Pr&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...a(this,Je).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){a(this,Y).clear(),a(this,Ve).clear()}},Y=new WeakMap,Ve=new WeakMap,Je=new WeakMap,wt=new WeakMap,Ct=new WeakMap,Ye=new WeakMap,Et=new WeakMap,Rt=new WeakMap,vr),pe,$,Lt,fe,lt,St,je,Ut,Ot,_t,ct,ht,Ze,kt,dt,jt,qt,Cs,Bt,Es,Qt,Rs,$t,Ss,zt,Os,Kt,_s,Ht,ks,us,qr,br,on=(br=class extends Pt{constructor(e,s){super();S(this,dt);S(this,qt);S(this,Bt);S(this,Qt);S(this,$t);S(this,zt);S(this,Kt);S(this,Ht);S(this,us);S(this,pe,void 0);S(this,$,void 0);S(this,Lt,void 0);S(this,fe,void 0);S(this,lt,void 0);S(this,St,void 0);S(this,je,void 0);S(this,Ut,void 0);S(this,Ot,void 0);S(this,_t,void 0);S(this,ct,void 0);S(this,ht,void 0);S(this,Ze,void 0);S(this,kt,new Set);this.options=s,b(this,pe,e),b(this,je,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,$).addObserver(this),nr(a(this,$),this.options)?I(this,dt,jt).call(this):this.updateResult(),I(this,$t,Ss).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ts(a(this,$),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ts(a(this,$),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,I(this,zt,Os).call(this),I(this,Kt,_s).call(this),a(this,$).removeObserver(this)}setOptions(e,s){const r=this.options,i=a(this,$);if(this.options=a(this,pe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");I(this,Ht,ks).call(this),a(this,$).setOptions(this.options),r._defaulted&&!ns(this.options,r)&&a(this,pe).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,$),observer:this});const n=this.hasListeners();n&&ar(a(this,$),i,this.options,r)&&I(this,dt,jt).call(this),this.updateResult(s),n&&(a(this,$)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&I(this,qt,Cs).call(this);const u=I(this,Bt,Es).call(this);n&&(a(this,$)!==i||this.options.enabled!==r.enabled||u!==a(this,Ze))&&I(this,Qt,Rs).call(this,u)}getOptimisticResult(e){const s=a(this,pe).getQueryCache().build(a(this,pe),e),r=this.createResult(s,e);return ln(this,r)&&(b(this,fe,r),b(this,St,this.options),b(this,lt,a(this,$).state)),r}getCurrentResult(){return a(this,fe)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){a(this,kt).add(e)}getCurrentQuery(){return a(this,$)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=a(this,pe).defaultQueryOptions(e),r=a(this,pe).getQueryCache().build(a(this,pe),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return I(this,dt,jt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,fe)))}createResult(e,s){var M;const r=a(this,$),i=this.options,n=a(this,fe),u=a(this,lt),h=a(this,St),f=e!==r?e.state:a(this,Lt),{state:p}=e;let m={...p},y=!1,x;if(s._optimisticResults){const o=this.hasListeners(),l=!o&&nr(e,s),g=o&&ar(e,r,s,i);(l||g)&&(m={...m,...Ar(p.data,e.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:D,errorUpdatedAt:N,status:w}=m;if(s.select&&m.data!==void 0)if(n&&m.data===(u==null?void 0:u.data)&&s.select===a(this,Ut))x=a(this,Ot);else try{b(this,Ut,s.select),x=s.select(m.data),x=ws(n==null?void 0:n.data,x,s),b(this,Ot,x),b(this,je,null)}catch(o){b(this,je,o)}else x=m.data;if(s.placeholderData!==void 0&&x===void 0&&w==="pending"){let o;if(n!=null&&n.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))o=n.data;else if(o=typeof s.placeholderData=="function"?s.placeholderData((M=a(this,_t))==null?void 0:M.state.data,a(this,_t)):s.placeholderData,s.select&&o!==void 0)try{o=s.select(o),b(this,je,null)}catch(l){b(this,je,l)}o!==void 0&&(w="success",x=ws(n==null?void 0:n.data,o,s),y=!0)}a(this,je)&&(D=a(this,je),x=a(this,Ot),N=Date.now(),w="error");const k=m.fetchStatus==="fetching",j=w==="pending",A=w==="error",q=j&&k,z=x!==void 0;return{status:w,fetchStatus:m.fetchStatus,isPending:j,isSuccess:w==="success",isError:A,isInitialLoading:q,isLoading:q,data:x,dataUpdatedAt:m.dataUpdatedAt,error:D,errorUpdatedAt:N,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!j,isLoadingError:A&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&z,isStale:zs(e,s),refetch:this.refetch}}updateResult(e){const s=a(this,fe),r=this.createResult(a(this,$),this.options);if(b(this,lt,a(this,$).state),b(this,St,this.options),a(this,lt).data!==void 0&&b(this,_t,a(this,$)),ns(r,s))return;b(this,fe,r);const i={},n=()=>{if(!s)return!0;const{notifyOnChangeProps:u}=this.options,h=typeof u=="function"?u():u;if(h==="all"||!h&&!a(this,kt).size)return!0;const c=new Set(h??a(this,kt));return this.options.throwOnError&&c.add("error"),Object.keys(a(this,fe)).some(f=>{const p=f;return a(this,fe)[p]!==s[p]&&c.has(p)})};(e==null?void 0:e.listeners)!==!1&&n()&&(i.listeners=!0),I(this,us,qr).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&I(this,$t,Ss).call(this)}},pe=new WeakMap,$=new WeakMap,Lt=new WeakMap,fe=new WeakMap,lt=new WeakMap,St=new WeakMap,je=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,_t=new WeakMap,ct=new WeakMap,ht=new WeakMap,Ze=new WeakMap,kt=new WeakMap,dt=new WeakSet,jt=function(e){I(this,Ht,ks).call(this);let s=a(this,$).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Re)),s},qt=new WeakSet,Cs=function(){if(I(this,zt,Os).call(this),Ft||a(this,fe).isStale||!bs(this.options.staleTime))return;const s=Tr(a(this,fe).dataUpdatedAt,this.options.staleTime)+1;b(this,ct,setTimeout(()=>{a(this,fe).isStale||this.updateResult()},s))},Bt=new WeakSet,Es=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,$)):this.options.refetchInterval)??!1},Qt=new WeakSet,Rs=function(e){I(this,Kt,_s).call(this),b(this,Ze,e),!(Ft||this.options.enabled===!1||!bs(a(this,Ze))||a(this,Ze)===0)&&b(this,ht,setInterval(()=>{(this.options.refetchIntervalInBackground||$s.isFocused())&&I(this,dt,jt).call(this)},a(this,Ze)))},$t=new WeakSet,Ss=function(){I(this,qt,Cs).call(this),I(this,Qt,Rs).call(this,I(this,Bt,Es).call(this))},zt=new WeakSet,Os=function(){a(this,ct)&&(clearTimeout(a(this,ct)),b(this,ct,void 0))},Kt=new WeakSet,_s=function(){a(this,ht)&&(clearInterval(a(this,ht)),b(this,ht,void 0))},Ht=new WeakSet,ks=function(){const e=a(this,pe).getQueryCache().build(a(this,pe),this.options);if(e===a(this,$))return;const s=a(this,$);b(this,$,e),b(this,Lt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},us=new WeakSet,qr=function(e){re.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(a(this,fe))}),a(this,pe).getQueryCache().notify({query:a(this,$),type:"observerResultsUpdated"})})},br);function un(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nr(t,e){return un(t,e)||t.state.data!==void 0&&Ts(t,e,e.refetchOnMount)}function Ts(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&zs(t,e)}return!1}function ar(t,e,s,r){return(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&zs(t,s)}function zs(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function ln(t,e){return!ns(t.getCurrentResult(),e)}var Xe,et,me,Ue,Tt,Xt,Wt,Fs,xr,cn=(xr=class extends Pt{constructor(s,r){super();S(this,Tt);S(this,Wt);S(this,Xe,void 0);S(this,et,void 0);S(this,me,void 0);S(this,Ue,void 0);b(this,Xe,s),this.setOptions(r),this.bindMethods(),I(this,Tt,Xt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=a(this,Xe).defaultMutationOptions(s),ns(this.options,r)||a(this,Xe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:a(this,me),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ft(r.mutationKey)!==ft(this.options.mutationKey)?this.reset():((i=a(this,me))==null?void 0:i.state.status)==="pending"&&a(this,me).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=a(this,me))==null||s.removeObserver(this)}onMutationUpdate(s){I(this,Tt,Xt).call(this),I(this,Wt,Fs).call(this,s)}getCurrentResult(){return a(this,et)}reset(){var s;(s=a(this,me))==null||s.removeObserver(this),b(this,me,void 0),I(this,Tt,Xt).call(this),I(this,Wt,Fs).call(this)}mutate(s,r){var i;return b(this,Ue,r),(i=a(this,me))==null||i.removeObserver(this),b(this,me,a(this,Xe).getMutationCache().build(a(this,Xe),this.options)),a(this,me).addObserver(this),a(this,me).execute(s)}},Xe=new WeakMap,et=new WeakMap,me=new WeakMap,Ue=new WeakMap,Tt=new WeakSet,Xt=function(){var r;const s=((r=a(this,me))==null?void 0:r.state)??Ur();b(this,et,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Wt=new WeakSet,Fs=function(s){re.batch(()=>{var r,i,n,u,h,c,f,p;if(a(this,Ue)&&this.hasListeners()){const m=a(this,et).variables,y=a(this,et).context;(s==null?void 0:s.type)==="success"?((i=(r=a(this,Ue)).onSuccess)==null||i.call(r,s.data,m,y),(u=(n=a(this,Ue)).onSettled)==null||u.call(n,s.data,null,m,y)):(s==null?void 0:s.type)==="error"&&((c=(h=a(this,Ue)).onError)==null||c.call(h,s.error,m,y),(p=(f=a(this,Ue)).onSettled)==null||p.call(f,void 0,s.error,m,y))}this.listeners.forEach(m=>{m(a(this,et))})})},xr),Br=v.createContext(void 0),Qr=t=>{const e=v.useContext(Br);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hn=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Br.Provider,{value:t,children:e})),$r=v.createContext(!1),dn=()=>v.useContext($r);$r.Provider;function fn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pn=v.createContext(fn()),mn=()=>v.useContext(pn);function zr(t,e){return typeof t=="function"?t(...e):!!t}function gn(){}var yn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},vn=t=>{v.useEffect(()=>{t.clearReset()},[t])},bn=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&zr(s,[t.error,r]),xn=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},wn=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Cn=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function En(t,e,s){const r=Qr(),i=dn(),n=mn(),u=r.defaultQueryOptions(t);u._optimisticResults=i?"isRestoring":"optimistic",xn(u),yn(u,n),vn(n);const[h]=v.useState(()=>new e(r,u)),c=h.getOptimisticResult(u);if(v.useSyncExternalStore(v.useCallback(f=>{const p=i?()=>{}:h.subscribe(re.batchCalls(f));return h.updateResult(),p},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),wn(u,c))throw Cn(u,h,n);if(bn({result:c,errorResetBoundary:n,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw c.error;return u.notifyOnChangeProps?c:h.trackResult(c)}function Kr(t,e){return En(t,on)}function Hr(t,e){const s=Qr(),[r]=v.useState(()=>new cn(s,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(u=>r.subscribe(re.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),n=v.useCallback((u,h)=>{r.mutate(u,h).catch(gn)},[r]);if(i.error&&zr(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}var Rn=function(){return null};function cs({children:t,className:e=null,disabled:s=!1,onClick:r=()=>null,type:i="button",variant:n="primary"}){return d.jsx("button",{className:`
        inline-flex w-fit items-center justify-center rounded-md shadow-sm transition-buttons duration-200 px-4 py-2 text-sm font-medium

        ${s?"":`
              hover:shadow-lg
              focus:outline-none focus:ring-2 focus:ring-offset-2`}

        ${n==="primary"?`
              bg-oxford-600 text-white
              hover:bg-oxford-700
              focus:bg-oxford-700 focus:ring-oxford-500 focus:ring-offset-white
            `:""}
        ${n==="secondary"?`
              bg-slate-500 text-white
              hover:bg-slate-600
              focus:bg-slate-600 focus:ring-slate-500 focus:ring-offset-white
            `:""}

        ${e}
      `,disabled:s,onClick:r,type:i,children:t})}cs.propTypes={children:C.node.isRequired,className:C.string,disabled:C.bool,onClick:C.func,type:C.string,variant:C.string};function Sn(t){let e=[],s=[];return t.map((r,i)=>{const n=r.name.split("/");return i===0?(e=[],e=n):(s=[],n.map((u,h)=>u===e[h]?s.push(u):null))}),s.join("/")}function On(t){const e=new Intl.Collator("en"),s=[...t].sort((i,n)=>n.date.localeCompare(i.date)).map((i,n)=>({dateOrder:n,...i})).sort((i,n)=>e.compare(i.name.toUpperCase(),n.name.toUpperCase())).map((i,n)=>({nameOrder:n,...i}));if(s.length<2)return s.map(i=>({...i,shortName:i.name,visible:!0}));const r=Sn(s);return s.map(i=>({...i,shortName:i.name.replace(`${r}/`,""),visible:!0}))}function Wr({authToken:t,filesUrl:e}){return Kr({queryKey:["FILE_LIST"],queryFn:async()=>{const s=await fetch(e,{headers:{Authorization:t}});if(!s.ok)throw new Error("File list not found");return s.json()},select:s=>On(s.files),meta:{errorMessage:"Unable to load files",id:e}})}const ge={authToken:C.string,basePath:C.string,csrfToken:C.string,filesUrl:C.string,prepareUrl:C.string,publishUrl:C.string},Ie={date:C.string,id:C.string,is_deleted:C.bool,name:C.string,sha256:C.string,size:C.number,url:C.string,user:C.string};let _n={data:""},kn=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||_n,Tn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Fn=/\/\*[^]*?\*\/|  +/g,or=/\n+/g,He=(t,e)=>{let s="",r="",i="";for(let n in t){let u=t[n];n[0]=="@"?n[1]=="i"?s=n+" "+u+";":r+=n[1]=="f"?He(u,n):n+"{"+He(u,n[1]=="k"?"":e)+"}":typeof u=="object"?r+=He(u,e?e.replace(/([^,])+/g,h=>n.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,h):h?h+" "+c:c)):n):u!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=He.p?He.p(n,u):n+":"+u+";")}return s+(e&&i?e+"{"+i+"}":i)+r},Ae={},Gr=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+Gr(t[s]);return e}return t},Pn=(t,e,s,r,i)=>{let n=Gr(t),u=Ae[n]||(Ae[n]=(c=>{let f=0,p=11;for(;f<c.length;)p=101*p+c.charCodeAt(f++)>>>0;return"go"+p})(n));if(!Ae[u]){let c=n!==t?t:(f=>{let p,m,y=[{}];for(;p=Tn.exec(f.replace(Fn,""));)p[4]?y.shift():p[3]?(m=p[3].replace(or," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][p[1]]=p[2].replace(or," ").trim();return y[0]})(t);Ae[u]=He(i?{["@keyframes "+u]:c}:c,s?"":"."+u)}let h=s&&Ae.g?Ae.g:null;return s&&(Ae.g=Ae[u]),((c,f,p,m)=>{m?f.data=f.data.replace(m,c):f.data.indexOf(c)===-1&&(f.data=p?c+f.data:f.data+c)})(Ae[u],e,r,h),u},jn=(t,e,s)=>t.reduce((r,i,n)=>{let u=e[n];if(u&&u.call){let h=u(s),c=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=c?"."+c:h&&typeof h=="object"?h.props?"":He(h,""):h===!1?"":h}return r+i+(u??"")},"");function hs(t){let e=this||{},s=t.call?t(e.p):t;return Pn(s.unshift?s.raw?jn(s,[].slice.call(arguments,1),e.p):s.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):s,kn(e.target),e.g,e.o,e.k)}let Vr,Ps,js;hs.bind({g:1});let qe=hs.bind({k:1});function In(t,e,s,r){He.p=e,Vr=t,Ps=s,js=r}function tt(t,e){let s=this||{};return function(){let r=arguments;function i(n,u){let h=Object.assign({},n),c=h.className||i.className;s.p=Object.assign({theme:Ps&&Ps()},h),s.o=/ *go\d+/.test(c),h.className=hs.apply(s,r)+(c?" "+c:"");let f=t;return t[0]&&(f=h.as||t,delete h.as),js&&f[0]&&js(h),Vr(f,h)}return i}}var Dn=t=>typeof t=="function",os=(t,e)=>Dn(t)?t(e):t,Nn=(()=>{let t=0;return()=>(++t).toString()})(),Jr=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Mn=20,es=new Map,An=1e3,ur=t=>{if(es.has(t))return;let e=setTimeout(()=>{es.delete(t),pt({type:4,toastId:t})},An);es.set(t,e)},Ln=t=>{let e=es.get(t);e&&clearTimeout(e)},Is=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Mn)};case 1:return e.toast.id&&Ln(e.toast.id),{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case 2:let{toast:s}=e;return t.toasts.find(n=>n.id===s.id)?Is(t,{type:1,toast:s}):Is(t,{type:0,toast:s});case 3:let{toastId:r}=e;return r?ur(r):t.toasts.forEach(n=>{ur(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,visible:!1}:n)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(n=>({...n,pauseDuration:n.pauseDuration+i}))}}},ts=[],ss={toasts:[],pausedAt:void 0},pt=t=>{ss=Is(ss,t),ts.forEach(e=>{e(ss)})},Un={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qn=(t={})=>{let[e,s]=v.useState(ss);v.useEffect(()=>(ts.push(s),()=>{let i=ts.indexOf(s);i>-1&&ts.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var n,u;return{...t,...t[i.type],...i,duration:i.duration||((n=t[i.type])==null?void 0:n.duration)||(t==null?void 0:t.duration)||Un[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:r}},Bn=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Nn()}),Gt=t=>(e,s)=>{let r=Bn(e,t,s);return pt({type:2,toast:r}),r.id},ve=(t,e)=>Gt("blank")(t,e);ve.error=Gt("error");ve.success=Gt("success");ve.loading=Gt("loading");ve.custom=Gt("custom");ve.dismiss=t=>{pt({type:3,toastId:t})};ve.remove=t=>pt({type:4,toastId:t});ve.promise=(t,e,s)=>{let r=ve.loading(e.loading,{...s,...s==null?void 0:s.loading});return t.then(i=>(ve.success(os(e.success,i),{id:r,...s,...s==null?void 0:s.success}),i)).catch(i=>{ve.error(os(e.error,i),{id:r,...s,...s==null?void 0:s.error})}),t};var Qn=(t,e)=>{pt({type:1,toast:{id:t,height:e}})},$n=()=>{pt({type:5,time:Date.now()})},zn=t=>{let{toasts:e,pausedAt:s}=qn(t);v.useEffect(()=>{if(s)return;let n=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let c=(h.duration||0)+h.pauseDuration-(n-h.createdAt);if(c<0){h.visible&&ve.dismiss(h.id);return}return setTimeout(()=>ve.dismiss(h.id),c)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,s]);let r=v.useCallback(()=>{s&&pt({type:6,time:Date.now()})},[s]),i=v.useCallback((n,u)=>{let{reverseOrder:h=!1,gutter:c=8,defaultPosition:f}=u||{},p=e.filter(x=>(x.position||f)===(n.position||f)&&x.height),m=p.findIndex(x=>x.id===n.id),y=p.filter((x,D)=>D<m&&x.visible).length;return p.filter(x=>x.visible).slice(...h?[y+1]:[0,y]).reduce((x,D)=>x+(D.height||0)+c,0)},[e]);return{toasts:e,handlers:{updateHeight:Qn,startPause:$n,endPause:r,calculateOffset:i}}},Kn=qe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Hn=qe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wn=qe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Gn=tt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Hn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Vn=qe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jn=tt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Vn} 1s linear infinite;
`,Yn=qe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Zn=qe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xn=tt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Yn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Zn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ea=tt("div")`
  position: absolute;
`,ta=tt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sa=qe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ra=tt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ia=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?v.createElement(ra,null,e):e:s==="blank"?null:v.createElement(ta,null,v.createElement(Jn,{...r}),s!=="loading"&&v.createElement(ea,null,s==="error"?v.createElement(Gn,{...r}):v.createElement(Xn,{...r})))},na=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aa=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,oa="0%{opacity:0;} 100%{opacity:1;}",ua="0%{opacity:1;} 100%{opacity:0;}",la=tt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ca=tt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ha=(t,e)=>{let s=t.includes("top")?1:-1,[r,i]=Jr()?[oa,ua]:[na(s),aa(s)];return{animation:e?`${qe(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qe(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Yr=v.memo(({toast:t,position:e,style:s,children:r})=>{let i=t.height?ha(t.position||e||"top-center",t.visible):{opacity:0},n=v.createElement(ia,{toast:t}),u=v.createElement(ca,{...t.ariaProps},os(t.message,t));return v.createElement(la,{className:t.className,style:{...i,...s,...t.style}},typeof r=="function"?r({icon:n,message:u}):v.createElement(v.Fragment,null,n,u))});In(v.createElement);var da=({id:t,className:e,style:s,onHeightUpdate:r,children:i})=>{let n=v.useCallback(u=>{if(u){let h=()=>{let c=u.getBoundingClientRect().height;r(t,c)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return v.createElement("div",{ref:n,className:e,style:s},i)},fa=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Jr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...i}},pa=hs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zt=16,ma=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:i,containerStyle:n,containerClassName:u})=>{let{toasts:h,handlers:c}=zn(s);return v.createElement("div",{style:{position:"fixed",zIndex:9999,top:Zt,left:Zt,right:Zt,bottom:Zt,pointerEvents:"none",...n},className:u,onMouseEnter:c.startPause,onMouseLeave:c.endPause},h.map(f=>{let p=f.position||e,m=c.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),y=fa(p,m);return v.createElement(da,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?pa:"",style:y},f.type==="custom"?os(f.message,f):i?i(f):v.createElement(Yr,{toast:f,position:p}))}))},Ks=ve;function Zr({toastId:t}){Ks.dismiss(t)}function Hs({toastId:t,message:e,...s}){console.error(e,{...s}),Ks.error(e,{id:t})}function Xr({authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r}){const{data:i}=Wr({authToken:t,filesUrl:s}),n="PrepareButton",u=Hr({mutationFn:async c=>{const f=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({file_ids:c})});if(!f.ok){const p=await f.json();throw new Error(p.detail)}return f.json()},onMutate:()=>{Zr({toastId:n})},onSuccess:c=>{window.location.href=c.url},onError:c=>{Hs({message:`${c}`,toastId:n,prepareUrl:r,url:document.location.href})}});if(!(i!=null&&i.length))return null;const h=i.map(c=>c.id);return d.jsx(cs,{disabled:u.isPending,onClick:c=>(c.preventDefault(),u.mutate(h)),type:"button",variant:u.isPending?"secondary":"primary",children:u.isPending?"Creating":"Create a draft publication"})}Xr.propTypes={authToken:ge.authToken.isRequired,csrfToken:ge.csrfToken.isRequired,filesUrl:ge.filesUrl.isRequired,prepareUrl:ge.prepareUrl.isRequired};function ei({csrfToken:t,publishUrl:e}){const s="PublishButton",r=Hr({mutationFn:async()=>{const i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:""});if(!i.ok){const n=await i.json();throw new Error(n.detail)}return i.text()},onMutate:()=>{Zr({toastId:s})},onSuccess:()=>{window.location.reload()},onError:i=>{Hs({message:`${i}`,toastId:s,publishUrl:e,url:document.location.href})}});return d.jsx(cs,{disabled:r.isPending,onClick:i=>(i.preventDefault(),r.mutate()),type:"button",variant:r.isPending?"secondary":"primary",children:r.isPending?"Creating":"Create a public published output"})}ei.propTypes={csrfToken:ge.csrfToken.isRequired,publishUrl:ge.publishUrl.isRequired};function It({children:t,className:e="",container:s=!1,header:r=null,innerClassName:i=""}){return d.jsxs("div",{className:`bg-white shadow ${e}`,children:[r?d.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-between px-4 py-2 sm:px-6 sm:py-4 sm:flex-nowrap bg-slate-50",children:r}):null,d.jsx("div",{className:`
          ${i}
          ${s?"px-4 py-3 md:px-6 md:py-5":""}
          ${r&&s?"border-t border-slate-200":""}
        `,children:t})]})}It.propTypes={children:C.element.isRequired,className:C.string,container:C.bool,header:C.element,innerClassName:C.string};const ga=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ya=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],va=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],ba=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],lr=(t,e,s)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,s):(e===!0||s!==void 0)&&(r=t.toLocaleString(void 0,s)),r};function xa(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const s=e.bits?e.binary?ba:va:e.binary?ya:ga,r=e.space?" ":"";if(e.signed&&t===0)return` 0${r}${s[0]}`;const i=t<0,n=i?"-":e.signed?"+":"";i&&(t=-t);let u;if(e.minimumFractionDigits!==void 0&&(u={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(u={maximumFractionDigits:e.maximumFractionDigits,...u}),t<1){const p=lr(t,e.locale,u);return n+p+r+s[0]}const h=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),s.length-1);t/=(e.binary?1024:1e3)**h,u||(t=t.toPrecision(3));const c=lr(Number(t),e.locale,u),f=s[h];return n+c+r+f}function ti(t){return t?xa(t,{locale:"en-gb"}):"unknown"}function si({autocapitalize:t=null,autocomplete:e=null,autocorrect:s=null,className:r=null,hideLabel:i=!1,hintText:n=null,id:u="inputID",inputClassName:h=null,inputmode:c=null,label:f=null,labelClass:p=null,onChange:m=()=>null,placeholder:y=null,required:x=null,type:D="text",value:N=null}){return d.jsxs("div",{className:r,children:[d.jsxs("label",{className:`inline-block font-semibold text-lg text-slate-900 cursor-pointer ${p} ${i?"sr-only":"null"}`,htmlFor:u,children:[f,x?d.jsx("span",{"aria-hidden":"true",className:"text-bn-ribbon-700 font-bold",children:"*"}):null]}),n?d.jsx("p",{className:"mb-2 text-sm text-gray-700",children:{hintText:n}}):null,d.jsx("div",{className:"relative",children:d.jsx("input",{autoCapitalize:t,autoComplete:e,autoCorrect:s,className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
            [&:not(:placeholder-shown):not(:focus)]:invalid:border-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-bn-ribbon-600 [&:not(:placeholder-shown):not(:focus)]:invalid:ring-1
            ${h}
            ${i?"":"mt-1"}
          `,id:u,inputMode:c,onChange:m,placeholder:y,required:x,type:D,value:N})})]})}si.propTypes={autocapitalize:C.string,autocomplete:C.oneOf(["none","off","characters","words","sentences"]),autocorrect:C.oneOf(["on","off"]),className:C.string,hideLabel:C.bool,hintText:C.string,id:C.string,inputClassName:C.string,inputmode:C.string,label:C.string,labelClass:C.string,onChange:C.func,placeholder:C.string,required:C.bool,type:C.string,value:C.string};function ri({files:t,listRef:e,setFiles:s}){const[r,i]=v.useState("");v.useEffect(()=>{const u=[...t].map(h=>({...h,visible:h.shortName.toLowerCase().includes(r.toLowerCase())}));s(u)},[r]);function n(u){var h;(h=e==null?void 0:e.current)==null||h.scrollToItem(0),i(u.target.value)}return d.jsx(si,{autocapitalize:"off",autocomplete:"off",autocorrect:"off",className:"mb-1",hideLabel:!0,id:"filterFiles",label:"Find a file",onChange:u=>n(u),placeholder:"Find a file",type:"search",value:r})}ri.propTypes={files:C.arrayOf(C.shape()).isRequired,listRef:C.oneOfType([C.func,C.shape({current:C.instanceOf(Element)})]).isRequired,setFiles:C.func.isRequired};function ii({authToken:t,filesUrl:e,listVisible:s,setSelectedFile:r}){const[i,n]=v.useState([]),[u,h]=v.useState("nameOrder"),{data:c,isError:f,isLoading:p,isSuccess:m}=Wr({authToken:t,filesUrl:e}),y=Ni(),x=Sr(),D=v.createRef();if(v.useEffect(()=>{const w=c==null?void 0:c.find(k=>`/${k.name}`===x.pathname);r(w),c&&n(c)},[m]),p)return d.jsx(It,{container:!0,children:d.jsx("p",{children:"Loading"})});if(f)return d.jsx(It,{container:!0,header:d.jsx("h2",{className:"font-semibold text-lg",children:"Error"}),children:d.jsx("p",{children:"Unable to load files"})});const N=({e:w,item:k})=>{w.preventDefault();const j=`/${k.name}`;return y(j),r(k)};return d.jsxs("div",{className:s?"block md:sticky md:top-2":"hidden",children:[d.jsxs("div",{className:"flex flex-row items-center gap-2 mb-1",children:[d.jsx("label",{className:"inline-block font-semibold text-sm text-slate-900 cursor-pointer flex-shrink-0",htmlFor:"fileSort",children:"Sort files by"}),d.jsxs("select",{className:`
            block w-full border-slate-300 text-slate-900 shadow-sm
            focus:border-oxford-500 focus:ring-oxford-500
            sm:text-sm
          `,id:"fileSort",name:"file-sort",onChange:w=>h(w.target.value),value:u,children:[d.jsx("option",{value:"nameOrder",children:"File name"}),d.jsx("option",{value:"dateOrder",children:"Created date"})]})]}),d.jsx(ri,{files:c,listRef:D,setFiles:n}),d.jsx(It,{className:"py-2 md:max-h-screen md:h-full overflow-x-auto md:overflow-y-auto",container:!1,children:d.jsx("ul",{className:"text-sm text-oxford-600 flex flex-col gap-y-1 items-start",children:i.sort((w,k)=>w[u]-k[u]).map(w=>d.jsx(wr.Fragment,{children:w.visible&&d.jsx("li",{className:`leading-tight px-4 ${`/${w.name}`===x.pathname?"font-bold text-oxford-800":""}`,children:`/${w.name}`===x.pathname?d.jsx("span",{children:w.shortName}):d.jsx("a",{disabled:`/${w.name}`===x.pathname,href:w.url,onClick:k=>N({e:k,item:w}),title:`File size: ${ti(w.size)}`,children:w.shortName})})},w.id))})})]})}ii.propTypes={authToken:ge.authToken.isRequired,filesUrl:ge.filesUrl.isRequired,listVisible:C.bool.isRequired,setSelectedFile:C.func.isRequired};function ds({children:t=null,className:e=null,href:s,newTab:r=!1}){return d.jsx("a",{className:`
        font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
        hover:decoration-transparent hover:text-oxford
        focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
        ${e}
      `,href:s,rel:r?"noreferrer noopener":void 0,target:r?"filePreview":void 0,children:t})}ds.propTypes={children:C.oneOfType([C.element,C.string]),className:C.string,href:C.string.isRequired,newTab:C.bool};function ni({fileDate:t,fileName:e,fileSize:s,fileUrl:r}){const i=()=>{if(Date.parse(t)){const n=new Date(t);return{absolute:n.toISOString(),formatted:new Intl.DateTimeFormat("en-GB",{timeZone:"UTC",dateStyle:"short",timeStyle:"short"}).format(n)}}return!1};return d.jsxs("ul",{className:"flex flex-row gap-2 items-center w-full flex-wrap",children:[d.jsx("li",{className:"mr-auto pr-4",children:d.jsx(ds,{className:`
            font-semibold text-oxford-600 underline underline-offset-2 decoration-oxford-300 transition-colors duration-200
            hover:decoration-transparent hover:text-oxford
            focus:decoration-transparent focus:text-oxford focus:bg-bn-sun-300
            after:content-[''] after:text-sm after:ml-1 after:absolute after:mt-0.5
          `,href:r,newTab:!0,children:e})}),i()&&d.jsxs("li",{className:"font-mono text-sm text-right whitespace-nowrap",children:[d.jsx("div",{className:"sr-only",children:"Last modified at: "}),d.jsx("time",{className:"",dateTime:i().absolute,title:i().absolute,children:i().formatted})]}),d.jsx("li",{className:"font-mono text-sm text-right whitespace-nowrap ml-4",children:ti(s)})]})}ni.propTypes={fileDate:Ie.date.isRequired,fileName:Ie.name.isRequired,fileSize:Ie.size.isRequired,fileUrl:Ie.url.isRequired};function wa(){return d.jsx(ma,{position:"top-right",toastOptions:{duration:1/0,style:{whiteSpace:"pre-line",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},error:{style:{color:"#721c24",backgroundColor:"#f8d7da"}}},children:t=>d.jsx(Yr,{id:"ToastBar",toast:t,children:({icon:e,message:s})=>d.jsxs(d.Fragment,{children:[e,s,t.type!=="loading"&&d.jsxs("button",{className:"border border-current rounded p-1 hover:bg-current hover:fill-white",onClick:()=>Ks.dismiss(t.id),type:"button",children:[d.jsx("span",{className:"sr-only",children:"Dismiss"}),d.jsx("svg",{className:"h-4 w-4",fill:"currentFill",viewBox:"0 0 20 20",width:"12",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{clipRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",fillRule:"evenodd"})})]})]})})})}const Ds=t=>t.toLowerCase().match(/.*\.(?:csv)$/i),ai=t=>t.toLowerCase().match(/.*\.(?:html)$/i),Ns=t=>t.toLowerCase().match(/.*\.(?:gif|jpg|jpeg|png|svg)$/i),oi=t=>t.toLowerCase().match(/.*\.(?:txt)$/i),ui=t=>t.toLowerCase().match(/.*\.(?:json)$/i),cr=t=>Ds(t)||ai(t)||Ns(t)||oi(t)||ui(t),ys='"File not yet uploaded"';var Ca=Ea;function Ea(t,e,s){var r=null,i=null,n=function(){r&&(clearTimeout(r),i=null,r=null)},u=function(){var c=i;n(),c&&c()},h=function(){if(!e)return t.apply(this,arguments);var c=this,f=arguments,p=s&&!r;if(n(),i=function(){t.apply(c,f)},r=setTimeout(function(){if(r=null,!p){var m=i;return i=null,m()}},e),p)return i()};return h.cancel=n,h.flush=u,h}function Ra(t=100){const[e,s]=v.useState({width:void 0,height:void 0});return v.useEffect(()=>{function r(){s({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",Ca(r,t)),r(),()=>window.removeEventListener("resize",r)},[t]),e}function li({data:t,fileName:e,fileUrl:s}){const r=Ra(),[i,n]=v.useState(0),u=encodeURIComponent(s).replace(/\W/g,"");return v.useLayoutEffect(()=>{var c;if(document.getElementById(u)&&window.innerWidth>991){const f=Math.round((c=document==null?void 0:document.getElementById("outputsSPA"))==null?void 0:c.offsetHeight);if(!f||f<1e3)return n(1e3)}return n(1e3)},[r,u]),d.jsx("iframe",{className:"-mx-4 -my-3 w-[calc(100%+2rem)] md:-mx-6 md:-my-5 md:w-[calc(100%+3rem)]",frameBorder:"0",height:i,id:u,src:s,srcDoc:t,title:e,width:"100%"})}li.propTypes={data:C.string.isRequired,fileName:Ie.name.isRequired,fileUrl:Ie.url.isRequired};function ci({data:t}){return d.jsx("img",{alt:"",className:"h-auto max-w-full",src:t})}ci.propTypes={data:C.string.isRequired};function hi({error:t=null,fileUrl:e}){return d.jsxs(d.Fragment,{children:[t?d.jsx("p",{children:"Error: Unable to load file"}):d.jsx("p",{children:"We cannot show a preview of this file."}),d.jsx("p",{className:"mt-3",children:d.jsx(ds,{href:e,newTab:!0,children:"Open file in a new tab "})})]})}hi.propTypes={error:C.shape({message:C.string}),fileUrl:Ie.url.isRequired};var di={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(s,r){t.exports=r()})(xi,function s(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,n=r.IS_PAPA_WORKER||!1,u={},h=0,c={parse:function(o,l){var g=(l=l||{}).dynamicTyping||!1;if(M(g)&&(l.dynamicTypingFunction=g,g={}),l.dynamicTyping=g,l.transform=!!M(l.transform)&&l.transform,l.worker&&c.WORKERS_SUPPORTED){var E=function(){if(!c.WORKERS_SUPPORTED)return!1;var P=(ae=r.URL||r.webkitURL||null,V=s.toString(),c.BLOB_URL||(c.BLOB_URL=ae.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))),L=new r.Worker(P),ae,V;return L.onmessage=j,L.id=h++,u[L.id]=L}();return E.userStep=l.step,E.userChunk=l.chunk,E.userComplete=l.complete,E.userError=l.error,l.step=M(l.step),l.chunk=M(l.chunk),l.complete=M(l.complete),l.error=M(l.error),delete l.worker,void E.postMessage({input:o,config:l,workerId:E.id})}var O=null;return c.NODE_STREAM_INPUT,typeof o=="string"?(o=function(P){return P.charCodeAt(0)===65279?P.slice(1):P}(o),O=l.download?new m(l):new x(l)):o.readable===!0&&M(o.read)&&M(o.on)?O=new D(l):(r.File&&o instanceof File||o instanceof Object)&&(O=new y(l)),O.stream(o)},unparse:function(o,l){var g=!1,E=!0,O=",",P=`\r
`,L='"',ae=L+L,V=!1,_=null,Z=!1;(function(){if(typeof l=="object"){if(typeof l.delimiter!="string"||c.BAD_DELIMITERS.filter(function(R){return l.delimiter.indexOf(R)!==-1}).length||(O=l.delimiter),(typeof l.quotes=="boolean"||typeof l.quotes=="function"||Array.isArray(l.quotes))&&(g=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(V=l.skipEmptyLines),typeof l.newline=="string"&&(P=l.newline),typeof l.quoteChar=="string"&&(L=l.quoteChar),typeof l.header=="boolean"&&(E=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");_=l.columns}l.escapeChar!==void 0&&(ae=l.escapeChar+L),(typeof l.escapeFormulae=="boolean"||l.escapeFormulae instanceof RegExp)&&(Z=l.escapeFormulae instanceof RegExp?l.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(w(L),"g");if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return Se(null,o,V);if(typeof o[0]=="object")return Se(_||Object.keys(o[0]),o,V)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||_),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),Se(o.fields||[],o.data||[],V);throw new Error("Unable to serialize unrecognized input");function Se(R,H,le){var J="";typeof R=="string"&&(R=JSON.parse(R)),typeof H=="string"&&(H=JSON.parse(H));var oe=Array.isArray(R)&&0<R.length,ie=!Array.isArray(H[0]);if(oe&&E){for(var ne=0;ne<R.length;ne++)0<ne&&(J+=O),J+=ue(R[ne],ne);0<H.length&&(J+=P)}for(var T=0;T<H.length;T++){var U=oe?R.length:H[T].length,W=!1,se=oe?Object.keys(H[T]).length===0:H[T].length===0;if(le&&!oe&&(W=le==="greedy"?H[T].join("").trim()==="":H[T].length===1&&H[T][0].length===0),le==="greedy"&&oe){for(var Q=[],ce=0;ce<U;ce++){var X=ie?R[ce]:ce;Q.push(H[T][X])}W=Q.join("").trim()===""}if(!W){for(var K=0;K<U;K++){0<K&&!se&&(J+=O);var Oe=oe&&ie?R[K]:K;J+=ue(H[T][Oe],K)}T<H.length-1&&(!le||0<U&&!se)&&(J+=P)}}return J}function ue(R,H){if(R==null)return"";if(R.constructor===Date)return JSON.stringify(R).slice(1,25);var le=!1;Z&&typeof R=="string"&&Z.test(R)&&(R="'"+R,le=!0);var J=R.toString().replace(F,ae);return(le=le||g===!0||typeof g=="function"&&g(R,H)||Array.isArray(g)&&g[H]||function(oe,ie){for(var ne=0;ne<ie.length;ne++)if(-1<oe.indexOf(ie[ne]))return!0;return!1}(J,c.BAD_DELIMITERS)||-1<J.indexOf(O)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?L+J+L:J}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=k,c.ParserHandle=N,c.NetworkStreamer=m,c.FileStreamer=y,c.StringStreamer=x,c.ReadableStreamStreamer=D,r.jQuery){var f=r.jQuery;f.fn.parse=function(o){var l=o.config||{},g=[];return this.each(function(P){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)g.push({file:this.files[L],inputElem:this,instanceConfig:f.extend({},l)})}),E(),this;function E(){if(g.length!==0){var P,L,ae,V,_=g[0];if(M(o.before)){var Z=o.before(_.file,_.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return P="AbortError",L=_.file,ae=_.inputElem,V=Z.reason,void(M(o.error)&&o.error({name:P},L,ae,V));if(Z.action==="skip")return void O();typeof Z.config=="object"&&(_.instanceConfig=f.extend(_.instanceConfig,Z.config))}else if(Z==="skip")return void O()}var F=_.instanceConfig.complete;_.instanceConfig.complete=function(Se){M(F)&&F(Se,_.file,_.inputElem),O()},c.parse(_.file,_.instanceConfig)}else M(o.complete)&&o.complete()}function O(){g.splice(0,1),E()}}}function p(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var g=z(l);g.chunkSize=parseInt(g.chunkSize),l.step||l.chunk||(g.chunkSize=null),this._handle=new N(g),(this._handle.streamer=this)._config=g}).call(this,o),this.parseChunk=function(l,g){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var E=this._config.beforeFirstChunk(l);E!==void 0&&(l=E)}this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+l;this._partialLine="";var P=this._handle.parse(O,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var L=P.meta.cursor;this._finished||(this._partialLine=O.substring(L-this._baseIndex),this._baseIndex=L),P&&P.data&&(this._rowCount+=P.data.length);var ae=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)r.postMessage({results:P,workerId:c.WORKER_ID,finished:ae});else if(M(this._config.chunk)&&!g){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);P=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!ae||!M(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ae||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(l){M(this._config.error)?this._config.error(l):n&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:l,finished:!1})}}function m(o){var l;(o=o||{}).chunkSize||(o.chunkSize=c.RemoteChunkSize),p.call(this,o),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(g){this._input=g,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),i||(l.onload=te(this._chunkLoaded,this),l.onerror=te(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var g=this._config.downloadRequestHeaders;for(var E in g)l.setRequestHeader(E,g[E])}if(this._config.chunkSize){var O=this._start+this._config.chunkSize-1;l.setRequestHeader("Range","bytes="+this._start+"-"+O)}try{l.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}i&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:l.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(g){var E=g.getResponseHeader("Content-Range");return E===null?-1:parseInt(E.substring(E.lastIndexOf("/")+1))}(l),this.parseChunk(l.responseText)))},this._chunkError=function(g){var E=l.statusText||g;this._sendError(new Error(E))}}function y(o){var l,g;(o=o||{}).chunkSize||(o.chunkSize=c.LocalChunkSize),p.call(this,o);var E=typeof FileReader<"u";this.stream=function(O){this._input=O,g=O.slice||O.webkitSlice||O.mozSlice,E?((l=new FileReader).onload=te(this._chunkLoaded,this),l.onerror=te(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input;if(this._config.chunkSize){var P=Math.min(this._start+this._config.chunkSize,this._input.size);O=g.call(O,this._start,P)}var L=l.readAsText(O,this._config.encoding);E||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(l.error)}}function x(o){var l;p.call(this,o=o||{}),this.stream=function(g){return l=g,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var g,E=this._config.chunkSize;return E?(g=l.substring(0,E),l=l.substring(E)):(g=l,l=""),this._finished=!l,this.parseChunk(g)}}}function D(o){p.call(this,o=o||{});var l=[],g=!0,E=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):g=!0},this._streamData=te(function(O){try{l.push(typeof O=="string"?O:O.toString(this._config.encoding)),g&&(g=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(P){this._streamError(P)}},this),this._streamError=te(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=te(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(o){var l,g,E,O=Math.pow(2,53),P=-O,L=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,_=0,Z=0,F=!1,Se=!1,ue=[],R={data:[],errors:[],meta:{}};if(M(o.step)){var H=o.step;o.step=function(T){if(R=T,oe())J();else{if(J(),R.data.length===0)return;_+=T.data.length,o.preview&&_>o.preview?g.abort():(R.data=R.data[0],H(R,V))}}}function le(T){return o.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function J(){return R&&E&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),o.skipEmptyLines&&(R.data=R.data.filter(function(T){return!le(T)})),oe()&&function(){if(!R)return;function T(W,se){M(o.transformHeader)&&(W=o.transformHeader(W,se)),ue.push(W)}if(Array.isArray(R.data[0])){for(var U=0;oe()&&U<R.data.length;U++)R.data[U].forEach(T);R.data.splice(0,1)}else R.data.forEach(T)}(),function(){if(!R||!o.header&&!o.dynamicTyping&&!o.transform)return R;function T(W,se){var Q,ce=o.header?{}:[];for(Q=0;Q<W.length;Q++){var X=Q,K=W[Q];o.header&&(X=Q>=ue.length?"__parsed_extra":ue[Q]),o.transform&&(K=o.transform(K,X)),K=ie(X,K),X==="__parsed_extra"?(ce[X]=ce[X]||[],ce[X].push(K)):ce[X]=K}return o.header&&(Q>ue.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+ue.length+" fields but parsed "+Q,Z+se):Q<ue.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+ue.length+" fields but parsed "+Q,Z+se)),ce}var U=1;return!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(T),U=R.data.length):R.data=T(R.data,0),o.header&&R.meta&&(R.meta.fields=ue),Z+=U,R}()}function oe(){return o.header&&ue.length===0}function ie(T,U){return W=T,o.dynamicTypingFunction&&o.dynamicTyping[W]===void 0&&(o.dynamicTyping[W]=o.dynamicTypingFunction(W)),(o.dynamicTyping[W]||o.dynamicTyping)===!0?U==="true"||U==="TRUE"||U!=="false"&&U!=="FALSE"&&(function(se){if(L.test(se)){var Q=parseFloat(se);if(P<Q&&Q<O)return!0}return!1}(U)?parseFloat(U):ae.test(U)?new Date(U):U===""?null:U):U;var W}function ne(T,U,W,se){var Q={type:T,code:U,message:W};se!==void 0&&(Q.row=se),R.errors.push(Q)}this.parse=function(T,U,W){var se=o.quoteChar||'"';if(o.newline||(o.newline=function(X,K){X=X.substring(0,1048576);var Oe=new RegExp(w(K)+"([^]*?)"+w(K),"gm"),be=(X=X.replace(Oe,"")).split("\r"),ke=X.split(`
`),Ne=1<ke.length&&ke[0].length<be[0].length;if(be.length===1||Ne)return`
`;for(var xe=0,G=0;G<be.length;G++)be[G][0]===`
`&&xe++;return xe>=be.length/2?`\r
`:"\r"}(T,se)),E=!1,o.delimiter)M(o.delimiter)&&(o.delimiter=o.delimiter(T),R.meta.delimiter=o.delimiter);else{var Q=function(X,K,Oe,be,ke){var Ne,xe,G,ee;ke=ke||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var st=0;st<ke.length;st++){var B=ke[st],mt=0,Me=0,rt=0;G=void 0;for(var Qe=new k({comments:be,delimiter:B,newline:K,preview:10}).parse(X),$e=0;$e<Qe.data.length;$e++)if(Oe&&le(Qe.data[$e]))rt++;else{var ze=Qe.data[$e].length;Me+=ze,G!==void 0?0<ze&&(mt+=Math.abs(ze-G),G=ze):G=ze}0<Qe.data.length&&(Me/=Qe.data.length-rt),(xe===void 0||mt<=xe)&&(ee===void 0||ee<Me)&&1.99<Me&&(xe=mt,Ne=B,ee=Me)}return{successful:!!(o.delimiter=Ne),bestDelimiter:Ne}}(T,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);Q.successful?o.delimiter=Q.bestDelimiter:(E=!0,o.delimiter=c.DefaultDelimiter),R.meta.delimiter=o.delimiter}var ce=z(o);return o.preview&&o.header&&ce.preview++,l=T,g=new k(ce),R=g.parse(l,U,W),J(),F?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,g.abort(),l=M(o.chunk)?"":l.substring(g.getCharIndex())},this.resume=function(){V.streamer._halted?(F=!1,V.streamer.parseChunk(l,!0)):setTimeout(V.resume,3)},this.aborted=function(){return Se},this.abort=function(){Se=!0,g.abort(),R.meta.aborted=!0,M(o.complete)&&o.complete(R),l=""}}function w(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(o){var l,g=(o=o||{}).delimiter,E=o.newline,O=o.comments,P=o.step,L=o.preview,ae=o.fastMode,V=l=o.quoteChar===void 0||o.quoteChar===null?'"':o.quoteChar;if(o.escapeChar!==void 0&&(V=o.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),O===g)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var _=0,Z=!1;this.parse=function(F,Se,ue){if(typeof F!="string")throw new Error("Input must be a string");var R=F.length,H=g.length,le=E.length,J=O.length,oe=M(P),ie=[],ne=[],T=[],U=_=0;if(!F)return we();if(o.header&&!Se){var W=F.split(E)[0].split(g),se=[],Q={},ce=!1;for(var X in W){var K=W[X];M(o.transformHeader)&&(K=o.transformHeader(K,X));var Oe=K,be=Q[K]||0;for(0<be&&(ce=!0,Oe=K+"_"+be),Q[K]=be+1;se.includes(Oe);)Oe=Oe+"_"+be;se.push(Oe)}if(ce){var ke=F.split(E);ke[0]=se.join(g),F=ke.join(E)}}if(ae||ae!==!1&&F.indexOf(l)===-1){for(var Ne=F.split(E),xe=0;xe<Ne.length;xe++){if(T=Ne[xe],_+=T.length,xe!==Ne.length-1)_+=E.length;else if(ue)return we();if(!O||T.substring(0,J)!==O){if(oe){if(ie=[],rt(T.split(g)),Vt(),Z)return we()}else rt(T.split(g));if(L&&L<=xe)return ie=ie.slice(0,L),we(!0)}}return we()}for(var G=F.indexOf(g,_),ee=F.indexOf(E,_),st=new RegExp(w(V)+w(l),"g"),B=F.indexOf(l,_);;)if(F[_]!==l)if(O&&T.length===0&&F.substring(_,_+J)===O){if(ee===-1)return we();_=ee+le,ee=F.indexOf(E,_),G=F.indexOf(g,_)}else if(G!==-1&&(G<ee||ee===-1))T.push(F.substring(_,G)),_=G+H,G=F.indexOf(g,_);else{if(ee===-1)break;if(T.push(F.substring(_,ee)),ze(ee+le),oe&&(Vt(),Z))return we();if(L&&ie.length>=L)return we(!0)}else for(B=_,_++;;){if((B=F.indexOf(l,B+1))===-1)return ue||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:_}),$e();if(B===R-1)return $e(F.substring(_,B).replace(st,l));if(l!==V||F[B+1]!==V){if(l===V||B===0||F[B-1]!==V){G!==-1&&G<B+1&&(G=F.indexOf(g,B+1)),ee!==-1&&ee<B+1&&(ee=F.indexOf(E,B+1));var mt=Qe(ee===-1?G:Math.min(G,ee));if(F.substr(B+1+mt,H)===g){T.push(F.substring(_,B).replace(st,l)),F[_=B+1+mt+H]!==l&&(B=F.indexOf(l,_)),G=F.indexOf(g,_),ee=F.indexOf(E,_);break}var Me=Qe(ee);if(F.substring(B+1+Me,B+1+Me+le)===E){if(T.push(F.substring(_,B).replace(st,l)),ze(B+1+Me+le),G=F.indexOf(g,_),B=F.indexOf(l,_),oe&&(Vt(),Z))return we();if(L&&ie.length>=L)return we(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:_}),B++}}else B++}return $e();function rt(Ce){ie.push(Ce),U=_}function Qe(Ce){var Ws=0;if(Ce!==-1){var fs=F.substring(B+1,Ce);fs&&fs.trim()===""&&(Ws=fs.length)}return Ws}function $e(Ce){return ue||(Ce===void 0&&(Ce=F.substring(_)),T.push(Ce),_=R,rt(T),oe&&Vt()),we()}function ze(Ce){_=Ce,rt(T),T=[],ee=F.indexOf(E,_)}function we(Ce){return{data:ie,errors:ne,meta:{delimiter:g,linebreak:E,aborted:Z,truncated:!!Ce,cursor:U+(Se||0)}}}function Vt(){P(we()),ie=[],ne=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return _}}function j(o){var l=o.data,g=u[l.workerId],E=!1;if(l.error)g.userError(l.error,l.file);else if(l.results&&l.results.data){var O={abort:function(){E=!0,A(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:q,resume:q};if(M(g.userStep)){for(var P=0;P<l.results.data.length&&(g.userStep({data:l.results.data[P],errors:l.results.errors,meta:l.results.meta},O),!E);P++);delete l.results}else M(g.userChunk)&&(g.userChunk(l.results,O,l.file),delete l.results)}l.finished&&!E&&A(l.workerId,l.results)}function A(o,l){var g=u[o];M(g.userComplete)&&g.userComplete(l),g.terminate(),delete u[o]}function q(){throw new Error("Not implemented.")}function z(o){if(typeof o!="object"||o===null)return o;var l=Array.isArray(o)?[]:{};for(var g in o)l[g]=z(o[g]);return l}function te(o,l){return function(){o.apply(l,arguments)}}function M(o){return typeof o=="function"}return n&&(r.onmessage=function(o){var l=o.data;if(c.WORKER_ID===void 0&&l&&(c.WORKER_ID=l.workerId),typeof l.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(l.input,l.config),finished:!0});else if(r.File&&l.input instanceof File||l.input instanceof Object){var g=c.parse(l.input,l.config);g&&r.postMessage({workerId:c.WORKER_ID,results:g,finished:!0})}}),(m.prototype=Object.create(p.prototype)).constructor=m,(y.prototype=Object.create(p.prototype)).constructor=y,(x.prototype=Object.create(x.prototype)).constructor=x,(D.prototype=Object.create(p.prototype)).constructor=D,c})})(di);var Sa=di.exports;const Be=wi(Sa);function Oa(t,e){return Be.parse(t,e)}function _a(t,e){Be.parse(t,Object.assign({},{download:!0},e))}function ka(t,e){return e===void 0&&(e={}),Be.unparse(t,e)}function Ta(){return{readString:Oa,readRemoteFile:_a,jsonToCSV:ka}}Be.BAD_DELIMITERS;Be.RECORD_SEP;Be.UNIT_SEP;Be.WORKERS_SUPPORTED;Be.LocalChunkSize;Be.DefaultDelimiter;function fi({cell:t}){return d.jsx("td",{className:"py-2 px-2 text-sm text-gray-900",children:t})}function Ms({row:t}){return d.jsx("tr",{className:"divide-x divide-gray-200 even:bg-gray-50",children:t.map((e,s)=>d.jsx(fi,{cell:e},s))})}function pi({data:t}){const{readString:e}=Ta(),s=e(t,{chunk:!0,complete:r=>r}).data;return s.length>=1e3?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-bold mb-2",role:"alert",children:"This is a preview of the first 1000 rows"}),d.jsx("div",{className:"flow-root",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx("div",{className:"inline-block min-w-full align-middle",children:d.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:d.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.slice(0,1e3).map((r,i)=>d.jsx(Ms,{row:r},i))})})})})})]}):d.jsx("div",{className:"flow-root",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx("div",{className:"inline-block min-w-full align-middle",children:d.jsx("table",{className:"min-w-full divide-y divide-gray-300",children:d.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.map((r,i)=>d.jsx(Ms,{row:r},i))})})})})})}fi.propTypes={cell:C.string.isRequired};Ms.propTypes={row:C.arrayOf(C.string).isRequired};pi.propTypes={data:C.string.isRequired};function As({data:t}){return d.jsx("pre",{className:"whitespace-break-spaces break-words",children:t})}As.propTypes={data:C.string.isRequired};function mi({authToken:t,fileName:e,fileSize:s,fileUrl:r,uuid:i}){const{data:n,error:u,isLoading:h,isError:c}=Kr({queryKey:["FILE",r],queryFn:async()=>{if(!cr(e)||s>2e7||Ds(e)&&s>5e6)return!1;const f=`${r}?${i}`;let p=await fetch(f,{headers:{Authorization:t}});if(!p.ok)throw new Error;if(p.headers.has("Location")&&p.headers.has("Authorization")&&(p=await fetch(p.headers.get("Location"),{headers:{Authorization:p.headers.get("Authorization")}}),!p.ok))throw new Error;const m=await p.clone().text();if(m===ys)return ys;if(Ns(e)){const y=await p.blob();return URL.createObjectURL(y)}return m},meta:{errorMessage:`${e} - Unable to load file`,id:r}});return h?d.jsx("span",{children:"Loading..."}):n===ys?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"This file has not been uploaded yet. This is likely due to do an error that occurred during release."}),d.jsx("p",{className:"mt-3",children:d.jsx(ds,{href:"https://docs.opensafely.org/how-to-get-help/#slack",newTab:!0,children:"Contact tech support in Slack for more information."})})]}):c||!n||!cr(e)?d.jsx(hi,{error:u,fileUrl:r}):d.jsxs(d.Fragment,{children:[Ds(e)?d.jsx(pi,{data:n}):null,ai(e)&&d.jsx(li,{data:n,fileName:e,fileUrl:r}),Ns(e)?d.jsx(ci,{data:n}):null,oi(e)?d.jsx(As,{data:n}):null,ui(e)?d.jsx(As,{data:n}):null]})}mi.propTypes={authToken:ge.authToken.isRequired,fileName:Ie.name.isRequired,fileSize:Ie.size.isRequired,fileUrl:Ie.url.isRequired,uuid:C.number.isRequired};const Fa=new an({defaultOptions:{queries:{refetchOnWindowFocus:!1}},queryCache:new Lr({onError:(t,e)=>{e.meta.errorMessage&&Hs({message:e.meta.errorMessage,toastId:e.meta.id,filesUrl:e.meta.id,url:document.location.href})}})});function gi({authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r=null,publishUrl:i=null}){const n=Date.now(),[u,h]=v.useState(!0),[c,f]=v.useState();return d.jsxs(hn,{client:Fa,children:[d.jsxs("div",{className:"py-6",children:[(r||i)&&d.jsxs("div",{className:"mb-3 -mt-3 px-1 md:px-6",children:[r&&d.jsx(Xr,{authToken:t,csrfToken:e,filesUrl:s,prepareUrl:r}),i&&d.jsx(ei,{csrfToken:e,publishUrl:i})]}),d.jsxs("div",{className:"grid gap-6 grid-cols-1 px-1 md:grid-cols-3 md:px-6 lg:grid-cols-4",children:[d.jsxs("div",{className:"flex flex-col gap-y-1 md:col-span-1",children:[d.jsxs(cs,{className:"block md:hidden mb-3",onClick:()=>h(!u),type:"button",variant:"secondary",children:[u?"Hide":"Show"," file list"]}),d.jsx(ii,{authToken:t,filesUrl:s,listVisible:u,setListVisible:h,setSelectedFile:f})]}),d.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:c&&d.jsx(It,{container:!0,header:d.jsx(ni,{fileDate:c.date,fileName:c.shortName,fileSize:c.size,fileUrl:c.url}),children:d.jsx(mi,{authToken:t,fileName:c.shortName,fileSize:c.size,fileUrl:c.url,uuid:n})})})]})]}),d.jsx(wa,{}),d.jsx(Rn,{initialIsOpen:!1})]})}gi.propTypes={authToken:ge.authToken.isRequired,csrfToken:ge.csrfToken.isRequired,filesUrl:ge.filesUrl.isRequired,prepareUrl:ge.prepareUrl,publishUrl:ge.publishUrl};var Pa={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};vi({dsn:Pa.VITE_SENTRY_DSN,tracesSampleRate:1});const rs=document.getElementById("outputsSPA"),ja=bi(rs);document.getElementById("content")&&document.getElementById("content").remove();ja.render(d.jsx(wr.StrictMode,{children:d.jsx(zi,{basename:rs.dataset.basePath,children:d.jsx(gi,{...rs.dataset,element:rs})})}));
