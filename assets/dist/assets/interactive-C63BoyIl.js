var Pu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{r as c,t as pn,p as P,j as p,P as _u,R as V,a as at,w as jo,s as Ur,b as Ao,c as Mu,i as ku}from"./index-DNi9Awpp.js";import{g as Bs}from"./_commonjsHelpers-BosuxZz1.js";var mx=Pu((Re,Fe)=>{var zs={exports:{}},ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ge=typeof Symbol=="function"&&Symbol.for,Mi=ge?Symbol.for("react.element"):60103,ki=ge?Symbol.for("react.portal"):60106,or=ge?Symbol.for("react.fragment"):60107,sr=ge?Symbol.for("react.strict_mode"):60108,ar=ge?Symbol.for("react.profiler"):60114,lr=ge?Symbol.for("react.provider"):60109,ur=ge?Symbol.for("react.context"):60110,Li=ge?Symbol.for("react.async_mode"):60111,cr=ge?Symbol.for("react.concurrent_mode"):60111,dr=ge?Symbol.for("react.forward_ref"):60112,fr=ge?Symbol.for("react.suspense"):60113,Lu=ge?Symbol.for("react.suspense_list"):60120,pr=ge?Symbol.for("react.memo"):60115,hr=ge?Symbol.for("react.lazy"):60116,Du=ge?Symbol.for("react.block"):60121,Nu=ge?Symbol.for("react.fundamental"):60117,Vu=ge?Symbol.for("react.responder"):60118,Bu=ge?Symbol.for("react.scope"):60119;function Ie(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mi:switch(e=e.type,e){case Li:case cr:case or:case ar:case sr:case fr:return e;default:switch(e=e&&e.$$typeof,e){case ur:case dr:case hr:case pr:case lr:return e;default:return t}}case ki:return t}}}function Hs(e){return Ie(e)===cr}ie.AsyncMode=Li;ie.ConcurrentMode=cr;ie.ContextConsumer=ur;ie.ContextProvider=lr;ie.Element=Mi;ie.ForwardRef=dr;ie.Fragment=or;ie.Lazy=hr;ie.Memo=pr;ie.Portal=ki;ie.Profiler=ar;ie.StrictMode=sr;ie.Suspense=fr;ie.isAsyncMode=function(e){return Hs(e)||Ie(e)===Li};ie.isConcurrentMode=Hs;ie.isContextConsumer=function(e){return Ie(e)===ur};ie.isContextProvider=function(e){return Ie(e)===lr};ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi};ie.isForwardRef=function(e){return Ie(e)===dr};ie.isFragment=function(e){return Ie(e)===or};ie.isLazy=function(e){return Ie(e)===hr};ie.isMemo=function(e){return Ie(e)===pr};ie.isPortal=function(e){return Ie(e)===ki};ie.isProfiler=function(e){return Ie(e)===ar};ie.isStrictMode=function(e){return Ie(e)===sr};ie.isSuspense=function(e){return Ie(e)===fr};ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===or||e===cr||e===ar||e===sr||e===fr||e===Lu||typeof e=="object"&&e!==null&&(e.$$typeof===hr||e.$$typeof===pr||e.$$typeof===lr||e.$$typeof===ur||e.$$typeof===dr||e.$$typeof===Nu||e.$$typeof===Vu||e.$$typeof===Bu||e.$$typeof===Du)};ie.typeOf=Ie;zs.exports=ie;var zu=zs.exports,qs=zu,Hu={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qu={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Us={};Us[qs.ForwardRef]=Hu;Us[qs.Memo]=qu;function Uu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Ws={exports:{}},Gs={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=c;function Wu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gu=typeof Object.is=="function"?Object.is:Wu,Ku=Ut.useState,Yu=Ut.useEffect,Zu=Ut.useLayoutEffect,Xu=Ut.useDebugValue;function Ju(e,t){var n=t(),r=Ku({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Zu(function(){i.value=n,i.getSnapshot=t,Wr(i)&&o({inst:i})},[e,n,t]),Yu(function(){return Wr(i)&&o({inst:i}),e(function(){Wr(i)&&o({inst:i})})},[e]),Xu(n),n}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gu(e,n)}catch{return!0}}function Qu(e,t){return t()}var ec=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qu:Ju;Gs.useSyncExternalStore=Ut.useSyncExternalStore!==void 0?Ut.useSyncExternalStore:ec;Ws.exports=Gs;var tc=Ws.exports;const{useEffect:nc,useLayoutEffect:rc,useRef:ic}=pn,oc=pn.useInsertionEffect,sc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ks=sc?rc:nc,ac=oc||Ks,Di=e=>{const t=ic([e,(...n)=>t[0](...n)]).current;return ac(()=>{t[0]=e}),t[1]},lc="popstate",Ni="pushState",Vi="replaceState",uc="hashchange",Io=[lc,Ni,Vi,uc],cc=e=>{for(const t of Io)addEventListener(t,e);return()=>{for(const t of Io)removeEventListener(t,e)}},Ys=(e,t)=>tc.useSyncExternalStore(cc,e,t),dc=()=>location.search,fc=({ssrSearch:e=""}={})=>Ys(dc,()=>e),Po=()=>location.pathname,pc=({ssrPath:e}={})=>Ys(Po,e?()=>e:Po),hc=(e,{replace:t=!1,state:n=null}={})=>history[t?Vi:Ni](n,"",e),mc=(e={})=>[pc(e),hc],_o=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_o]>"u"){for(const e of[Ni,Vi]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,_o,{value:!0})}const gc=(e="",t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",vc=(e,t="")=>e[0]==="~"?e.slice(1):t+e,bc=e=>{try{return decodeURI(e)}catch{return e}},Zs={hook:mc,searchHook:fc,parser:Uu,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Xs=c.createContext(Zs),bn=()=>c.useContext(Xs),xc=c.createContext({}),mr=e=>{const[t,n]=e.hook(e);return[bc(gc(e.base,t)),Di((r,i)=>n(vc(r,e.base),i))]},ht=()=>mr(bn()),Js=(e,t,n,r)=>{const{pattern:i,keys:o}=e(t||"*",r),[s,...a]=i.exec(n)||[];return s!==void 0?[!0,Object.fromEntries(o.map((l,d)=>[l,a[d]])),...r?[s]:[]]:[!1,null]},Qs=({children:e,...t})=>{var u,h;const n=bn(),r=t.hook?Zs:n;let i=r;const[o,s]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=o),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let a=c.useRef({}),l=a.current,d=l;for(let m in r){const f=m==="base"?r[m]+(t[m]||""):t[m]||r[m];l===d&&f!==d[m]&&(a.current=d={...d}),d[m]=f,f!==r[m]&&(i=d)}return c.createElement(Xs.Provider,{value:i,children:e})},Mo=({children:e,component:t},n)=>t?c.createElement(t,{params:n}):typeof e=="function"?e(n):e,tt=({path:e,nest:t,match:n,...r})=>{const i=bn(),[o]=mr(i),[s,a,l]=n??Js(i.parser,e,o,t);if(!s)return null;const d=l?c.createElement(Qs,{base:l},Mo(r,a)):Mo(r,a);return c.createElement(xc.Provider,{value:a,children:d})},ea=c.forwardRef((e,t)=>{const n=bn(),[r,i]=mr(n),{to:o,href:s=o,onClick:a,asChild:l,children:d,className:u,replace:h,state:m,...f}=e,g=Di(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,e)))}),b=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&c.isValidElement(d)?c.cloneElement(d,{onClick:g,href:b}):c.createElement("a",{...f,onClick:g,href:b,className:u!=null&&u.call?u(r===s):u,children:d,ref:t})}),ta=e=>Array.isArray(e)?e.flatMap(t=>ta(t&&t.type===c.Fragment?t.props.children:t)):[e],yc=({children:e,location:t})=>{const n=bn(),[r]=mr(n);for(const i of ta(e)){let o=0;if(c.isValidElement(i)&&(o=Js(n.parser,i.props.path,t||r,i.props.nest))[0])return c.cloneElement(i,{match:o})}return null},xn=e=>{const{to:t,href:n=t}=e,[,r]=ht(),i=Di(()=>r(t||n,e));return Ks(()=>{i()},[]),null},Bi=c.createContext({basePath:"",csrfToken:"",codelistGroups:[]});Bi.displayName="AppData";function Zt(){const e=c.useContext(Bi);if(e===void 0)throw new Error("useAppData must be used within a AppData.Provider component");return e}const zi=c.createContext();zi.displayName="FormData";function na({children:e}){const[t,n]=c.useState({}),r=c.useMemo(()=>({formData:t,setFormData:n}),[t]);return p.jsx(zi.Provider,{value:r,children:e})}function Ne(){const e=c.useContext(zi);if(e===void 0)throw new Error("useFormData must be used within a FormData.Provider component");return e}na.propTypes={children:P.element.isRequired};const wc=({dateStart:e,dateEnd:t})=>{const n=new Date(e),r=new Date(t),i={year:"numeric",month:"long",day:"numeric"};return{endISO:r.toISOString(),endStr:r.toLocaleDateString("en-GB",i),startISO:n.toISOString(),startStr:n.toLocaleDateString("en-GB",i)}},ra=[{label:"Weeks",value:"weeks"},{label:"Months",value:"months"},{label:"Years",value:"years"}],zn={label:"Filter the population",items:[{label:"All people",value:"all"},{label:"Adults only",value:"adults"},{label:"Children only",value:"children"}]},on={label:"Break down the report by demographics",items:[{label:"Sex",value:"sex"},{label:"Age",value:"age"},{label:"Ethnicity",value:"ethnicity"},{label:"Index of Multiple Deprivation (IMD)",value:"imd"},{label:"Region",value:"region"}]};function ke(...e){return e.filter(Boolean).join(" ")}function ko(e){const t=document.getElementById(e);return t!=null&&t.textContent?JSON.parse(t==null?void 0:t.textContent).map(i=>({label:i.name,organisation:i.organisation,type:e.slice(9,e.length-1),user:i.user,value:i.slug,updatedDate:i.updated_date})):[]}function yn(e){const{formData:t}=Ne(),n=[];return e.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)||n.push(r)}),!!n.length}function Ec(e){return!!e&&e.constructor===Object}function Sc({dataset:{basePath:e,csrfToken:t,events:n,medications:r,dateStart:i,dateEnd:o}}){return{basePath:e,csrfToken:t,codelistGroups:[{name:"SNOMED CT",id:"event",codelists:ko(n)},{name:"dm+d",id:"medication",codelists:ko(r)}],dates:{...wc({dateStart:i,dateEnd:o})}}}const Tc=e=>(Object.keys(e).forEach(t=>e[t]===void 0&&delete e[t]),e);function ia({children:e}){const[t]=ht(),n=t==="/",r=t==="/success";return p.jsxs("main",{className:"min-h-[66vh] flex-grow pb-12 bg-gray-100",children:[p.jsxs("div",{className:"mb-6 mt-3 flex flex-col gap-y-2 text-left md:mt-0",children:[p.jsx("h1",{className:"text-3xl tracking-tight break-words md:text-4xl font-bold text-gray-900",children:"Interactive request"}),p.jsx("p",{className:"font-lg text-gray-600",children:"Make a new request for an interactive report."})]}),p.jsx("section",{className:"max-w-3xl relative",children:p.jsxs("div",{className:ke("bg-white p-6 shadow rounded",!n&&!r?"pt-12":null),children:[!n&&!r?p.jsx("button",{className:ke("absolute top-0 left-0 text-sm font-semibold py-1 pl-2 pr-3 flex text-white bg-oxford-800 rounded-br transition-colors","hover:text-oxford-50 hover:bg-oxford-700","focus-within:text-oxford-50 focus-within:bg-oxford-700"),onClick:()=>window.history.back(),type:"button",children:"← Back"}):null,e]})})]})}ia.propTypes={children:_u.node.isRequired};var Oc=function(t){return $c(t)&&!Cc(t)};function $c(e){return!!e&&typeof e=="object"}function Cc(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||jc(e)}var Rc=typeof Symbol=="function"&&Symbol.for,Fc=Rc?Symbol.for("react.element"):60103;function jc(e){return e.$$typeof===Fc}function Ac(e){return Array.isArray(e)?[]:{}}function Gn(e,t){return t.clone!==!1&&t.isMergeableObject(e)?hn(Ac(e),e,t):e}function Ic(e,t,n){return e.concat(t).map(function(r){return Gn(r,n)})}function Pc(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Gn(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Gn(t[i],n):r[i]=hn(e[i],t[i],n)}),r}function hn(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ic,n.isMergeableObject=n.isMergeableObject||Oc;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):Pc(e,t,n):Gn(t,n)}hn.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return hn(r,i,n)},{})};var di=hn,oa=typeof global=="object"&&global&&global.Object===Object&&global,_c=typeof self=="object"&&self&&self.Object===Object&&self,We=oa||_c||Function("return this")(),lt=We.Symbol,sa=Object.prototype,Mc=sa.hasOwnProperty,kc=sa.toString,nn=lt?lt.toStringTag:void 0;function Lc(e){var t=Mc.call(e,nn),n=e[nn];try{e[nn]=void 0;var r=!0}catch{}var i=kc.call(e);return r&&(t?e[nn]=n:delete e[nn]),i}var Dc=Object.prototype,Nc=Dc.toString;function Vc(e){return Nc.call(e)}var Bc="[object Null]",zc="[object Undefined]",Lo=lt?lt.toStringTag:void 0;function jt(e){return e==null?e===void 0?zc:Bc:Lo&&Lo in Object(e)?Lc(e):Vc(e)}function aa(e,t){return function(n){return e(t(n))}}var Hi=aa(Object.getPrototypeOf,Object);function At(e){return e!=null&&typeof e=="object"}var Hc="[object Object]",qc=Function.prototype,Uc=Object.prototype,la=qc.toString,Wc=Uc.hasOwnProperty,Gc=la.call(Object);function Do(e){if(!At(e)||jt(e)!=Hc)return!1;var t=Hi(e);if(t===null)return!0;var n=Wc.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&la.call(n)==Gc}function Kc(){this.__data__=[],this.size=0}function ua(e,t){return e===t||e!==e&&t!==t}function gr(e,t){for(var n=e.length;n--;)if(ua(e[n][0],t))return n;return-1}var Yc=Array.prototype,Zc=Yc.splice;function Xc(e){var t=this.__data__,n=gr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Zc.call(t,n,1),--this.size,!0}function Jc(e){var t=this.__data__,n=gr(t,e);return n<0?void 0:t[n][1]}function Qc(e){return gr(this.__data__,e)>-1}function ed(e,t){var n=this.__data__,r=gr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Je(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Je.prototype.clear=Kc;Je.prototype.delete=Xc;Je.prototype.get=Jc;Je.prototype.has=Qc;Je.prototype.set=ed;function td(){this.__data__=new Je,this.size=0}function nd(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function rd(e){return this.__data__.get(e)}function id(e){return this.__data__.has(e)}function wn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var od="[object AsyncFunction]",sd="[object Function]",ad="[object GeneratorFunction]",ld="[object Proxy]";function ca(e){if(!wn(e))return!1;var t=jt(e);return t==sd||t==ad||t==od||t==ld}var Gr=We["__core-js_shared__"],No=function(){var e=/[^.]+$/.exec(Gr&&Gr.keys&&Gr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ud(e){return!!No&&No in e}var cd=Function.prototype,dd=cd.toString;function It(e){if(e!=null){try{return dd.call(e)}catch{}try{return e+""}catch{}}return""}var fd=/[\\^$.*+?()[\]{}|]/g,pd=/^\[object .+?Constructor\]$/,hd=Function.prototype,md=Object.prototype,gd=hd.toString,vd=md.hasOwnProperty,bd=RegExp("^"+gd.call(vd).replace(fd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xd(e){if(!wn(e)||ud(e))return!1;var t=ca(e)?bd:pd;return t.test(It(e))}function yd(e,t){return e==null?void 0:e[t]}function Pt(e,t){var n=yd(e,t);return xd(n)?n:void 0}var mn=Pt(We,"Map"),gn=Pt(Object,"create");function wd(){this.__data__=gn?gn(null):{},this.size=0}function Ed(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Sd="__lodash_hash_undefined__",Td=Object.prototype,Od=Td.hasOwnProperty;function $d(e){var t=this.__data__;if(gn){var n=t[e];return n===Sd?void 0:n}return Od.call(t,e)?t[e]:void 0}var Cd=Object.prototype,Rd=Cd.hasOwnProperty;function Fd(e){var t=this.__data__;return gn?t[e]!==void 0:Rd.call(t,e)}var jd="__lodash_hash_undefined__";function Ad(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&t===void 0?jd:t,this}function Ct(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ct.prototype.clear=wd;Ct.prototype.delete=Ed;Ct.prototype.get=$d;Ct.prototype.has=Fd;Ct.prototype.set=Ad;function Id(){this.size=0,this.__data__={hash:new Ct,map:new(mn||Je),string:new Ct}}function Pd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function vr(e,t){var n=e.__data__;return Pd(t)?n[typeof t=="string"?"string":"hash"]:n.map}function _d(e){var t=vr(this,e).delete(e);return this.size-=t?1:0,t}function Md(e){return vr(this,e).get(e)}function kd(e){return vr(this,e).has(e)}function Ld(e,t){var n=vr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function mt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mt.prototype.clear=Id;mt.prototype.delete=_d;mt.prototype.get=Md;mt.prototype.has=kd;mt.prototype.set=Ld;var Dd=200;function Nd(e,t){var n=this.__data__;if(n instanceof Je){var r=n.__data__;if(!mn||r.length<Dd-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(e,t),this.size=n.size,this}function Xt(e){var t=this.__data__=new Je(e);this.size=t.size}Xt.prototype.clear=td;Xt.prototype.delete=nd;Xt.prototype.get=rd;Xt.prototype.has=id;Xt.prototype.set=Nd;function Vd(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Vo=function(){try{var e=Pt(Object,"defineProperty");return e({},"",{}),e}catch{}}();function da(e,t,n){t=="__proto__"&&Vo?Vo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Bd=Object.prototype,zd=Bd.hasOwnProperty;function fa(e,t,n){var r=e[t];(!(zd.call(e,t)&&ua(r,n))||n===void 0&&!(t in e))&&da(e,t,n)}function br(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?da(n,a,l):fa(n,a,l)}return n}function Hd(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var qd="[object Arguments]";function Bo(e){return At(e)&&jt(e)==qd}var pa=Object.prototype,Ud=pa.hasOwnProperty,Wd=pa.propertyIsEnumerable,Gd=Bo(function(){return arguments}())?Bo:function(e){return At(e)&&Ud.call(e,"callee")&&!Wd.call(e,"callee")},En=Array.isArray;function Kd(){return!1}var ha=typeof Re=="object"&&Re&&!Re.nodeType&&Re,zo=ha&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,Yd=zo&&zo.exports===ha,Ho=Yd?We.Buffer:void 0,Zd=Ho?Ho.isBuffer:void 0,ma=Zd||Kd,Xd=9007199254740991,Jd=/^(?:0|[1-9]\d*)$/;function Qd(e,t){var n=typeof e;return t=t??Xd,!!t&&(n=="number"||n!="symbol"&&Jd.test(e))&&e>-1&&e%1==0&&e<t}var ef=9007199254740991;function ga(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ef}var tf="[object Arguments]",nf="[object Array]",rf="[object Boolean]",of="[object Date]",sf="[object Error]",af="[object Function]",lf="[object Map]",uf="[object Number]",cf="[object Object]",df="[object RegExp]",ff="[object Set]",pf="[object String]",hf="[object WeakMap]",mf="[object ArrayBuffer]",gf="[object DataView]",vf="[object Float32Array]",bf="[object Float64Array]",xf="[object Int8Array]",yf="[object Int16Array]",wf="[object Int32Array]",Ef="[object Uint8Array]",Sf="[object Uint8ClampedArray]",Tf="[object Uint16Array]",Of="[object Uint32Array]",ae={};ae[vf]=ae[bf]=ae[xf]=ae[yf]=ae[wf]=ae[Ef]=ae[Sf]=ae[Tf]=ae[Of]=!0;ae[tf]=ae[nf]=ae[mf]=ae[rf]=ae[gf]=ae[of]=ae[sf]=ae[af]=ae[lf]=ae[uf]=ae[cf]=ae[df]=ae[ff]=ae[pf]=ae[hf]=!1;function $f(e){return At(e)&&ga(e.length)&&!!ae[jt(e)]}function qi(e){return function(t){return e(t)}}var va=typeof Re=="object"&&Re&&!Re.nodeType&&Re,an=va&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,Cf=an&&an.exports===va,Kr=Cf&&oa.process,Wt=function(){try{var e=an&&an.require&&an.require("util").types;return e||Kr&&Kr.binding&&Kr.binding("util")}catch{}}(),qo=Wt&&Wt.isTypedArray,Rf=qo?qi(qo):$f,Ff=Object.prototype,jf=Ff.hasOwnProperty;function ba(e,t){var n=En(e),r=!n&&Gd(e),i=!n&&!r&&ma(e),o=!n&&!r&&!i&&Rf(e),s=n||r||i||o,a=s?Hd(e.length,String):[],l=a.length;for(var d in e)(t||jf.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Qd(d,l)))&&a.push(d);return a}var Af=Object.prototype;function Ui(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Af;return e===n}var If=aa(Object.keys,Object),Pf=Object.prototype,_f=Pf.hasOwnProperty;function Mf(e){if(!Ui(e))return If(e);var t=[];for(var n in Object(e))_f.call(e,n)&&n!="constructor"&&t.push(n);return t}function xa(e){return e!=null&&ga(e.length)&&!ca(e)}function Wi(e){return xa(e)?ba(e):Mf(e)}function kf(e,t){return e&&br(t,Wi(t),e)}function Lf(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Df=Object.prototype,Nf=Df.hasOwnProperty;function Vf(e){if(!wn(e))return Lf(e);var t=Ui(e),n=[];for(var r in e)r=="constructor"&&(t||!Nf.call(e,r))||n.push(r);return n}function Gi(e){return xa(e)?ba(e,!0):Vf(e)}function Bf(e,t){return e&&br(t,Gi(t),e)}var ya=typeof Re=="object"&&Re&&!Re.nodeType&&Re,Uo=ya&&typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,zf=Uo&&Uo.exports===ya,Wo=zf?We.Buffer:void 0,Go=Wo?Wo.allocUnsafe:void 0;function Hf(e,t){if(t)return e.slice();var n=e.length,r=Go?Go(n):new e.constructor(n);return e.copy(r),r}function wa(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function qf(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ea(){return[]}var Uf=Object.prototype,Wf=Uf.propertyIsEnumerable,Ko=Object.getOwnPropertySymbols,Ki=Ko?function(e){return e==null?[]:(e=Object(e),qf(Ko(e),function(t){return Wf.call(e,t)}))}:Ea;function Gf(e,t){return br(e,Ki(e),t)}function Sa(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Kf=Object.getOwnPropertySymbols,Ta=Kf?function(e){for(var t=[];e;)Sa(t,Ki(e)),e=Hi(e);return t}:Ea;function Yf(e,t){return br(e,Ta(e),t)}function Oa(e,t,n){var r=t(e);return En(e)?r:Sa(r,n(e))}function Zf(e){return Oa(e,Wi,Ki)}function Xf(e){return Oa(e,Gi,Ta)}var fi=Pt(We,"DataView"),pi=Pt(We,"Promise"),hi=Pt(We,"Set"),mi=Pt(We,"WeakMap"),Yo="[object Map]",Jf="[object Object]",Zo="[object Promise]",Xo="[object Set]",Jo="[object WeakMap]",Qo="[object DataView]",Qf=It(fi),ep=It(mn),tp=It(pi),np=It(hi),rp=It(mi),Ye=jt;(fi&&Ye(new fi(new ArrayBuffer(1)))!=Qo||mn&&Ye(new mn)!=Yo||pi&&Ye(pi.resolve())!=Zo||hi&&Ye(new hi)!=Xo||mi&&Ye(new mi)!=Jo)&&(Ye=function(e){var t=jt(e),n=t==Jf?e.constructor:void 0,r=n?It(n):"";if(r)switch(r){case Qf:return Qo;case ep:return Yo;case tp:return Zo;case np:return Xo;case rp:return Jo}return t});var ip=Object.prototype,op=ip.hasOwnProperty;function sp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&op.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var es=We.Uint8Array;function Yi(e){var t=new e.constructor(e.byteLength);return new es(t).set(new es(e)),t}function ap(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var lp=/\w*$/;function up(e){var t=new e.constructor(e.source,lp.exec(e));return t.lastIndex=e.lastIndex,t}var ts=lt?lt.prototype:void 0,ns=ts?ts.valueOf:void 0;function cp(e){return ns?Object(ns.call(e)):{}}function dp(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var fp="[object Boolean]",pp="[object Date]",hp="[object Map]",mp="[object Number]",gp="[object RegExp]",vp="[object Set]",bp="[object String]",xp="[object Symbol]",yp="[object ArrayBuffer]",wp="[object DataView]",Ep="[object Float32Array]",Sp="[object Float64Array]",Tp="[object Int8Array]",Op="[object Int16Array]",$p="[object Int32Array]",Cp="[object Uint8Array]",Rp="[object Uint8ClampedArray]",Fp="[object Uint16Array]",jp="[object Uint32Array]";function Ap(e,t,n){var r=e.constructor;switch(t){case yp:return Yi(e);case fp:case pp:return new r(+e);case wp:return ap(e,n);case Ep:case Sp:case Tp:case Op:case $p:case Cp:case Rp:case Fp:case jp:return dp(e,n);case hp:return new r;case mp:case bp:return new r(e);case gp:return up(e);case vp:return new r;case xp:return cp(e)}}var rs=Object.create,Ip=function(){function e(){}return function(t){if(!wn(t))return{};if(rs)return rs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Pp(e){return typeof e.constructor=="function"&&!Ui(e)?Ip(Hi(e)):{}}var _p="[object Map]";function Mp(e){return At(e)&&Ye(e)==_p}var is=Wt&&Wt.isMap,kp=is?qi(is):Mp,Lp="[object Set]";function Dp(e){return At(e)&&Ye(e)==Lp}var os=Wt&&Wt.isSet,Np=os?qi(os):Dp,Vp=1,Bp=2,zp=4,$a="[object Arguments]",Hp="[object Array]",qp="[object Boolean]",Up="[object Date]",Wp="[object Error]",Ca="[object Function]",Gp="[object GeneratorFunction]",Kp="[object Map]",Yp="[object Number]",Ra="[object Object]",Zp="[object RegExp]",Xp="[object Set]",Jp="[object String]",Qp="[object Symbol]",eh="[object WeakMap]",th="[object ArrayBuffer]",nh="[object DataView]",rh="[object Float32Array]",ih="[object Float64Array]",oh="[object Int8Array]",sh="[object Int16Array]",ah="[object Int32Array]",lh="[object Uint8Array]",uh="[object Uint8ClampedArray]",ch="[object Uint16Array]",dh="[object Uint32Array]",se={};se[$a]=se[Hp]=se[th]=se[nh]=se[qp]=se[Up]=se[rh]=se[ih]=se[oh]=se[sh]=se[ah]=se[Kp]=se[Yp]=se[Ra]=se[Zp]=se[Xp]=se[Jp]=se[Qp]=se[lh]=se[uh]=se[ch]=se[dh]=!0;se[Wp]=se[Ca]=se[eh]=!1;function ln(e,t,n,r,i,o){var s,a=t&Vp,l=t&Bp,d=t&zp;if(s!==void 0)return s;if(!wn(e))return e;var u=En(e);if(u){if(s=sp(e),!a)return wa(e,s)}else{var h=Ye(e),m=h==Ca||h==Gp;if(ma(e))return Hf(e,a);if(h==Ra||h==$a||m&&!i){if(s=l||m?{}:Pp(e),!a)return l?Yf(e,Bf(s,e)):Gf(e,kf(s,e))}else{if(!se[h])return i?e:{};s=Ap(e,h,a)}}o||(o=new Xt);var f=o.get(e);if(f)return f;o.set(e,s),Np(e)?e.forEach(function(v){s.add(ln(v,t,n,v,e,o))}):kp(e)&&e.forEach(function(v,x){s.set(x,ln(v,t,n,x,e,o))});var g=d?l?Xf:Zf:l?Gi:Wi,b=u?void 0:g(e);return Vd(b||e,function(v,x){b&&(x=v,v=e[x]),fa(s,x,ln(v,t,n,x,e,o))}),s}var fh=1,ph=4;function kn(e){return ln(e,fh|ph)}var ss=Array.isArray,as=Object.keys,hh=Object.prototype.hasOwnProperty,mh=typeof Element<"u";function gi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=ss(e),r=ss(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!gi(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var d=e instanceof RegExp,u=t instanceof RegExp;if(d!=u)return!1;if(d&&u)return e.toString()==t.toString();var h=as(e);if(o=h.length,o!==as(t).length)return!1;for(i=o;i--!==0;)if(!hh.call(t,h[i]))return!1;if(mh&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=h[i],!(s==="_owner"&&e.$$typeof)&&!gi(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var gh=function(t,n){try{return gi(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const bt=Bs(gh);var vh=4;function ls(e){return ln(e,vh)}function Fa(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var bh="[object Symbol]";function Zi(e){return typeof e=="symbol"||At(e)&&jt(e)==bh}var xh="Expected a function";function Xi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xh);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Xi.Cache||mt),n}Xi.Cache=mt;var yh=500;function wh(e){var t=Xi(e,function(r){return n.size===yh&&n.clear(),r}),n=t.cache;return t}var Eh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sh=/\\(\\)?/g,Th=wh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Eh,function(n,r,i,o){t.push(i?o.replace(Sh,"$1"):r||n)}),t}),Oh=1/0;function $h(e){if(typeof e=="string"||Zi(e))return e;var t=e+"";return t=="0"&&1/e==-Oh?"-0":t}var Ch=1/0,us=lt?lt.prototype:void 0,cs=us?us.toString:void 0;function ja(e){if(typeof e=="string")return e;if(En(e))return Fa(e,ja)+"";if(Zi(e))return cs?cs.call(e):"";var t=e+"";return t=="0"&&1/e==-Ch?"-0":t}function Rh(e){return e==null?"":ja(e)}function Aa(e){return En(e)?Fa(e,$h):Zi(e)?[e]:wa(Th(Rh(e)))}function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function zt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xr=c.createContext(void 0);xr.displayName="FormikContext";var Fh=xr.Provider;xr.Consumer;function Qe(){var e=c.useContext(xr);return e}var $e=function(t){return typeof t=="function"},yr=function(t){return t!==null&&typeof t=="object"},jh=function(t){return String(Math.floor(Number(t)))===t},Yr=function(t){return Object.prototype.toString.call(t)==="[object String]"},Ah=function(t){return c.Children.count(t)===0},Zr=function(t){return yr(t)&&$e(t.then)};function Oe(e,t,n,r){r===void 0&&(r=0);for(var i=Aa(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function Tt(e,t,n){for(var r=ls(e),i=r,o=0,s=Aa(t);o<s.length-1;o++){var a=s[o],l=Oe(e,s.slice(0,o+1));if(l&&(yr(l)||Array.isArray(l)))i=i[a]=ls(l);else{var d=s[o+1];i=i[a]=jh(d)&&Number(d)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Ia(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];yr(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Ia(a,t,n,r[s])):r[s]=t}return r}function Ih(e,t){switch(t.type){case"SET_VALUES":return le({},e,{values:t.payload});case"SET_TOUCHED":return le({},e,{touched:t.payload});case"SET_ERRORS":return bt(e.errors,t.payload)?e:le({},e,{errors:t.payload});case"SET_STATUS":return le({},e,{status:t.payload});case"SET_ISSUBMITTING":return le({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return le({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return le({},e,{values:Tt(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return le({},e,{touched:Tt(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return le({},e,{errors:Tt(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return le({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return le({},e,{touched:Ia(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return le({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return le({},e,{isSubmitting:!1});default:return e}}var vt={},Ln={};function Ph(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,d=l===void 0?!1:l,u=e.onSubmit,h=zt(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=le({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:u},h),f=c.useRef(m.initialValues),g=c.useRef(m.initialErrors||vt),b=c.useRef(m.initialTouched||Ln),v=c.useRef(m.initialStatus),x=c.useRef(!1),S=c.useRef({});c.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var w=c.useState(0),E=w[1],O=c.useRef({values:kn(m.initialValues),errors:kn(m.initialErrors)||vt,touched:kn(m.initialTouched)||Ln,status:kn(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),T=O.current,$=c.useCallback(function(y){var _=O.current;O.current=Ih(_,y),_!==O.current&&E(function(D){return D+1})},[]),C=c.useCallback(function(y,_){return new Promise(function(D,H){var Z=m.validate(y,_);Z==null?D(vt):Zr(Z)?Z.then(function(ne){D(ne||vt)},function(ne){H(ne)}):D(Z)})},[m.validate]),M=c.useCallback(function(y,_){var D=m.validationSchema,H=$e(D)?D(_):D,Z=_&&H.validateAt?H.validateAt(_,y):Mh(y,H);return new Promise(function(ne,me){Z.then(function(){ne(vt)},function(Ge){Ge.name==="ValidationError"?ne(_h(Ge)):me(Ge)})})},[m.validationSchema]),z=c.useCallback(function(y,_){return new Promise(function(D){return D(S.current[y].validate(_))})},[]),R=c.useCallback(function(y){var _=Object.keys(S.current).filter(function(H){return $e(S.current[H].validate)}),D=_.length>0?_.map(function(H){return z(H,Oe(y,H))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(D).then(function(H){return H.reduce(function(Z,ne,me){return ne==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ne&&(Z=Tt(Z,_[me],ne)),Z},{})})},[z]),k=c.useCallback(function(y){return Promise.all([R(y),m.validationSchema?M(y):{},m.validate?C(y):{}]).then(function(_){var D=_[0],H=_[1],Z=_[2],ne=di.all([D,H,Z],{arrayMerge:kh});return ne})},[m.validate,m.validationSchema,R,C,M]),A=Pe(function(y){return y===void 0&&(y=T.values),$({type:"SET_ISVALIDATING",payload:!0}),k(y).then(function(_){return x.current&&($({type:"SET_ISVALIDATING",payload:!1}),$({type:"SET_ERRORS",payload:_})),_})});c.useEffect(function(){s&&x.current===!0&&bt(f.current,m.initialValues)&&A(f.current)},[s,A]);var N=c.useCallback(function(y){var _=y&&y.values?y.values:f.current,D=y&&y.errors?y.errors:g.current?g.current:m.initialErrors||{},H=y&&y.touched?y.touched:b.current?b.current:m.initialTouched||{},Z=y&&y.status?y.status:v.current?v.current:m.initialStatus;f.current=_,g.current=D,b.current=H,v.current=Z;var ne=function(){$({type:"RESET_FORM",payload:{isSubmitting:!!y&&!!y.isSubmitting,errors:D,touched:H,status:Z,values:_,isValidating:!!y&&!!y.isValidating,submitCount:y&&y.submitCount&&typeof y.submitCount=="number"?y.submitCount:0}})};if(m.onReset){var me=m.onReset(T.values,we);Zr(me)?me.then(ne):ne()}else ne()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);c.useEffect(function(){x.current===!0&&!bt(f.current,m.initialValues)&&d&&(f.current=m.initialValues,N(),s&&A(f.current))},[d,m.initialValues,N,s,A]),c.useEffect(function(){d&&x.current===!0&&!bt(g.current,m.initialErrors)&&(g.current=m.initialErrors||vt,$({type:"SET_ERRORS",payload:m.initialErrors||vt}))},[d,m.initialErrors]),c.useEffect(function(){d&&x.current===!0&&!bt(b.current,m.initialTouched)&&(b.current=m.initialTouched||Ln,$({type:"SET_TOUCHED",payload:m.initialTouched||Ln}))},[d,m.initialTouched]),c.useEffect(function(){d&&x.current===!0&&!bt(v.current,m.initialStatus)&&(v.current=m.initialStatus,$({type:"SET_STATUS",payload:m.initialStatus}))},[d,m.initialStatus,m.initialTouched]);var I=Pe(function(y){if(S.current[y]&&$e(S.current[y].validate)){var _=Oe(T.values,y),D=S.current[y].validate(_);return Zr(D)?($({type:"SET_ISVALIDATING",payload:!0}),D.then(function(H){return H}).then(function(H){$({type:"SET_FIELD_ERROR",payload:{field:y,value:H}}),$({type:"SET_ISVALIDATING",payload:!1})})):($({type:"SET_FIELD_ERROR",payload:{field:y,value:D}}),Promise.resolve(D))}else if(m.validationSchema)return $({type:"SET_ISVALIDATING",payload:!0}),M(T.values,y).then(function(H){return H}).then(function(H){$({type:"SET_FIELD_ERROR",payload:{field:y,value:Oe(H,y)}}),$({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),U=c.useCallback(function(y,_){var D=_.validate;S.current[y]={validate:D}},[]),j=c.useCallback(function(y){delete S.current[y]},[]),q=Pe(function(y,_){$({type:"SET_TOUCHED",payload:y});var D=_===void 0?i:_;return D?A(T.values):Promise.resolve()}),G=c.useCallback(function(y){$({type:"SET_ERRORS",payload:y})},[]),ce=Pe(function(y,_){var D=$e(y)?y(T.values):y;$({type:"SET_VALUES",payload:D});var H=_===void 0?n:_;return H?A(D):Promise.resolve()}),ve=c.useCallback(function(y,_){$({type:"SET_FIELD_ERROR",payload:{field:y,value:_}})},[]),oe=Pe(function(y,_,D){$({type:"SET_FIELD_VALUE",payload:{field:y,value:_}});var H=D===void 0?n:D;return H?A(Tt(T.values,y,_)):Promise.resolve()}),he=c.useCallback(function(y,_){var D=_,H=y,Z;if(!Yr(y)){y.persist&&y.persist();var ne=y.target?y.target:y.currentTarget,me=ne.type,Ge=ne.name,Hr=ne.id,qr=ne.value,Au=ne.checked,gx=ne.outerHTML,Fo=ne.options,Iu=ne.multiple;D=_||Ge||Hr,H=/number|range/.test(me)?(Z=parseFloat(qr),isNaN(Z)?"":Z):/checkbox/.test(me)?Dh(Oe(T.values,D),Au,qr):Fo&&Iu?Lh(Fo):qr}D&&oe(D,H)},[oe,T.values]),L=Pe(function(y){if(Yr(y))return function(_){return he(_,y)};he(y)}),fe=Pe(function(y,_,D){_===void 0&&(_=!0),$({type:"SET_FIELD_TOUCHED",payload:{field:y,value:_}});var H=D===void 0?i:D;return H?A(T.values):Promise.resolve()}),Q=c.useCallback(function(y,_){y.persist&&y.persist();var D=y.target,H=D.name,Z=D.id,ne=D.outerHTML,me=_||H||Z;fe(me,!0)},[fe]),te=Pe(function(y){if(Yr(y))return function(_){return Q(_,y)};Q(y)}),X=c.useCallback(function(y){$e(y)?$({type:"SET_FORMIK_STATE",payload:y}):$({type:"SET_FORMIK_STATE",payload:function(){return y}})},[]),be=c.useCallback(function(y){$({type:"SET_STATUS",payload:y})},[]),ee=c.useCallback(function(y){$({type:"SET_ISSUBMITTING",payload:y})},[]),B=Pe(function(){return $({type:"SUBMIT_ATTEMPT"}),A().then(function(y){var _=y instanceof Error,D=!_&&Object.keys(y).length===0;if(D){var H;try{if(H=Dt(),H===void 0)return}catch(Z){throw Z}return Promise.resolve(H).then(function(Z){return x.current&&$({type:"SUBMIT_SUCCESS"}),Z}).catch(function(Z){if(x.current)throw $({type:"SUBMIT_FAILURE"}),Z})}else if(x.current&&($({type:"SUBMIT_FAILURE"}),_))throw y})}),J=Pe(function(y){y&&y.preventDefault&&$e(y.preventDefault)&&y.preventDefault(),y&&y.stopPropagation&&$e(y.stopPropagation)&&y.stopPropagation(),B().catch(function(_){console.warn("Warning: An unhandled error was caught from submitForm()",_)})}),we={resetForm:N,validateForm:A,validateField:I,setErrors:G,setFieldError:ve,setFieldTouched:fe,setFieldValue:oe,setStatus:be,setSubmitting:ee,setTouched:q,setValues:ce,setFormikState:X,submitForm:B},Dt=Pe(function(){return u(T.values,we)}),Mn=Pe(function(y){y&&y.preventDefault&&$e(y.preventDefault)&&y.preventDefault(),y&&y.stopPropagation&&$e(y.stopPropagation)&&y.stopPropagation(),N()}),$u=c.useCallback(function(y){return{value:Oe(T.values,y),error:Oe(T.errors,y),touched:!!Oe(T.touched,y),initialValue:Oe(f.current,y),initialTouched:!!Oe(b.current,y),initialError:Oe(g.current,y)}},[T.errors,T.touched,T.values]),Cu=c.useCallback(function(y){return{setValue:function(D,H){return oe(y,D,H)},setTouched:function(D,H){return fe(y,D,H)},setError:function(D){return ve(y,D)}}},[oe,fe,ve]),Ru=c.useCallback(function(y){var _=yr(y),D=_?y.name:y,H=Oe(T.values,D),Z={name:D,value:H,onChange:L,onBlur:te};if(_){var ne=y.type,me=y.value,Ge=y.as,Hr=y.multiple;ne==="checkbox"?me===void 0?Z.checked=!!H:(Z.checked=!!(Array.isArray(H)&&~H.indexOf(me)),Z.value=me):ne==="radio"?(Z.checked=H===me,Z.value=me):Ge==="select"&&Hr&&(Z.value=Z.value||[],Z.multiple=!0)}return Z},[te,L,T.values]),zr=c.useMemo(function(){return!bt(f.current,T.values)},[f.current,T.values]),Fu=c.useMemo(function(){return typeof a<"u"?zr?T.errors&&Object.keys(T.errors).length===0:a!==!1&&$e(a)?a(m):a:T.errors&&Object.keys(T.errors).length===0},[a,zr,T.errors,m]),ju=le({},T,{initialValues:f.current,initialErrors:g.current,initialTouched:b.current,initialStatus:v.current,handleBlur:te,handleChange:L,handleReset:Mn,handleSubmit:J,resetForm:N,setErrors:G,setFormikState:X,setFieldTouched:fe,setFieldValue:oe,setFieldError:ve,setStatus:be,setSubmitting:ee,setTouched:q,setValues:ce,submitForm:B,validateForm:A,validateField:I,isValid:Fu,dirty:zr,unregisterField:j,registerField:U,getFieldProps:Ru,getFieldMeta:$u,getFieldHelpers:Cu,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return ju}function wr(e){var t=Ph(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return c.useImperativeHandle(o,function(){return t}),c.createElement(Fh,{value:t},n?c.createElement(n,t):i?i(t):r?$e(r)?r(t):Ah(r)?null:c.Children.only(r):null)}function _h(e){var t={};if(e.inner){if(e.inner.length===0)return Tt(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Oe(t,s.path)||(t=Tt(t,s.path,s.message))}}return t}function Mh(e,t,n,r){n===void 0&&(n=!1);var i=vi(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function vi(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||Do(i)?vi(i):i!==""?i:void 0}):Do(e[r])?t[r]=vi(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function kh(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?di(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=di(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function Lh(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Dh(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var Nh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function Pe(e){var t=c.useRef(e);return Nh(function(){t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function Gt(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=e.className,l=zt(e,["validate","name","render","children","as","component","className"]),d=Qe(),u=zt(d,["validate","validationSchema"]),h=u.registerField,m=u.unregisterField;c.useEffect(function(){return h(n,{validate:t}),function(){m(n)}},[h,m,n,t]);var f=u.getFieldProps(le({name:n},l)),g=u.getFieldMeta(n),b={field:f,form:u};if(r)return r(le({},b,{meta:g}));if($e(i))return i(le({},b,{meta:g}));if(s){if(typeof s=="string"){var v=l.innerRef,x=zt(l,["innerRef"]);return c.createElement(s,le({ref:v},f,x,{className:a}),i)}return c.createElement(s,le({field:f,form:u},l,{className:a}),i)}var S=o||"input";if(typeof S=="string"){var w=l.innerRef,E=zt(l,["innerRef"]);return c.createElement(S,le({ref:w},f,E,{className:a}),i)}return c.createElement(S,le({},f,l,{className:a}),i)}var Sn=c.forwardRef(function(e,t){var n=e.action,r=zt(e,["action"]),i=n??"#",o=Qe(),s=o.handleReset,a=o.handleSubmit;return c.createElement("form",le({onSubmit:a,ref:t,onReset:s,action:i},r))});Sn.displayName="Form";function _t(e){this._maxSize=e,this.clear()}_t.prototype.clear=function(){this._size=0,this._values=Object.create(null)};_t.prototype.get=function(e){return this._values[e]};_t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Vh=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Pa=/^\d+$/,Bh=/^\d/,zh=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Hh=/^\s*(['"]?)(.*?)(\1)\s*$/,Ji=512,ds=new _t(Ji),fs=new _t(Ji),ps=new _t(Ji),Ot={Cache:_t,split:bi,normalizePath:Xr,setter:function(e){var t=Xr(e);return fs.get(e)||fs.set(e,function(r,i){for(var o=0,s=t.length,a=r;o<s-1;){var l=t[o];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[t[o++]]}a[t[o]]=i})},getter:function(e,t){var n=Xr(e);return ps.get(e)||ps.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(Qi(n)||Pa.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){qh(Array.isArray(e)?e:bi(e),t,n)}};function Xr(e){return ds.get(e)||ds.set(e,bi(e).map(function(t){return t.replace(Hh,"$2")}))}function bi(e){return e.match(Vh)||[""]}function qh(e,t,n){var r=e.length,i,o,s,a;for(o=0;o<r;o++)i=e[o],i&&(Gh(i)&&(i='"'+i+'"'),a=Qi(i),s=!a&&/^\d+$/.test(i),t.call(n,i,a,s,o,e))}function Qi(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function Uh(e){return e.match(Bh)&&!e.match(Pa)}function Wh(e){return zh.test(e)}function Gh(e){return!Qi(e)&&(Uh(e)||Wh(e))}const Kh=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Er=e=>e.match(Kh)||[],Sr=e=>e[0].toUpperCase()+e.slice(1),eo=(e,t)=>Er(e).join(t).toLowerCase(),_a=e=>Er(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Yh=e=>Sr(_a(e)),Zh=e=>eo(e,"_"),Xh=e=>eo(e,"-"),Jh=e=>Sr(eo(e," ")),Qh=e=>Er(e).map(Sr).join(" ");var Jr={words:Er,upperFirst:Sr,camelCase:_a,pascalCase:Yh,snakeCase:Zh,kebabCase:Xh,sentenceCase:Jh,titleCase:Qh},to={exports:{}};to.exports=function(e){return Ma(em(e),e)};to.exports.array=Ma;function Ma(e,t){var n=e.length,r=new Array(n),i={},o=n,s=tm(t),a=nm(e);for(t.forEach(function(d){if(!a.has(d[0])||!a.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||l(e[o],o,new Set);return r;function l(d,u,h){if(h.has(d)){var m;try{m=", node was:"+JSON.stringify(d)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!i[u]){i[u]=!0;var f=s.get(d)||new Set;if(f=Array.from(f),u=f.length){h.add(d);do{var g=f[--u];l(g,a.get(g),h)}while(u);h.delete(d)}r[--n]=d}}}function em(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function tm(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function nm(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var rm=to.exports;const im=Bs(rm),om=Object.prototype.toString,sm=Error.prototype.toString,am=RegExp.prototype.toString,lm=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",um=/^Symbol\((.*)\)(.*)$/;function cm(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function hs(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return cm(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return lm.call(e).replace(um,"Symbol($1)");const r=om.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+sm.call(e)+"]":r==="RegExp"?am.call(e):null}function Xe(e,t){let n=hs(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=hs(this[r],t);return o!==null?o:i},2)}function ka(e){return e==null?[]:[].concat(e)}let La,Da,Na,dm=/\$\{\s*(\w+)\s*\}/g;La=Symbol.toStringTag;class ms{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[La]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],ka(t).forEach(o=>{if(Se.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Da=Symbol.hasInstance;Na=Symbol.toStringTag;class Se extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof t=="string"?t.replace(dm,(i,o)=>Xe(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new ms(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Na]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Se)}static[Da](t){return ms[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let qe={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Xe(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Xe(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Xe(n,!0)}\``+i}},Ee={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},rt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},xi={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},fm={isValue:"${path} field must be ${value}"},yi={noUnknown:"${path} field has unspecified keys: ${unknown}"},Hn={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},pm={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Xe(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Xe(n,!0)}\``}return Se.formatError(qe.notType,e)}};Object.assign(Object.create(null),{mixed:qe,string:Ee,number:rt,date:xi,object:yi,array:Hn,boolean:fm,tuple:pm});const Tr=e=>e&&e.__isYupSchema__;class Kn{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Kn(t,(a,l)=>{var d;let u=s(...a)?i:o;return(d=u==null?void 0:u(l))!=null?d:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!Tr(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Dn={context:"$",value:"."};class Mt{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Dn.context,this.isValue=this.key[0]===Dn.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Dn.context:this.isValue?Dn.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ot.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Mt.prototype.__isYupRef=!0;const Ze=e=>e==null;function Nt(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},a,l){const{name:d,test:u,params:h,message:m,skipAbsent:f}=e;let{parent:g,context:b,abortEarly:v=s.spec.abortEarly,disableStackTrace:x=s.spec.disableStackTrace}=i;function S(R){return Mt.isRef(R)?R.getValue(n,g,b):R}function w(R={}){const k=Object.assign({value:n,originalValue:o,label:s.spec.label,path:R.path||r,spec:s.spec,disableStackTrace:R.disableStackTrace||x},h,R.params);for(const N of Object.keys(k))k[N]=S(k[N]);const A=new Se(Se.formatError(R.message||m,k),n,k.path,R.type||d,k.disableStackTrace);return A.params=k,A}const E=v?a:l;let O={path:r,parent:g,type:d,from:i.from,createError:w,resolve:S,options:i,originalValue:o,schema:s};const T=R=>{Se.isError(R)?E(R):R?l(null):E(w())},$=R=>{Se.isError(R)?E(R):a(R)};if(f&&Ze(n))return T(!0);let M;try{var z;if(M=u.call(O,n,O),typeof((z=M)==null?void 0:z.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${O.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(M).then(T,$)}}catch(R){$(R);return}T(M)}return t.OPTIONS=e,t}function hm(e,t,n,r=n){let i,o,s;return t?(Ot.forEach(t,(a,l,d)=>{let u=l?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let h=e.type==="tuple",m=d?parseInt(u,10):0;if(e.innerType||h){if(h&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[m],e=h?e.spec.types[m]:e.innerType}if(!d){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[u],e=e.fields[u]}o=u,s=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class Yn extends Set{describe(){const t=[];for(const n of this.values())t.push(Mt.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Yn(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ht(e,t=new Map){if(Tr(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Ht(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Ht(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Ht(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Ht(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Le{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Yn,this._blacklist=new Yn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(qe.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ht(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Ze(o))return o;let s=Xe(t),a=Xe(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:o,value:l,originalValue:s,options:n,tests:d},r,u=>{if(u.length)return i(u,l);this.runTests({path:o,value:l,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:l,options:d}=t,u=b=>{i||(i=!0,n(b,s))},h=b=>{i||(i=!0,r(b,s))},m=o.length,f=[];if(!m)return h([]);let g={value:s,originalValue:a,path:l,options:d,schema:this};for(let b=0;b<o.length;b++){const v=o[b];v(g,u,function(S){S&&(Array.isArray(S)?f.push(...S):f.push(S)),--m<=0&&h(f)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let d=r[a];const u=Object.assign({},s,{strict:!0,parent:r,value:d,originalValue:o[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(h,m,f)=>this.resolve(u)._validate(d,u,m,f)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(t,n,(l,d)=>{Se.isError(l)&&(l.value=d),a(l)},(l,d)=>{l.length?a(new Se(l,d,void 0,void 0,o)):s(d)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(a,l)=>{throw Se.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Se(a,t,void 0,void 0,s);o=l}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Se.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Se.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Ht(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Nt({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Nt({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=qe.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=qe.notNull){return this.nullability(!1,t)}required(t=qe.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=qe.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Nt(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=ka(t).map(o=>new Mt(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Kn(i,n):Kn.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Nt({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=qe.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Nt({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=qe.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Nt({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,d,u)=>u.findIndex(h=>h.name===l.name)===d)}}}Le.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Le.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=hm(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Le.prototype[e]=Le.prototype.oneOf;for(const e of["not","nope"])Le.prototype[e]=Le.prototype.notOneOf;const mm=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function gm(e){const t=wi(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function wi(e){var t,n;const r=mm.exec(e);return r?{year:Ke(r[1]),month:Ke(r[2],1)-1,day:Ke(r[3],1),hour:Ke(r[4]),minute:Ke(r[5]),second:Ke(r[6]),millisecond:r[7]?Ke(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ke(r[10]),minuteOffset:Ke(r[11])}:null}function Ke(e,t=0){return Number(e)||t}let vm=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bm=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,xm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ym="^\\d{4}-\\d{2}-\\d{2}",wm="\\d{2}:\\d{2}:\\d{2}",Em="(([+-]\\d{2}(:?\\d{2})?)|Z)",Sm=new RegExp(`${ym}T${wm}(\\.\\d+)?${Em}$`),Tm=e=>Ze(e)||e===e.trim(),Om={}.toString();function ze(){return new Va}class Va extends Le{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===Om?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||qe.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Ee.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Ee.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Ee.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Ee.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=Ee.email){return this.matches(vm,{name:"email",message:t,excludeEmptyString:!0})}url(t=Ee.url){return this.matches(bm,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Ee.uuid){return this.matches(xm,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(Sm,{name:"datetime",message:n||Ee.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ee.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=wi(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||Ee.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=wi(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Ee.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Tm})}lowercase(t=Ee.lowercase){return this.transform(n=>Ze(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ze(n)||n===n.toLowerCase()})}uppercase(t=Ee.uppercase){return this.transform(n=>Ze(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ze(n)||n===n.toUpperCase()})}}ze.prototype=Va.prototype;let $m=e=>e!=+e;function Ba(){return new za}class za extends Le{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!$m(t)}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce)return t;let i=t;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(t,n=rt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(t)}})}max(t,n=rt.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(t)}})}lessThan(t,n=rt.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(r){return r<this.resolve(t)}})}moreThan(t,n=rt.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(r){return r>this.resolve(t)}})}positive(t=rt.positive){return this.moreThan(0,t)}negative(t=rt.negative){return this.lessThan(0,t)}integer(t=rt.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Ze(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Ze(i)?i:Math[t](i))}}Ba.prototype=za.prototype;let Cm=new Date(""),Rm=e=>Object.prototype.toString.call(e)==="[object Date]";class Or extends Le{constructor(){super({type:"date",check(t){return Rm(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=gm(t),isNaN(t)?Or.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(Mt.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=xi.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=xi.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Or.INVALID_DATE=Cm;Or.prototype;function Fm(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=Ot.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s of Object.keys(e)){let a=e[s];r.add(s),Mt.isRef(a)&&a.isSibling?o(a.path,s):Tr(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return im.array(Array.from(r),n).reverse()}function gs(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function Ha(e){return(t,n)=>gs(e,t)-gs(e,n)}const qa=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function qn(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=qn(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=qn(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(qn)}):"optional"in e?e.optional():e}const jm=(e,t)=>{const n=[...Ot.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Ot.getter(Ot.join(n),!0)(e);return!!(i&&r in i)};let vs=e=>Object.prototype.toString.call(e)==="[object Object]";function Am(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Im=Ha([]);function Jt(e){return new Ua(e)}class Ua extends Le{constructor(t){super({type:"object",check(n){return vs(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Im,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},d=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const h of a){let m=o[h],f=h in i;if(m){let g,b=i[h];d.path=(n.path?`${n.path}.`:"")+h,m=m.resolve({value:b,context:n.context,parent:l});let v=m instanceof Le?m.spec:void 0,x=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||h in i;continue}g=!n.__validating||!x?m.cast(i[h],d):i[h],g!==void 0&&(l[h]=g)}else f&&!s&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(u=!0)}return u?l:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(l,d)=>{if(!a||!vs(d)){i(l,d);return}s=s||d;let u=[];for(let h of this._nodes){let m=this.fields[h];!m||Mt.isRef(m)||u.push(m.asNestedTest({options:n,key:h,parent:d,parentPath:n.path,originalParent:s}))}this.runTests({tests:u,value:d,originalValue:s,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),d)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=Fm(t,n),r._sortErrors=Ha(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return qn(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=Ot.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return jm(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(qa)}noUnknown(t=!0,n=yi.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=Am(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=yi.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(Jr.camelCase)}snakeCase(){return this.transformKeys(Jr.snakeCase)}constantCase(){return this.transformKeys(t=>Jr.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}Jt.prototype=Ua.prototype;function Wa(e){return new Ga(e)}class Ga extends Le{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const l=this.innerType.cast(s,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==s&&(i=!0),l});return i?o:r}_validate(t,n={},r,i){var o;let s=this.innerType,a=(o=n.recursive)!=null?o:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,r,(l,d)=>{var u;if(!a||!s||!this._typeCheck(d)){i(l,d);return}let h=new Array(d.length);for(let f=0;f<d.length;f++){var m;h[f]=s.asNestedTest({options:n,index:f,parent:d,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:t})}this.runTests({value:d,tests:h,originalValue:(u=n.originalValue)!=null?u:t,options:n},r,f=>i(f.concat(l),d))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(qa)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!Tr(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Xe(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=Hn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n){return n=n||Hn.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n){return n=n||Hn.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);if(n.innerType){var i;let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[0]})),r.innerType=n.innerType.describe(o)}return r}}Wa.prototype=Ga.prototype;const Ka=e=>(e.preventDefault(),e.returnValue="");function Ya(){return window.addEventListener("beforeunload",Ka,{capture:!0})}function no(){return window.removeEventListener("beforeunload",Ka,{capture:!0})}function $r(){const{formData:e}=Ne(),{dirty:t}=Qe();return c.useEffect(()=>t||Object.keys(e).length?Ya():no(),[t,e]),null}function Za(){const{formData:e}=Ne();return c.useEffect(()=>e?Ya():no(),[e]),null}function gt({children:e,className:t="",disabled:n=!1,onClick:r=()=>null,size:i="md",type:o="button",variant:s="primary"}){return p.jsx("button",{className:ke("inline-flex w-fit items-center justify-center rounded border-b-2 shadow transition-buttons duration-200 px-4 py-2 font-semibold","hover:shadow-lg","focus:ring-offset-white focus:outline-none focus:ring-2 focus:ring-offset-2",s==="primary"?"bg-oxford-600 border-b-oxford-700 text-white hover:bg-oxford-700 focus:bg-oxford-700 focus:ring-oxford-500":null,s==="danger"?"bg-bn-ribbon-600 border-b-bn-ribbon-700 text-white hover:bg-bn-ribbon-700 focus:bg-bn-ribbon-700 focus:ring-bn-ribbon-500":null,s==="danger-outline"?"bg-bn-ribbon-50 border border-bn-ribbon-200 border-b-bn-ribbon-200 text-bn-ribbon-700 hover:bg-bn-ribbon-100 focus:bg-bn-ribbon-100 focus:ring-bn-ribbon-400":null,i==="sm"?"text-sm !px-2 !py-1.5 font-normal":null,n?"opacity-75 cursor-not-allowed !bg-gray-700 !border-b-gray-800":null,t),disabled:n,onClick:r,type:o,children:e})}gt.propTypes={children:P.node.isRequired,className:P.string,disabled:P.bool,onClick:P.func,size:P.oneOf(["sm","md","lg"]),type:P.oneOf(["button","submit","reset"]),variant:P.oneOf(["primary","danger","danger-outline"])};function ut({children:e}){return p.jsx("div",{className:"border-l-2 border-l-bn-ribbon-600 bg-bn-ribbon-100 max-w-prose p-2 pl-4 mt-2 text-sm font-semibold text-bn-ribbon-800",children:e})}ut.propTypes={children:P.node.isRequired};function Xa({field:e,min:t=null,max:n=null}){const{values:r}=Qe(),i=r==null?void 0:r[e].length;return i===n?p.jsx("p",{className:"text-sm",children:"No characters remaining"}):i<t?p.jsxs("p",{className:"text-sm",children:[i-t," more characters required"]}):i<n?p.jsxs("p",{className:"text-sm",children:[n-i," characters remaining"]}):i>n?p.jsxs("p",{className:"text-sm",children:["Remove ",i-n," characters"]}):p.jsx("p",{className:"text-sm",children:" chars remaining"})}Xa.propTypes={field:P.string.isRequired,min:P.number,max:P.number};function ro({children:e}){return p.jsx("div",{className:"-mt-2 mb-0.5 text-sm text-gray-700 flex flex-col gap-y-1",children:e})}ro.propTypes={children:P.node.isRequired};function Ei({characterCount:e=!1,children:t=null,className:n=null,hintText:r=null,id:i,label:o,maxlength:s=null,minlength:a=null,name:l,placeholder:d=null,required:u=!1,resize:h,rows:m=8,value:f=""}){const{setFieldValue:g,values:b}=Qe();return c.useEffect(()=>{g(i,b[i]||f)},[]),p.jsxs("div",{className:`flex flex-col gap-y-3 text-lg leading-tight ${n}`,children:[p.jsx("label",{className:"font-semibold tracking-tight",htmlFor:i,children:o}),r?p.jsx(ro,{children:r}):null,p.jsx(Gt,{as:"textarea",className:`
          mt-1 block w-full max-w-prose rounded-md border-gray-400 text-gray-900 shadow-sm
          ${h?"":"resize-none"}
          sm:text-sm
          focus:outline-none focus:ring-oxford-500 focus:border-oxford-500
        `,maxLength:s,minLength:a,name:l,placeholder:d,required:u,rows:m}),e&&(a||s)?p.jsx(Xa,{field:i,max:s,min:a}):null,t]})}Ei.propTypes={characterCount:P.bool,children:P.node,className:P.string,hintText:P.node,id:P.string.isRequired,label:P.string.isRequired,maxlength:P.number,minlength:P.number,name:P.string.isRequired,placeholder:P.string,required:P.bool,resize:P.bool.isRequired,rows:P.number,value:P.string};function Pm(){const[,e]=ht(),{formData:t,setFormData:n}=Ne();if(yn(["codelistA","codelistB","timeOption","filterPopulation"]))return p.jsx(xn,{to:""});const r=Jt().shape({purpose:ze().required("Write a purpose for this analysis").min(1,"Add a purpose").max(1e3,"Purpose is too long"),title:ze().required("Write a title for this analysis").min(1,"Add a title").max(140,"Title is too long")}),i={purpose:t.purpose||"",title:t.title||""};return p.jsx(wr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/review-request")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>p.jsxs(Sn,{className:"flex flex-col gap-y-4",children:[p.jsx($r,{}),p.jsx("h1",{className:"text-4xl font-bold",children:"Analysis information"}),p.jsx(Ei,{characterCount:!0,className:"mb-6",hintText:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"The title will be shown at the top of the generated report. It should provide a short summary to anyone reading the report about what the analysis shows."}),p.jsx("p",{children:"You will be able to change this after the report is generated."})]}),id:"title",label:"Provide a title for the analysis",maxlength:140,name:"title",placeholder:"",required:!0,resize:!1,rows:2,value:`${t.codelistA.label} & ${t.codelistB.label} during the COVID-19 pandemic`,children:o.title&&a.title?p.jsx(ut,{children:o.title}):null}),p.jsx(Ei,{characterCount:!0,hintText:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"It must be clear that this analysis request is aligned with your approvals."}),p.jsx("p",{children:"Please refer to the approved version of your project application form, which you were sent by email."})]}),id:"purpose",label:"Explain why this analysis fits with the approved project purpose",maxlength:1e3,name:"purpose",required:!0,resize:!1}),o.purpose&&a.purpose?p.jsx(ut,{children:o.purpose}):null,p.jsx("div",{className:"flex flex-row w-full gap-2 mt-4",children:p.jsx(gt,{disabled:!s,type:"submit",children:"Next"})})]})})}const _e=["The number of people who had","added to their health record each month from","to","who have also had","added to their health record in the same month as","or"],Ja="before.",Be="at any time prior.",Un=e=>`up to ${e.timeValue} ${e.timeScale} before.`;function Zn({children:e,legend:t,hideLegend:n=!1}){return p.jsxs("fieldset",{children:[p.jsx("legend",{className:n?"sr-only":"text-2xl font-bold mb-4",children:p.jsx("h2",{children:t})}),p.jsx("div",{className:"flex flex-col gap-4",children:e})]})}Zn.propTypes={children:P.node.isRequired,hideLegend:P.bool,legend:P.string.isRequired};function Xn({children:e=null,id:t,label:n,labelClassName:r=null,name:i,onClick:o=()=>null,value:s}){return p.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[p.jsx(Gt,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:t,name:i,onClick:o,type:"radio",value:s}),p.jsx("label",{"aria-label":e?n:null,className:`cursor-pointer touch-manipulation tracking-tight ${r||""}`,htmlFor:t,children:e||n})]})}Xn.propTypes={children:P.node,id:P.string.isRequired,label:P.string.isRequired,labelClassName:P.string,name:P.string.isRequired,onClick:P.func,value:P.string.isRequired};const Qa=typeof document<"u"?V.useLayoutEffect:()=>{};function _m(e){const t=c.useRef(null);return Qa(()=>{t.current=e},[e]),c.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Tn=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Et=e=>e&&"window"in e&&e.window===e?e:Tn(e).defaultView||window;function Mm(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function km(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Lm(){return km(/^Mac/i)}function Dm(){return Mm(/Android/i)}function Nm(e){return e.mozInputSource===0&&e.isTrusted?!0:Dm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Vm{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function el(e){let t=c.useRef({isFocused:!1,observer:null});Qa(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=_m(r=>{e==null||e(r)});return c.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{t.current.isFocused=!1,i.disabled&&n(new Vm("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Bm(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=c.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=el(o),a=c.useCallback(l=>{const d=Tn(l.target);l.target===l.currentTarget&&d.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}let On=null,Si=new Set,un=new Map,Rt=!1,Ti=!1;const zm={Tab:!0,Escape:!0};function io(e,t){for(let n of Si)n(e,t)}function Hm(e){return!(e.metaKey||!Lm()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Jn(e){Rt=!0,Hm(e)&&(On="keyboard",io("keyboard",e))}function Me(e){On="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Rt=!0,io("pointer",e))}function tl(e){Nm(e)&&(Rt=!0,On="virtual")}function nl(e){e.target===window||e.target===document||(!Rt&&!Ti&&(On="virtual",io("virtual",e)),Rt=!1,Ti=!1)}function rl(){Rt=!1,Ti=!0}function Oi(e){if(typeof window>"u"||un.get(Et(e)))return;const t=Et(e),n=Tn(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Rt=!0,r.apply(this,arguments)},n.addEventListener("keydown",Jn,!0),n.addEventListener("keyup",Jn,!0),n.addEventListener("click",tl,!0),t.addEventListener("focus",nl,!0),t.addEventListener("blur",rl,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Me,!0),n.addEventListener("pointermove",Me,!0),n.addEventListener("pointerup",Me,!0)):(n.addEventListener("mousedown",Me,!0),n.addEventListener("mousemove",Me,!0),n.addEventListener("mouseup",Me,!0)),t.addEventListener("beforeunload",()=>{il(e)},{once:!0}),un.set(t,{focus:r})}const il=(e,t)=>{const n=Et(e),r=Tn(e);t&&r.removeEventListener("DOMContentLoaded",t),un.has(n)&&(n.HTMLElement.prototype.focus=un.get(n).focus,r.removeEventListener("keydown",Jn,!0),r.removeEventListener("keyup",Jn,!0),r.removeEventListener("click",tl,!0),n.removeEventListener("focus",nl,!0),n.removeEventListener("blur",rl,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Me,!0),r.removeEventListener("pointermove",Me,!0),r.removeEventListener("pointerup",Me,!0)):(r.removeEventListener("mousedown",Me,!0),r.removeEventListener("mousemove",Me,!0),r.removeEventListener("mouseup",Me,!0)),un.delete(n))};function qm(e){const t=Tn(e);let n;return t.readyState!=="loading"?Oi(e):(n=()=>{Oi(e)},t.addEventListener("DOMContentLoaded",n)),()=>il(e,n)}typeof document<"u"&&qm();function ol(){return On!=="pointer"}const Um=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Wm(e,t,n){var r;const i=typeof window<"u"?Et(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Et(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Et(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Et(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!Um.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!zm[n.key])}function Gm(e,t,n){Oi(),c.useEffect(()=>{let r=(i,o)=>{Wm(!!(n!=null&&n.isTextInput),i,o)&&e(ol())};return Si.add(r),()=>{Si.delete(r)}},t)}function Km(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=c.useRef({isFocusWithin:!1}),s=c.useCallback(d=>{o.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(d),i&&i(!1))},[n,i,o]),a=el(s),l=c.useCallback(d=>{!o.current.isFocusWithin&&document.activeElement===d.target&&(r&&r(d),i&&i(!0),o.current.isFocusWithin=!0,a(d))},[r,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let Qn=!1,Qr=0;function $i(){Qn=!0,setTimeout(()=>{Qn=!1},50)}function bs(e){e.pointerType==="touch"&&$i()}function Ym(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",bs):document.addEventListener("touchend",$i),Qr++,()=>{Qr--,!(Qr>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",bs):document.removeEventListener("touchend",$i))}}function Cr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=c.useState(!1),a=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(Ym,[]);let{hoverProps:l,triggerHoverEnd:d}=c.useMemo(()=>{let u=(f,g)=>{if(a.pointerType=g,i||g==="touch"||a.isHovered||!f.currentTarget.contains(f.target))return;a.isHovered=!0;let b=f.currentTarget;a.target=b,t&&t({type:"hoverstart",target:b,pointerType:g}),n&&n(!0),s(!0)},h=(f,g)=>{if(a.pointerType="",a.target=null,g==="touch"||!a.isHovered)return;a.isHovered=!1;let b=f.currentTarget;r&&r({type:"hoverend",target:b,pointerType:g}),n&&n(!1),s(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=f=>{Qn&&f.pointerType==="mouse"||u(f,f.pointerType)},m.onPointerLeave=f=>{!i&&f.currentTarget.contains(f.target)&&h(f,f.pointerType)}):(m.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=f=>{!a.ignoreEmulatedMouseEvents&&!Qn&&u(f,"mouse"),a.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=f=>{!i&&f.currentTarget.contains(f.target)&&h(f,"mouse")}),{hoverProps:m,triggerHoverEnd:h}},[t,n,r,i,a]);return c.useEffect(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function $n(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=c.useRef({isFocused:!1,isFocusVisible:t||ol()}),[o,s]=c.useState(!1),[a,l]=c.useState(()=>i.current.isFocused&&i.current.isFocusVisible),d=c.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=c.useCallback(f=>{i.current.isFocused=f,s(f),d()},[d]);Gm(f=>{i.current.isFocusVisible=f,d()},[],{isTextInput:n});let{focusProps:h}=Bm({isDisabled:r,onFocusChange:u}),{focusWithinProps:m}=Km({isDisabled:!r,onFocusWithinChange:u});return{isFocused:o,isFocusVisible:a,focusProps:r?m:h}}var Zm=Object.defineProperty,Xm=(e,t,n)=>t in e?Zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ei=(e,t,n)=>(Xm(e,typeof t!="symbol"?t+"":t,n),n);let Jm=class{constructor(){ei(this,"current",this.detect()),ei(this,"handoffState","pending"),ei(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},$t=new Jm;function kt(e){return $t.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function oo(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ae(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return oo(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Ae();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function De(){let[e]=c.useState(Ae);return c.useEffect(()=>()=>e.dispose(),[e]),e}let Y=(e,t)=>{$t.isServer?c.useEffect(e,t):c.useLayoutEffect(e,t)};function ye(e){let t=c.useRef(e);return Y(()=>{t.current=e},[e]),t}let F=function(e){let t=ye(e);return V.useCallback((...n)=>t.current(...n),[t])};function Qm(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function eg(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function so({disabled:e=!1}={}){let t=c.useRef(null),[n,r]=c.useState(!1),i=De(),o=F(()=>{t.current=null,r(!1),i.dispose()}),s=F(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=kt(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",d=>{if(t.current){let u=Qm(d);r(eg(u,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let tg=c.createContext(void 0);function Rr(){return c.useContext(tg)}function cn(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function re(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,re),r}var ct=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ct||{}),it=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(it||{});function de({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??ng;let l=sl(t,e);if(o)return Nn(l,n,r,s,a);let d=i??0;if(d&2){let{static:u=!1,...h}=l;if(u)return Nn(h,n,r,s,a)}if(d&1){let{unmount:u=!0,...h}=l;return re(u?0:1,{0(){return null},1(){return Nn({...h,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return Nn(l,n,r,s,a)}function Nn(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=ti(e,["unmount","static"]),d=e.ref!==void 0?{[a]:e.ref}:{},u=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let m=!1,f=[];for(let[g,b]of Object.entries(t))typeof b=="boolean"&&(m=!0),b===!0&&f.push(g.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(m){h["data-headlessui-state"]=f.join(" ");for(let g of f)h[`data-${g}`]=""}}if(o===c.Fragment&&(Object.keys(xt(l)).length>0||Object.keys(xt(h)).length>0))if(!c.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(xt(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xt(l)).concat(Object.keys(xt(h))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=u.props,f=m==null?void 0:m.className,g=typeof f=="function"?(...x)=>cn(f(...x),l.className):cn(f,l.className),b=g?{className:g}:{},v=sl(u.props,xt(ti(l,["ref"])));for(let x in h)x in v&&delete h[x];return c.cloneElement(u,Object.assign({},v,h,d,{ref:i(u.ref,d.ref)},b))}return c.createElement(o,Object.assign({},ti(l,["ref"]),o!==c.Fragment&&d,o!==c.Fragment&&h),u)}function ng(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function sl(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function Lt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function ue(e){var t;return Object.assign(c.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function xt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ti(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function al(e,t,n){let[r,i]=c.useState(n),o=e!==void 0,s=c.useRef(o),a=c.useRef(!1),l=c.useRef(!1);return o&&!s.current&&!a.current?(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,F(d=>(o||i(d),t==null?void 0:t(d)))]}function ll(e){let[t]=c.useState(e);return t}function ul(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))dl(n,cl(t,r),i);return n}function cl(e,t){return e?e+"["+t+"]":t}function dl(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())dl(e,cl(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):ul(n,t,e)}function rg(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let ig="div";var Fr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Fr||{});function og(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return de({ourProps:o,theirProps:i,slot:{},defaultTag:ig,name:"Hidden"})}let jr=ue(og),sg=c.createContext(null);function ag({children:e}){let t=c.useContext(sg);if(!t)return V.createElement(V.Fragment,null,e);let{target:n}=t;return n?at.createPortal(V.createElement(V.Fragment,null,e),n):null}function fl({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,s]=c.useState(null),a=De();return c.useEffect(()=>{if(r&&o)return a.addEventListener(o,"reset",r)},[o,t,r]),V.createElement(ag,null,V.createElement(lg,{setForm:s,formId:t}),ul(e).map(([l,d])=>V.createElement(jr,{features:Fr.Hidden,...xt({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:d,...i})})))}function lg({setForm:e,formId:t}){return c.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:V.createElement(jr,{features:Fr.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let ug=c.createContext(void 0);function ao(){return c.useContext(ug)}function pl(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&cg(n)?!1:r}function cg(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let hl=Symbol();function dg(e,t=!0){return Object.assign(e,{[hl]:t})}function pe(...e){let t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);let n=F(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[hl]))?void 0:n}let lo=c.createContext(null);lo.displayName="DescriptionContext";function ml(){let e=c.useContext(lo);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ml),t}return e}function gl(){var e,t;return(t=(e=c.useContext(lo))==null?void 0:e.value)!=null?t:void 0}let fg="p";function pg(e,t){let n=c.useId(),r=Rr(),{id:i=`headlessui-description-${n}`,...o}=e,s=ml(),a=pe(t);Y(()=>s.register(i),[i,s.register]);let l=r||!1,d=c.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),u={ref:a,...s.props,id:i};return de({ourProps:u,theirProps:o,slot:d,defaultTag:fg,name:s.name||"Description"})}let hg=ue(pg);Object.assign(hg,{});var W=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(W||{});let Ar=c.createContext(null);Ar.displayName="LabelContext";function vl(){let e=c.useContext(Ar);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,vl),t}return e}function Cn(e){var t,n,r;let i=(n=(t=c.useContext(Ar))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function bl({inherit:e=!1}={}){let t=Cn(),[n,r]=c.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,c.useMemo(()=>function(o){let s=F(l=>(r(d=>[...d,l]),()=>r(d=>{let u=d.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=c.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return V.createElement(Ar.Provider,{value:a},o.children)},[r])]}let mg="label";function gg(e,t){var n;let r=c.useId(),i=vl(),o=ao(),s=Rr(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:d=!1,...u}=e,h=pe(t);Y(()=>i.register(a),[a,i.register]);let m=F(v=>{let x=v.currentTarget;if(x instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),x instanceof HTMLLabelElement){let S=document.getElementById(x.htmlFor);if(S){let w=S.getAttribute("disabled");if(w==="true"||w==="")return;let E=S.getAttribute("aria-disabled");if(E==="true"||E==="")return;(S instanceof HTMLInputElement&&(S.type==="radio"||S.type==="checkbox")||S.role==="radio"||S.role==="checkbox"||S.role==="switch")&&S.click(),S.focus({preventScroll:!0})}}}),f=s||!1,g=c.useMemo(()=>({...i.slot,disabled:f}),[i.slot,f]),b={ref:h,...i.props,id:a,htmlFor:l,onClick:m};return d&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in u&&delete u.onClick),de({ourProps:b,theirProps:u,slot:g,defaultTag:l?mg:"div",name:i.name||"Label"})}let vg=ue(gg),xl=Object.assign(vg,{});function rn(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let d;n.key&&((o=n.debug)!=null&&o.call(n))&&(d=Date.now());const u=e();if(!(u.length!==r.length||u.some((f,g)=>r[g]!==f)))return i;r=u;let m;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(m=Date.now()),i=t(...u),n.key&&((a=n.debug)!=null&&a.call(n))){const f=Math.round((Date.now()-d)*100)/100,g=Math.round((Date.now()-m)*100)/100,b=g/16,v=(x,S)=>{for(x=String(x);x.length<S;)x=" "+x;return x};console.info(`%c⏱ ${v(g,5)} /${v(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function ni(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const bg=(e,t)=>Math.abs(e-t)<1,xg=(e,t)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}},yg=e=>e,wg=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Eg=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=o=>{const{width:s,height:a}=o;t({width:Math.round(s),height:Math.round(a)})};if(r(n.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const i=new ResizeObserver(o=>{const s=o[0];if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a){r({width:a.inlineSize,height:a.blockSize});return}}r(n.getBoundingClientRect())});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},xs={passive:!0},Sg=typeof window>"u"?!0:"onscrollend"in window,Tg=(e,t)=>{const n=e.scrollElement;if(!n)return;let r=0;const i=Sg?()=>{}:xg(()=>{t(r,!1)},e.options.isScrollingResetDelay),o=l=>()=>{r=n[e.options.horizontal?"scrollLeft":"scrollTop"],i(),t(r,l)},s=o(!0),a=o(!1);return a(),n.addEventListener("scroll",s,xs),n.addEventListener("scrollend",a,xs),()=>{n.removeEventListener("scroll",s),n.removeEventListener("scrollend",a)}},Og=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},$g=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Cg{constructor(t){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(typeof ResizeObserver<"u"?n=new ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}):null);return{disconnect:()=>{var i;return(i=r())==null?void 0:i.disconnect()},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:yg,rangeExtractor:wg,onChange:()=>{},measureElement:Og,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,r)=>{var i,o;const{startIndex:s,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(n||s!==(l==null?void 0:l.startIndex)||a!==(l==null?void 0:l.endIndex))&&((o=(i=this.options).onChange)==null||o.call(i,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.scrollOffset<r?"forward":"backward":null,this.scrollOffset=r;const o=this.isScrolling;this.isScrolling=i,this.notify(o!==i,i)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=rn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,r,i,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o}),{key:!1}),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurements=rn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o},s)=>{const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,a);for(let d=a;d<n;d++){const u=o(d),h=this.options.lanes===1?l[d-1]:this.getFurthestMeasurement(l,d),m=h?h.end+this.options.gap:r+i,f=s.get(u),g=typeof f=="number"?f:this.options.estimateSize(d),b=m+g,v=h?h.lane:d%this.options.lanes;l[d]={index:d,start:m,size:g,end:b,key:u,lane:v}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=rn(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,r,i)=>this.range=n.length>0&&r>0?Rg({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=rn(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.measurementsCache[this.indexFromElement(n)];if(!i||!n.isConnected){this.measureElementCache.forEach((a,l)=>{a===n&&(this.observer.unobserve(n),this.measureElementCache.delete(l))});return}const o=this.measureElementCache.get(i.key);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.measureElementCache.set(i.key,n));const s=this.options.measureElement(n,r,this);this.resizeItem(i,s)},this.resizeItem=(n,r)=>{const i=this.itemSizeCache.get(n.key)??n.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,o,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=rn(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();return ni(r[yl(0,r.length-1,i=>ni(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize();r==="auto"&&(n<=this.scrollOffset?r="start":n>=this.scrollOffset+i?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-i:r==="center"&&(n=n-i/2);const o=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-this.getSize();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=ni(this.getMeasurements()[n]);if(r==="auto")if(i.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)r="end";else if(i.start<=this.scrollOffset+this.options.scrollPaddingStart)r="start";else return[this.scrollOffset,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r),r]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[o,s]=this.getOffsetForIndex(n,r);this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[l]=this.getOffsetForIndex(n,s);bg(l,this.scrollOffset)||this.scrollToIndex(n,{align:s,behavior:i})}else this.scrollToIndex(n,{align:s,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),i-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const yl=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Rg({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=yl(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const Fg=typeof document<"u"?c.useLayoutEffect:c.useEffect;function jg(e){const t=c.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?at.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=c.useState(()=>new Cg(n));return r.setOptions(n),c.useEffect(()=>r._didMount(),[]),Fg(()=>r._willUpdate()),r}function Ag(e){return jg({observeElementRect:Eg,observeElementOffset:Tg,scrollToFn:$g,...e})}function Ig(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function wl(e=Ig){return c.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function Pg(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Ci(e,t=!1){let n=e===null?null:"current"in e?e.current:e,[r,i]=c.useReducer(()=>({}),{}),o=c.useMemo(()=>Pg(n),[n,r]);return Y(()=>{if(!n)return;let s=new ResizeObserver(i);return s.observe(n),()=>{s.disconnect()}},[n]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}function _g(){let e=De();return F(t=>{e.dispose(),e.nextFrame(t)})}let Ri=new Map,dn=new Map;function ys(e){var t;let n=(t=dn.get(e))!=null?t:0;return dn.set(e,n+1),n!==0?()=>ws(e):(Ri.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ws(e))}function ws(e){var t;let n=(t=dn.get(e))!=null?t:1;if(n===1?dn.delete(e):dn.set(e,n-1),n!==1)return;let r=Ri.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ri.delete(e))}function El({allowed:e,disallowed:t}={},n=!0){Y(()=>{var r,i;if(!n)return;let o=Ae();for(let a of(r=t==null?void 0:t())!=null?r:[])a&&o.add(ys(a));let s=(i=e==null?void 0:e())!=null?i:[];for(let a of s){if(!a)continue;let l=kt(a);if(!l)continue;let d=a.parentElement;for(;d&&d!==l.body;){for(let u of d.children)s.some(h=>u.contains(h))||o.add(ys(u));d=d.parentElement}}return o.dispose},[n,e,t])}function uo(e,t,n=!0){let r=ye(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&t()});c.useEffect(()=>{if(!n)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let o=Ae();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[e,r,n])}let Fi=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Mg=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ve=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ve||{}),sn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(sn||{}),kg=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(kg||{});function Lg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Fi)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Dg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Mg)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var co=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(co||{});function Sl(e,t=0){var n;return e===((n=kt(e))==null?void 0:n.body)?!1:re(t,{0(){return e.matches(Fi)},1(){let r=e;for(;r!==null;){if(r.matches(Fi))return!0;r=r.parentElement}return!1}})}var Ng=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ng||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Vg=["textarea","input"].join(",");function Bg(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Vg))!=null?n:!1}function ot(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Vt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?ot(e):e:t&64?Dg(e):Lg(e);i.length>0&&s.length>1&&(s=s.filter(f=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===f:g===f))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},u=0,h=s.length,m;do{if(u>=h||u+h<=0)return 0;let f=l+u;if(t&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}m=s[f],m==null||m.focus(d),u+=a}while(m!==o.activeElement);return t&6&&Bg(m)&&m.select(),2}function Tl(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function zg(){return/Android/gi.test(window.navigator.userAgent)}function Ol(){return Tl()||zg()}function Vn(e,t,n){let r=ye(t);c.useEffect(()=>{function i(o){r.current(o)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Hg(e,t,n){let r=ye(t);c.useEffect(()=>{function i(o){r.current(o)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function $l(e,t,n=!0){let r=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(s,a){if(!r.current||s.defaultPrevented)return;let l=a(s);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let d=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let u of d){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(l)||s.composed&&s.composedPath().includes(h))return}return!Sl(l,co.Loose)&&l.tabIndex!==-1&&s.preventDefault(),t(s,l)}let o=c.useRef(null);Vn("pointerdown",s=>{var a,l;r.current&&(o.current=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),Vn("mousedown",s=>{var a,l;r.current&&(o.current=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),Vn("click",s=>{Ol()||o.current&&(i(s,()=>o.current),o.current=null)},!0),Vn("touchend",s=>i(s,()=>s.target instanceof HTMLElement?s.target:null),!0),Hg("blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Rn(...e){return c.useMemo(()=>kt(...e),[...e])}function qg(e,t,n,r){let i=ye(n);c.useEffect(()=>{e=e??window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Cl(e){let t=c.useRef({value:"",selectionStart:null,selectionEnd:null});return qg(e.current,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),F(()=>{let n=e.current;if(document.activeElement!==n&&n instanceof HTMLInputElement&&n.isConnected){if(n.focus({preventScroll:!0}),n.value!==t.current.value)n.setSelectionRange(n.value.length,n.value.length);else{let{selectionStart:r,selectionEnd:i}=t.current;r!==null&&i!==null&&n.setSelectionRange(r,i)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Es(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function fo(e,t){let[n,r]=c.useState(()=>Es(e));return Y(()=>{r(Es(e))},[e.type,e.as]),Y(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function Ug(e){return c.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Wg(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function Gg(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Kg(){return Tl()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Ae();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),u=e.querySelector(d);u&&!r(u)&&(s=u)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Yg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Zg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let St=Wg(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Ae(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Zg(n)},i=[Kg(),Gg(),Yg()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});St.subscribe(()=>{let e=St.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&St.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&St.dispatch("TEARDOWN",n)}});function Xg(e,t,n=()=>({containers:[]})){let r=Ug(St),i=e?r.get(e):void 0,o=i?i.count>0:!1;return Y(()=>{if(!(!e||!t))return St.dispatch("PUSH",e,n),()=>St.dispatch("POP",e,n)},[t,e]),o}function Rl(e,t,n=()=>[document.body]){Xg(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function Ss(e){return[e.screenX,e.screenY]}function Fl(){let e=c.useRef([-1,-1]);return{wasMoved(t){let n=Ss(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Ss(t)}}}function Jg({container:e,accept:t,walk:n,enabled:r=!0}){let i=c.useRef(t),o=c.useRef(n);c.useEffect(()=>{i.current=t,o.current=n},[t,n]),Y(()=>{if(!e||!r)return;let s=kt(e);if(!s)return;let a=i.current,l=o.current,d=Object.assign(h=>a(h),{acceptNode:a}),u=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)l(u.currentNode)},[e,r,i,o])}function Ts(e,t){let n=c.useRef([]),r=F(e);c.useEffect(()=>{let i=[...n.current];for(let[o,s]of t.entries())if(n.current[o]!==s){let a=r(t,i);return n.current=t,a}},[r,...t])}function Qt(e){return jl(e)?(e.nodeName||"").toLowerCase():"#document"}function je(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function et(e){var t;return(t=(jl(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jl(e){return e instanceof Node||e instanceof je(e).Node}function Te(e){return e instanceof Element||e instanceof je(e).Element}function Ue(e){return e instanceof HTMLElement||e instanceof je(e).HTMLElement}function Os(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof je(e).ShadowRoot}function Fn(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=He(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Qg(e){return["table","td","th"].includes(Qt(e))}function po(e){const t=ho(),n=He(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ev(e){let t=dt(e);for(;Ue(t)&&!Kt(t);){if(po(t))return t;t=dt(t)}return null}function ho(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kt(e){return["html","body","#document"].includes(Qt(e))}function He(e){return je(e).getComputedStyle(e)}function Ir(e){return Te(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function dt(e){if(Qt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Os(e)&&e.host||et(e);return Os(t)?t.host:t}function Al(e){const t=dt(e);return Kt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ue(t)&&Fn(t)?t:Al(t)}function vn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Al(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=je(i);return o?t.concat(s,s.visualViewport||[],Fn(i)?i:[],s.frameElement&&n?vn(s.frameElement):[]):t.concat(i,vn(i,[],n))}function tv(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const st=Math.min,Ce=Math.max,er=Math.round,Bn=Math.floor,ft=e=>({x:e,y:e}),nv={left:"right",right:"left",bottom:"top",top:"bottom"},rv={start:"end",end:"start"};function $s(e,t,n){return Ce(e,st(t,n))}function jn(e,t){return typeof e=="function"?e(t):e}function pt(e){return e.split("-")[0]}function An(e){return e.split("-")[1]}function Il(e){return e==="x"?"y":"x"}function Pl(e){return e==="y"?"height":"width"}function In(e){return["top","bottom"].includes(pt(e))?"y":"x"}function _l(e){return Il(In(e))}function iv(e,t,n){n===void 0&&(n=!1);const r=An(e),i=_l(e),o=Pl(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=tr(s)),[s,tr(s)]}function ov(e){const t=tr(e);return[ji(e),t,ji(t)]}function ji(e){return e.replace(/start|end/g,t=>rv[t])}function sv(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function av(e,t,n,r){const i=An(e);let o=sv(pt(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(ji)))),o}function tr(e){return e.replace(/left|right|bottom|top/g,t=>nv[t])}function lv(e){return{top:0,right:0,bottom:0,left:0,...e}}function uv(e){return typeof e!="number"?lv(e):{top:e,right:e,bottom:e,left:e}}function nr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Cs(e,t,n){let{reference:r,floating:i}=e;const o=In(t),s=_l(t),a=Pl(s),l=pt(t),d=o==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(An(t)){case"start":f[s]-=m*(n&&d?-1:1);break;case"end":f[s]+=m*(n&&d?-1:1);break}return f}const cv=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=Cs(d,r,l),m=r,f={},g=0;for(let b=0;b<a.length;b++){const{name:v,fn:x}=a[b],{x:S,y:w,data:E,reset:O}=await x({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:d,platform:s,elements:{reference:e,floating:t}});u=S??u,h=w??h,f={...f,[v]:{...f[v],...E}},O&&g<=50&&(g++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:u,y:h}=Cs(d,m,l)),b=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:f}};async function Pr(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=jn(t,e),g=uv(f),v=a[m?h==="floating"?"reference":"floating":h],x=nr(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:u,strategy:l})),S=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},O=nr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:w,strategy:l}):S);return{top:(x.top-O.top+g.top)/E.y,bottom:(O.bottom-x.bottom+g.bottom)/E.y,left:(x.left-O.left+g.left)/E.x,right:(O.right-x.right+g.right)/E.x}}const dv=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...v}=jn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=pt(i),S=pt(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(d.floating)),E=m||(S||!b?[tr(a)]:ov(a));!m&&g!=="none"&&E.push(...av(a,b,g,w));const O=[a,...E],T=await Pr(t,v),$=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&$.push(T[x]),h){const k=iv(i,s,w);$.push(T[k[0]],T[k[1]])}if(C=[...C,{placement:i,overflows:$}],!$.every(k=>k<=0)){var M,z;const k=(((M=o.flip)==null?void 0:M.index)||0)+1,A=O[k];if(A)return{data:{index:k,overflows:C},reset:{placement:A}};let N=(z=C.filter(I=>I.overflows[0]<=0).sort((I,U)=>I.overflows[1]-U.overflows[1])[0])==null?void 0:z.placement;if(!N)switch(f){case"bestFit":{var R;const I=(R=C.map(U=>[U.placement,U.overflows.filter(j=>j>0).reduce((j,q)=>j+q,0)]).sort((U,j)=>U[1]-j[1])[0])==null?void 0:R[0];I&&(N=I);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function fv(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=pt(n),a=An(n),l=In(n)==="y",d=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,h=jn(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const pv=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await fv(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},hv=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:S}=v;return{x,y:S}}},...l}=jn(e,t),d={x:n,y:r},u=await Pr(t,l),h=In(pt(i)),m=Il(h);let f=d[m],g=d[h];if(o){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",S=f+u[v],w=f-u[x];f=$s(S,f,w)}if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",S=g+u[v],w=g-u[x];g=$s(S,g,w)}const b=a.fn({...t,[m]:f,[h]:g});return{...b,data:{x:b.x-n,y:b.y-r}}}}},mv=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=jn(e,t),l=await Pr(t,a),d=pt(n),u=An(n),h=In(n)==="y",{width:m,height:f}=r.floating;let g,b;d==="top"||d==="bottom"?(g=d,b=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=d,g=u==="end"?"top":"bottom");const v=f-l.top-l.bottom,x=m-l.left-l.right,S=st(f-l[g],v),w=st(m-l[b],x),E=!t.middlewareData.shift;let O=S,T=w;if(h?T=u||E?st(w,x):x:O=u||E?st(S,v):v,E&&!u){const C=Ce(l.left,0),M=Ce(l.right,0),z=Ce(l.top,0),R=Ce(l.bottom,0);h?T=m-2*(C!==0||M!==0?C+M:Ce(l.left,l.right)):O=f-2*(z!==0||R!==0?z+R:Ce(l.top,l.bottom))}await s({...t,availableWidth:T,availableHeight:O});const $=await i.getDimensions(o.floating);return m!==$.width||f!==$.height?{reset:{rects:!0}}:{}}}};function Ml(e){const t=He(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ue(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=er(n)!==o||er(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function mo(e){return Te(e)?e:e.contextElement}function qt(e){const t=mo(e);if(!Ue(t))return ft(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Ml(t);let s=(o?er(n.width):n.width)/r,a=(o?er(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const gv=ft(0);function kl(e){const t=je(e);return!ho()||!t.visualViewport?gv:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vv(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==je(e)?!1:t}function Ft(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=mo(e);let s=ft(1);t&&(r?Te(r)&&(s=qt(r)):s=qt(e));const a=vv(o,n,r)?kl(o):ft(0);let l=(i.left+a.x)/s.x,d=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const m=je(o),f=r&&Te(r)?je(r):r;let g=m,b=g.frameElement;for(;b&&r&&f!==g;){const v=qt(b),x=b.getBoundingClientRect(),S=He(b),w=x.left+(b.clientLeft+parseFloat(S.paddingLeft))*v.x,E=x.top+(b.clientTop+parseFloat(S.paddingTop))*v.y;l*=v.x,d*=v.y,u*=v.x,h*=v.y,l+=w,d+=E,g=je(b),b=g.frameElement}}return nr({width:u,height:h,x:l,y:d})}const bv=[":popover-open",":modal"];function go(e){return bv.some(t=>{try{return e.matches(t)}catch{return!1}})}function xv(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=et(r),a=t?go(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},d=ft(1);const u=ft(0),h=Ue(r);if((h||!h&&!o)&&((Qt(r)!=="body"||Fn(s))&&(l=Ir(r)),Ue(r))){const m=Ft(r);d=qt(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+u.x,y:n.y*d.y-l.scrollTop*d.y+u.y}}function yv(e){return Array.from(e.getClientRects())}function Ll(e){return Ft(et(e)).left+Ir(e).scrollLeft}function wv(e){const t=et(e),n=Ir(e),r=e.ownerDocument.body,i=Ce(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ce(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ll(e);const a=-n.scrollTop;return He(r).direction==="rtl"&&(s+=Ce(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Ev(e,t){const n=je(e),r=et(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const d=ho();(!d||d&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Sv(e,t){const n=Ft(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ue(e)?qt(e):ft(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,d=r*o.y;return{width:s,height:a,x:l,y:d}}function Rs(e,t,n){let r;if(t==="viewport")r=Ev(e,n);else if(t==="document")r=wv(et(e));else if(Te(t))r=Sv(t,n);else{const i=kl(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return nr(r)}function Dl(e,t){const n=dt(e);return n===t||!Te(n)||Kt(n)?!1:He(n).position==="fixed"||Dl(n,t)}function Tv(e,t){const n=t.get(e);if(n)return n;let r=vn(e,[],!1).filter(a=>Te(a)&&Qt(a)!=="body"),i=null;const o=He(e).position==="fixed";let s=o?dt(e):e;for(;Te(s)&&!Kt(s);){const a=He(s),l=po(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fn(s)&&!l&&Dl(e,s))?r=r.filter(u=>u!==s):i=a,s=dt(s)}return t.set(e,r),r}function Ov(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?go(t)?[]:Tv(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((d,u)=>{const h=Rs(t,u,i);return d.top=Ce(h.top,d.top),d.right=st(h.right,d.right),d.bottom=st(h.bottom,d.bottom),d.left=Ce(h.left,d.left),d},Rs(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $v(e){const{width:t,height:n}=Ml(e);return{width:t,height:n}}function Cv(e,t,n){const r=Ue(t),i=et(t),o=n==="fixed",s=Ft(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ft(0);if(r||!r&&!o)if((Qt(t)!=="body"||Fn(i))&&(a=Ir(t)),r){const h=Ft(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Ll(i));const d=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:d,y:u,width:s.width,height:s.height}}function ri(e){return He(e).position==="static"}function Fs(e,t){return!Ue(e)||He(e).position==="fixed"?null:t?t(e):e.offsetParent}function Nl(e,t){const n=je(e);if(go(e))return n;if(!Ue(e)){let i=dt(e);for(;i&&!Kt(i);){if(Te(i)&&!ri(i))return i;i=dt(i)}return n}let r=Fs(e,t);for(;r&&Qg(r)&&ri(r);)r=Fs(r,t);return r&&Kt(r)&&ri(r)&&!po(r)?n:r||ev(e)||n}const Rv=async function(e){const t=this.getOffsetParent||Nl,n=this.getDimensions,r=await n(e.floating);return{reference:Cv(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fv(e){return He(e).direction==="rtl"}const jv={convertOffsetParentRelativeRectToViewportRelativeRect:xv,getDocumentElement:et,getClippingRect:Ov,getOffsetParent:Nl,getElementRects:Rv,getClientRects:yv,getDimensions:$v,getScale:qt,isElement:Te,isRTL:Fv};function Av(e,t){let n=null,r;const i=et(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:d,top:u,width:h,height:m}=e.getBoundingClientRect();if(a||t(),!h||!m)return;const f=Bn(u),g=Bn(i.clientWidth-(d+h)),b=Bn(i.clientHeight-(u+m)),v=Bn(d),S={rootMargin:-f+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Ce(0,st(1,l))||1};let w=!0;function E(O){const T=O[0].intersectionRatio;if(T!==l){if(!w)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return s(!0),o}function Iv(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=mo(e),u=i||o?[...d?vn(d):[],...vn(t)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=d&&a?Av(d,n):null;let m=-1,f=null;s&&(f=new ResizeObserver(x=>{let[S]=x;S&&S.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),d&&!l&&f.observe(d),f.observe(t));let g,b=l?Ft(e):null;l&&v();function v(){const x=Ft(e);b&&(x.x!==b.x||x.y!==b.y||x.width!==b.width||x.height!==b.height)&&n(),b=x,g=requestAnimationFrame(v)}return n(),()=>{var x;u.forEach(S=>{i&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const ii=Pr,Pv=pv,_v=hv,Mv=dv,kv=mv,Lv=(e,t,n)=>{const r=new Map,i={platform:jv,...n},o={...i.platform,_c:r};return cv(e,t,{...i,platform:o})};var Wn=typeof document<"u"?c.useLayoutEffect:c.useEffect;function rr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rr(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!rr(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Vl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function js(e,t){const n=Vl(e);return Math.round(t*n)/n}function As(e){const t=c.useRef(e);return Wn(()=>{t.current=e}),t}function Dv(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:d}=e,[u,h]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=c.useState(r);rr(m,r)||f(r);const[g,b]=c.useState(null),[v,x]=c.useState(null),S=c.useCallback(j=>{j!==T.current&&(T.current=j,b(j))},[]),w=c.useCallback(j=>{j!==$.current&&($.current=j,x(j))},[]),E=o||g,O=s||v,T=c.useRef(null),$=c.useRef(null),C=c.useRef(u),M=l!=null,z=As(l),R=As(i),k=c.useCallback(()=>{if(!T.current||!$.current)return;const j={placement:t,strategy:n,middleware:m};R.current&&(j.platform=R.current),Lv(T.current,$.current,j).then(q=>{const G={...q,isPositioned:!0};A.current&&!rr(C.current,G)&&(C.current=G,at.flushSync(()=>{h(G)}))})},[m,t,n,R]);Wn(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[d]);const A=c.useRef(!1);Wn(()=>(A.current=!0,()=>{A.current=!1}),[]),Wn(()=>{if(E&&(T.current=E),O&&($.current=O),E&&O){if(z.current)return z.current(E,O,k);k()}},[E,O,k,z,M]);const N=c.useMemo(()=>({reference:T,floating:$,setReference:S,setFloating:w}),[S,w]),I=c.useMemo(()=>({reference:E,floating:O}),[E,O]),U=c.useMemo(()=>{const j={position:n,left:0,top:0};if(!I.floating)return j;const q=js(I.floating,u.x),G=js(I.floating,u.y);return a?{...j,transform:"translate("+q+"px, "+G+"px)",...Vl(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:G}},[n,a,I.floating,u.x,u.y]);return c.useMemo(()=>({...u,update:k,refs:N,elements:I,floatingStyles:U}),[u,k,N,I,U])}const Bl=(e,t)=>({...Pv(e),options:[e,t]}),Nv=(e,t)=>({..._v(e),options:[e,t]}),Vv=(e,t)=>({...Mv(e),options:[e,t]}),Bv=(e,t)=>({...kv(e),options:[e,t]}),zl={...pn},zv=zl.useInsertionEffect,Hv=zv||(e=>e());function Hl(e){const t=c.useRef(()=>{});return Hv(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Ai=typeof document<"u"?c.useLayoutEffect:c.useEffect;let Is=!1,qv=0;const Ps=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qv++;function Uv(){const[e,t]=c.useState(()=>Is?Ps():void 0);return Ai(()=>{e==null&&t(Ps())},[]),c.useEffect(()=>{Is=!0},[]),e}const Wv=zl.useId,Gv=Wv||Uv;function Kv(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Yv=c.createContext(null),Zv=c.createContext(null),Xv=()=>{var e;return((e=c.useContext(Yv))==null?void 0:e.id)||null},Jv=()=>c.useContext(Zv);function Qv(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Gv(),o=c.useRef({}),[s]=c.useState(()=>Kv()),a=Xv()!=null,[l,d]=c.useState(r.reference),u=Hl((f,g,b)=>{o.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:b,nested:a}),n==null||n(f,g,b)}),h=c.useMemo(()=>({setPositionReference:d}),[]),m=c.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return c.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:m,events:s,floatingId:i,refs:h}),[t,u,m,s,i,h])}function eb(e){e===void 0&&(e={});const{nodeId:t}=e,n=Qv({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=c.useState(null),[a,l]=c.useState(null),u=(i==null?void 0:i.reference)||o,h=c.useRef(null),m=Jv();Ai(()=>{u&&(h.current=u)},[u]);const f=Dv({...e,elements:{...i,...a&&{reference:a}}}),g=c.useCallback(w=>{const E=Te(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(E),f.refs.setReference(E)},[f.refs]),b=c.useCallback(w=>{(Te(w)||w===null)&&(h.current=w,s(w)),(Te(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!Te(w))&&f.refs.setReference(w)},[f.refs]),v=c.useMemo(()=>({...f.refs,setReference:b,setPositionReference:g,domReference:h}),[f.refs,b,g]),x=c.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),S=c.useMemo(()=>({...f,...r,refs:v,elements:x,nodeId:t}),[f,v,x,t,r]);return Ai(()=>{r.dataRef.current.floatingContext=S;const w=m==null?void 0:m.nodesRef.current.find(E=>E.id===t);w&&(w.context=S)}),c.useMemo(()=>({...f,context:S,refs:v,elements:x}),[f,v,x,S])}const _s="active",Ms="selected";function oi(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[_s]:s,[Ms]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[d,u]=l;if(!(i&&[_s,Ms].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof u=="function"){var h;(h=r.get(d))==null||h.push(u),s[d]=function(){for(var m,f=arguments.length,g=new Array(f),b=0;b<f;b++)g[b]=arguments[b];return(m=r.get(d))==null?void 0:m.map(v=>v(...g)).find(v=>v!==void 0)}}}else s[d]=u}),s),{})}}function tb(e){e===void 0&&(e=[]);const t=e,n=c.useCallback(o=>oi(o,e,"reference"),t),r=c.useCallback(o=>oi(o,e,"floating"),t),i=c.useCallback(o=>oi(o,e,"item"),e.map(o=>o==null?void 0:o.item));return c.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function ks(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const nb=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:d,...u}=e,{rects:h,elements:{floating:m}}=t,f=n.current[s];if(!f)return{};const g={...t,...await Bl(-f.offsetTop-m.clientTop-h.reference.height/2-f.offsetHeight/2-o).fn(t)},b=(d==null?void 0:d.current)||m,v=await ii(ks(g,b.scrollHeight),u),x=await ii(g,{...u,elementContext:"reference"}),S=Math.max(0,v.top),w=g.y+S,E=Math.max(0,b.scrollHeight-S-Math.max(0,v.bottom));return b.style.maxHeight=E+"px",b.scrollTop=S,i&&(b.offsetHeight<f.offsetHeight*Math.min(a,n.current.length-1)-1||x.top>=-l||x.bottom>=-l?at.flushSync(()=>i(!0)):at.flushSync(()=>i(!1))),r&&(r.current=await ii(ks({...g,y:w},b.offsetHeight),u)),{y:w}}});function rb(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=Hl(a),d=c.useRef(!1),u=c.useRef(null),h=c.useRef(null);return c.useEffect(()=>{if(!i)return;function m(g){if(g.ctrlKey||!f||o.current==null)return;const b=g.deltaY,v=o.current.top>=-.5,x=o.current.bottom>=-.5,S=f.scrollHeight-f.clientHeight,w=b<0?-1:1,E=b<0?"max":"min";f.scrollHeight<=f.clientHeight||(!v&&b>0||!x&&b<0?(g.preventDefault(),at.flushSync(()=>{l(O=>O+Math[E](b,S*w))})):/firefox/i.test(tv())&&(f.scrollTop+=b))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",m),requestAnimationFrame(()=>{u.current=f.scrollTop,o.current!=null&&(h.current={...o.current})}),()=>{u.current=null,h.current=null,f.removeEventListener("wheel",m)}},[i,n,r.floating,o,s,l]),c.useMemo(()=>i?{floating:{onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const m=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!m||!d.current)){if(u.current!==null){const f=m.scrollTop-u.current;(o.current.bottom<-.5&&f<-1||o.current.top<-.5&&f>1)&&at.flushSync(()=>l(g=>g+f))}requestAnimationFrame(()=>{u.current=m.scrollTop})}}}}:{},[i,o,r.floating,s,l])}let en=c.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});en.displayName="FloatingContext";let vo=c.createContext(null);vo.displayName="PlacementContext";function ql(e){return c.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Ul(){return c.useContext(en).setReference}function ib(){return c.useContext(en).getReferenceProps}function Wl(){let{getFloatingProps:e,slot:t}=c.useContext(en);return c.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Gl(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=c.useContext(vo),n=c.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(i,o)=>o instanceof HTMLElement?o.outerHTML:o:void 0)]);Y(()=>{t==null||t(n??null)},[t,n]);let r=c.useContext(en);return c.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Ls=4;function Kl({children:e,enabled:t=!0}){let[n,r]=c.useState(null),[i,o]=c.useState(0),s=c.useRef(null),[a,l]=c.useState(null);ob(a);let d=t&&n!==null&&a!==null,{to:u="bottom",gap:h=0,offset:m=0,padding:f=0,inner:g}=sb(n,a),[b,v="center"]=u.split(" ");Y(()=>{d&&o(0)},[d]);let{refs:x,floatingStyles:S,context:w}=eb({open:d,placement:b==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${b}`:`${b}-${v}`,strategy:"absolute",transform:!1,middleware:[Bl({mainAxis:b==="selection"?0:h,crossAxis:m}),Nv({padding:f}),b!=="selection"&&Vv({padding:f}),b==="selection"&&g?nb({...g,padding:f,overflowRef:s,offset:i,minItemsVisible:Ls,referenceOverflowThreshold:f,onFallbackChange(R){var k,A;if(!R)return;let N=w.elements.floating;if(!N)return;let I=parseFloat(getComputedStyle(N).scrollPaddingBottom)||0,U=Math.min(Ls,N.childElementCount),j=0,q=0;for(let G of(A=(k=w.elements.floating)==null?void 0:k.childNodes)!=null?A:[])if(G instanceof HTMLElement){let ce=G.offsetTop,ve=ce+G.clientHeight+I,oe=N.scrollTop,he=oe+N.clientHeight;if(ce>=oe&&ve<=he)U--;else{q=Math.max(0,Math.min(ve,he)-Math.max(ce,oe)),j=G.clientHeight;break}}U>=1&&o(G=>{let ce=j*U-q+I;return G>=ce?G:ce})}}):null,Bv({padding:f,apply({availableWidth:R,availableHeight:k,elements:A}){Object.assign(A.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${k}px)`})}})].filter(Boolean),whileElementsMounted:Iv}),[E=b,O=v]=w.placement.split("-");b==="selection"&&(E="selection");let T=c.useMemo(()=>({anchor:[E,O].filter(Boolean).join(" ")}),[E,O]),$=rb(w,{overflowRef:s,onChange:o}),{getReferenceProps:C,getFloatingProps:M}=tb([$]),z=F(R=>{l(R),x.setFloating(R)});return c.createElement(vo.Provider,{value:r},c.createElement(en.Provider,{value:{setFloating:z,setReference:x.setReference,styles:S,getReferenceProps:C,getFloatingProps:M,slot:T}},e))}function ob(e){Y(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=e.style.maxHeight;parseFloat(n)!==parseInt(n)&&(e.style.maxHeight=`${Math.ceil(parseFloat(n))}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function sb(e,t){var n,r,i;let o=si((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=si((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=si((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}function si(e,t,n=void 0){let r=De(),i=F((l,d)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!d)return[n,null];let u=Ds(l,d);return[u,h=>{let m=Yl(l);{let f=m.map(g=>window.getComputedStyle(d).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let b=!1;for(let[x,S]of m.entries()){let w=window.getComputedStyle(d).getPropertyValue(S);if(f[x]!==w){f[x]=w,b=!0;break}}if(!b)return;let v=Ds(l,d);u!==v&&(h(v),u=v)})}return r.dispose}]}return[n,null]}),o=c.useMemo(()=>i(e,t)[0],[e,t]),[s=o,a]=c.useState();return Y(()=>{let[l,d]=i(e,t);if(a(l),!!d)return d(a)},[e,t]),s}function Yl(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...Yl(i)]:[r]}return[]}function Ds(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let bo=c.createContext(null);bo.displayName="OpenClosedContext";var xe=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(xe||{});function _r(){return c.useContext(bo)}function xo({value:e,children:t}){return V.createElement(bo.Provider,{value:e},t)}function ab(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let wt=[];ab(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&wt[0]!==t.target&&(wt.unshift(t.target),wt=wt.filter(n=>n!=null&&n.isConnected),wt.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function lb(e){throw new Error("Unexpected object: "+e)}var K=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(K||{});function fn(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:lb(e)}}var yo=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(yo||{});function ub(e){let t=F(e),n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,oo(()=>{n.current&&t()})}),[t])}function cb(){let e=typeof document>"u";return"useSyncExternalStore"in pn?(t=>t.useSyncExternalStore)(pn)(()=>()=>{},()=>!1,()=>!e):!1}function wo(){let e=cb(),[t,n]=c.useState($t.isHandoffComplete);return t&&$t.isHandoffComplete===!1&&n(!1),c.useEffect(()=>{t!==!0&&n(!0)},[t]),c.useEffect(()=>$t.handoff(),[]),e?!1:t}let db=c.createContext(!1);function fb(){return c.useContext(db)}function pb(e){let t=fb(),n=c.useContext(Xl),r=Rn(e),[i,o]=c.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if($t.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return c.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),c.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let Zl=c.Fragment,hb=ue(function(e,t){let n=e,r=c.useRef(null),i=pe(dg(u=>{r.current=u}),t),o=Rn(r),s=pb(r),[a]=c.useState(()=>{var u;return $t.isServer?null:(u=o==null?void 0:o.createElement("div"))!=null?u:null}),l=c.useContext(bb),d=wo();return Y(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),Y(()=>{if(a&&l)return l.register(a)},[l,a]),ub(()=>{var u;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((u=s.parentElement)==null||u.removeChild(s)))}),d?!s||!a?null:at.createPortal(de({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Zl,name:"Portal"}),a):null});function mb(e,t){let n=pe(t),{enabled:r=!0,...i}=e;return r?V.createElement(hb,{...i,ref:n}):de({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Zl,name:"Portal"})}let gb=c.Fragment,Xl=c.createContext(null);function vb(e,t){let{target:n,...r}=e,i={ref:pe(t)};return V.createElement(Xl.Provider,{value:n},de({ourProps:i,theirProps:r,defaultTag:gb,name:"Popover.Group"}))}let bb=c.createContext(null),xb=ue(mb),yb=ue(vb),Jl=Object.assign(xb,{Group:yb});var wb={},Eb=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Eb||{}),Sb=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Sb||{}),Tb=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Tb||{}),Ob=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.SetActivationTrigger=5]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=6]="UpdateVirtualConfiguration",e))(Ob||{});function ai(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,a)=>s.dataRef.current.order-a.dataRef.current.order):ot(r,s=>s.dataRef.current.domRef.current),o=n?i.indexOf(n):null;return o===-1&&(o=null),{options:i,activeOptionIndex:o}}let $b={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},2(e,t){var n,r,i,o,s;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((i=e.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:h}=e.virtual,m=t.focus===K.Specific?t.idx:fn(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var g,b;return(b=(g=e.activeOptionIndex)!=null?g:u.findIndex(v=>!h(v)))!=null?b:null},resolveDisabled:h,resolveId(){throw new Error("Function not implemented.")}}),f=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===m&&e.activationTrigger===f?e:{...e,activeOptionIndex:m,activationTrigger:f,__demoMode:!1}}let a=ai(e);if(a.activeOptionIndex===null){let u=a.options.findIndex(h=>!h.dataRef.current.disabled);u!==-1&&(a.activeOptionIndex=u)}let l=t.focus===K.Specific?t.idx:fn(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),d=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===l&&e.activationTrigger===d?e:{...e,...a,activeOptionIndex:l,activationTrigger:d,__demoMode:!1}},3:(e,t)=>{var n,r,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let o=t.payload,s=ai(e,l=>(l.push(o),l));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(o));let a={...e,...s,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let r=ai(e,i=>{let o=i.findIndex(s=>s.id===t.id);return o!==-1&&i.splice(o,1),i});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},6:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?i=o:i=null}return{...e,activeOptionIndex:i,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}}},Eo=c.createContext(null);Eo.displayName="ComboboxActionsContext";function Pn(e){let t=c.useContext(Eo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pn),n}return t}let Ql=c.createContext(null);function Cb(e){let t=tn("VirtualProvider"),{options:n}=t.virtual,[r,i]=c.useMemo(()=>{let d=t.optionsRef.current;if(!d)return[0,0];let u=window.getComputedStyle(d);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[t.optionsRef.current]),o=Ag({scrollPaddingStart:r,scrollPaddingEnd:i,count:n.length,estimateSize(){return 40},getScrollElement(){var d;return(d=t.optionsRef.current)!=null?d:null},overscan:12}),[s,a]=c.useState(0);Y(()=>{a(d=>d+1)},[n]);let l=o.getVirtualItems();return l.length===0?null:V.createElement(Ql.Provider,{value:o},V.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:d=>{if(d){if(typeof process<"u"&&wb.JEST_WORKER_ID!==void 0||t.activationTrigger===0)return;t.activeOptionIndex!==null&&n.length>t.activeOptionIndex&&o.scrollToIndex(t.activeOptionIndex)}}},l.map(d=>{var u;return V.createElement(c.Fragment,{key:d.key},V.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n[d.index],open:t.comboboxState===0}),{key:`${s}-${d.key}`,"data-index":d.index,"aria-setsize":n.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let Mr=c.createContext(null);Mr.displayName="ComboboxDataContext";function tn(e){let t=c.useContext(Mr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tn),n}return t}function Rb(e,t){return re(t.type,$b,e,t)}let Fb=c.Fragment;function jb(e,t){var n,r;let i=Rr(),{value:o,defaultValue:s,onChange:a,form:l,name:d,by:u,disabled:h=i||!1,onClose:m,__demoMode:f=!1,multiple:g=!1,immediate:b=!1,virtual:v=null,nullable:x,...S}=e,w=ll(s),[E=g?[]:void 0,O]=al(o,a,w),[T,$]=c.useReducer(Rb,{dataRef:c.createRef(),comboboxState:f?0:1,options:[],virtual:v?{options:v.options,disabled:(n=v.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:f}),C=c.useRef(!1),M=c.useRef({static:!1,hold:!1}),z=c.useRef(null),R=c.useRef(null),k=c.useRef(null),A=wl(u),N=F(B=>v?u===null?v.options.indexOf(B):v.options.findIndex(J=>A(J,B)):T.options.findIndex(J=>A(J.dataRef.current.value,B))),I=c.useCallback(B=>re(j.mode,{1:()=>E.some(J=>A(J,B)),0:()=>A(E,B)}),[E]),U=F(B=>T.activeOptionIndex===N(B)),j=c.useMemo(()=>({...T,immediate:b,optionsPropsRef:M,inputRef:z,buttonRef:R,optionsRef:k,value:E,defaultValue:w,disabled:h,mode:g?1:0,virtual:v?T.virtual:null,get activeOptionIndex(){if(C.current&&T.activeOptionIndex===null&&(v?v.options.length>0:T.options.length>0)){if(v){let J=v.options.findIndex(we=>{var Dt,Mn;return!((Mn=(Dt=v.disabled)==null?void 0:Dt.call(v,we))!=null&&Mn)});if(J!==-1)return J}let B=T.options.findIndex(J=>!J.dataRef.current.disabled);if(B!==-1)return B}return T.activeOptionIndex},calculateIndex:N,compare:A,isSelected:I,isActive:U}),[E,w,h,g,f,T,v]);Y(()=>{var B;v&&$({type:6,options:v.options,disabled:(B=v.disabled)!=null?B:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),Y(()=>{T.dataRef.current=j},[j]),$l([j.buttonRef,j.inputRef,j.optionsRef],()=>Q.closeCombobox(),j.comboboxState===0);let q=c.useMemo(()=>{var B,J,we;return{open:j.comboboxState===0,disabled:h,activeIndex:j.activeOptionIndex,activeOption:j.activeOptionIndex===null?null:j.virtual?j.virtual.options[(B=j.activeOptionIndex)!=null?B:0]:(we=(J=j.options[j.activeOptionIndex])==null?void 0:J.dataRef.current.value)!=null?we:null,value:E}},[j,h,E]),G=F(()=>{if(j.activeOptionIndex!==null){if(j.virtual)L(j.virtual.options[j.activeOptionIndex]);else{let{dataRef:B}=j.options[j.activeOptionIndex];L(B.current.value)}Q.goToOption(K.Specific,j.activeOptionIndex)}}),ce=F(()=>{$({type:0}),C.current=!0}),ve=F(()=>{$({type:1}),C.current=!1,m==null||m()}),oe=F((B,J,we)=>(C.current=!1,B===K.Specific?$({type:2,focus:K.Specific,idx:J,trigger:we}):$({type:2,focus:B,trigger:we}))),he=F((B,J)=>($({type:3,payload:{id:B,dataRef:J}}),()=>{j.isActive(J.current.value)&&(C.current=!0),$({type:4,id:B})})),L=F(B=>re(j.mode,{0(){return O==null?void 0:O(B)},1(){let J=j.value.slice(),we=J.findIndex(Dt=>A(Dt,B));return we===-1?J.push(B):J.splice(we,1),O==null?void 0:O(J)}})),fe=F(B=>{$({type:5,trigger:B})}),Q=c.useMemo(()=>({onChange:L,registerOption:he,goToOption:oe,closeCombobox:ve,openCombobox:ce,setActivationTrigger:fe,selectActiveOption:G}),[]),[te,X]=bl(),be=t===null?{}:{ref:t},ee=c.useCallback(()=>{if(w!==void 0)return O==null?void 0:O(w)},[O,w]);return V.createElement(X,{value:te,props:{htmlFor:(r=j.inputRef.current)==null?void 0:r.id},slot:{open:j.comboboxState===0,disabled:h}},V.createElement(Kl,null,V.createElement(Eo.Provider,{value:Q},V.createElement(Mr.Provider,{value:j},V.createElement(xo,{value:re(j.comboboxState,{0:xe.Open,1:xe.Closed})},d!=null&&V.createElement(fl,{disabled:h,data:E!=null?{[d]:E}:{},form:l,onReset:ee}),de({ourProps:be,theirProps:S,slot:q,defaultTag:Fb,name:"Combobox"}))))))}let Ab="input";function Ib(e,t){var n,r,i,o,s;let a=tn("Combobox.Input"),l=Pn("Combobox.Input"),d=c.useId(),u=ao(),{id:h=u||`headlessui-combobox-input-${d}`,onChange:m,displayValue:f,disabled:g=a.disabled||!1,autoFocus:b=!1,type:v="text",...x}=e,S=pe(a.inputRef,t,Ul()),w=Rn(a.inputRef),E=c.useRef(!1),O=De(),T=F(()=>{l.onChange(null),a.optionsRef.current&&(a.optionsRef.current.scrollTop=0),l.goToOption(K.Nothing)}),$=c.useMemo(()=>{var L;return typeof f=="function"&&a.value!==void 0?(L=f(a.value))!=null?L:"":typeof a.value=="string"?a.value:""},[a.value,f]);Ts(([L,fe],[Q,te])=>{if(E.current)return;let X=a.inputRef.current;X&&((te===0&&fe===1||L!==Q)&&(X.value=L),requestAnimationFrame(()=>{if(E.current||!X||(w==null?void 0:w.activeElement)!==X)return;let{selectionStart:be,selectionEnd:ee}=X;Math.abs((ee??0)-(be??0))===0&&be===0&&X.setSelectionRange(X.value.length,X.value.length)}))},[$,a.comboboxState,w]),Ts(([L],[fe])=>{if(L===0&&fe===1){if(E.current)return;let Q=a.inputRef.current;if(!Q)return;let te=Q.value,{selectionStart:X,selectionEnd:be,selectionDirection:ee}=Q;Q.value="",Q.value=te,ee!==null?Q.setSelectionRange(X,be,ee):Q.setSelectionRange(X,be)}},[a.comboboxState]);let C=c.useRef(!1),M=F(()=>{C.current=!0}),z=F(()=>{O.nextFrame(()=>{C.current=!1})}),R=_g(),k=F(L=>{switch(E.current=!0,R(()=>{E.current=!1}),L.key){case W.Enter:if(E.current=!1,a.comboboxState!==0||C.current)return;if(L.preventDefault(),L.stopPropagation(),a.activeOptionIndex===null){l.closeCombobox();return}l.selectActiveOption(),a.mode===0&&l.closeCombobox();break;case W.ArrowDown:return E.current=!1,L.preventDefault(),L.stopPropagation(),re(a.comboboxState,{0:()=>l.goToOption(K.Next),1:()=>l.openCombobox()});case W.ArrowUp:return E.current=!1,L.preventDefault(),L.stopPropagation(),re(a.comboboxState,{0:()=>l.goToOption(K.Previous),1:()=>{l.openCombobox(),O.nextFrame(()=>{a.value||l.goToOption(K.Last)})}});case W.Home:if(L.shiftKey)break;return E.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.First);case W.PageUp:return E.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.First);case W.End:if(L.shiftKey)break;return E.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.Last);case W.PageDown:return E.current=!1,L.preventDefault(),L.stopPropagation(),l.goToOption(K.Last);case W.Escape:return E.current=!1,a.comboboxState!==0?void 0:(L.preventDefault(),a.optionsRef.current&&!a.optionsPropsRef.current.static&&L.stopPropagation(),a.mode===0&&a.value===null&&T(),l.closeCombobox());case W.Tab:if(E.current=!1,a.comboboxState!==0)return;a.mode===0&&a.activationTrigger!==1&&l.selectActiveOption(),l.closeCombobox();break}}),A=F(L=>{m==null||m(L),a.mode===0&&L.target.value===""&&T(),l.openCombobox()}),N=F(L=>{var fe,Q,te;let X=(fe=L.relatedTarget)!=null?fe:wt.find(be=>be!==L.currentTarget);if(E.current=!1,!((Q=a.optionsRef.current)!=null&&Q.contains(X))&&!((te=a.buttonRef.current)!=null&&te.contains(X))&&a.comboboxState===0)return L.preventDefault(),a.mode===0&&a.value===null&&T(),l.closeCombobox()}),I=F(L=>{var fe,Q,te;let X=(fe=L.relatedTarget)!=null?fe:wt.find(be=>be!==L.currentTarget);(Q=a.buttonRef.current)!=null&&Q.contains(X)||(te=a.optionsRef.current)!=null&&te.contains(X)||a.disabled||a.immediate&&a.comboboxState!==0&&(l.openCombobox(),O.nextFrame(()=>{l.setActivationTrigger(1)}))}),U=Cn(),j=gl(),{isFocused:q,focusProps:G}=$n({autoFocus:b}),{isHovered:ce,hoverProps:ve}=Cr({isDisabled:g}),oe=c.useMemo(()=>({open:a.comboboxState===0,disabled:g,hover:ce,focus:q,autofocus:b}),[a,ce,q,b,g]),he=Lt({ref:S,id:h,role:"combobox",type:v,"aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.comboboxState===0,"aria-activedescendant":a.activeOptionIndex===null?void 0:a.virtual?(r=a.options.find(L=>!L.dataRef.current.disabled&&a.compare(L.dataRef.current.value,a.virtual.options[a.activeOptionIndex])))==null?void 0:r.id:(i=a.options[a.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":U,"aria-describedby":j,"aria-autocomplete":"list",defaultValue:(s=(o=e.defaultValue)!=null?o:a.defaultValue!==void 0?f==null?void 0:f(a.defaultValue):null)!=null?s:a.defaultValue,disabled:g||void 0,autoFocus:b,onCompositionStart:M,onCompositionEnd:z,onKeyDown:k,onChange:A,onFocus:I,onBlur:N},G,ve);return de({ourProps:he,theirProps:x,slot:oe,defaultTag:Ab,name:"Combobox.Input"})}let Pb="button";function _b(e,t){var n;let r=tn("Combobox.Button"),i=Pn("Combobox.Button"),o=pe(r.buttonRef,t),s=c.useId(),{id:a=`headlessui-combobox-button-${s}`,disabled:l=r.disabled||!1,autoFocus:d=!1,...u}=e,h=De(),m=Cl(r.inputRef),f=F(C=>{switch(C.key){case W.Space:case W.Enter:return C.preventDefault(),C.stopPropagation(),r.comboboxState===1&&i.openCombobox(),h.nextFrame(()=>m());case W.ArrowDown:return C.preventDefault(),C.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),h.nextFrame(()=>{r.value||i.goToOption(K.First)})),h.nextFrame(()=>m());case W.ArrowUp:return C.preventDefault(),C.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),h.nextFrame(()=>{r.value||i.goToOption(K.Last)})),h.nextFrame(()=>m());case W.Escape:return r.comboboxState!==0?void 0:(C.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&C.stopPropagation(),i.closeCombobox(),h.nextFrame(()=>m()));default:return}}),g=F(C=>{C.preventDefault(),!pl(C.currentTarget)&&(C.button===yo.Left&&(r.comboboxState===0?i.closeCombobox():i.openCombobox()),m())}),b=Cn([a]),{isFocusVisible:v,focusProps:x}=$n({autoFocus:d}),{isHovered:S,hoverProps:w}=Cr({isDisabled:l}),{pressed:E,pressProps:O}=so({disabled:l}),T=c.useMemo(()=>({open:r.comboboxState===0,active:E||r.comboboxState===0,disabled:l,value:r.value,hover:S,focus:v}),[r,S,v,E,l]),$=Lt({ref:o,id:a,type:fo(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":b,disabled:l||void 0,autoFocus:d,onMouseDown:g,onKeyDown:f},x,w,O);return de({ourProps:$,theirProps:u,slot:T,defaultTag:Pb,name:"Combobox.Button"})}let Mb="div",kb=ct.RenderStrategy|ct.Static;function Lb(e,t){var n;let r=c.useId(),{id:i=`headlessui-combobox-options-${r}`,hold:o=!1,anchor:s,portal:a=!1,modal:l=!0,...d}=e,u=tn("Combobox.Options"),h=Pn("Combobox.Options"),m=ql(s);m&&(a=!0);let[f,g]=Gl(m),b=Wl(),v=pe(u.optionsRef,t,m?f:null),x=Rn(u.optionsRef),S=_r(),w=S!==null?(S&xe.Open)===xe.Open:u.comboboxState===0;uo(u.inputRef,h.closeCombobox,w),Rl(x,u.__demoMode?!1:l&&u.comboboxState===0),El({allowed:F(()=>[u.inputRef.current,u.buttonRef.current,u.optionsRef.current])},u.__demoMode?!1:l&&u.comboboxState===0),Y(()=>{var R;u.optionsPropsRef.current.static=(R=e.static)!=null?R:!1},[u.optionsPropsRef,e.static]),Y(()=>{u.optionsPropsRef.current.hold=o},[u.optionsPropsRef,o]),Jg({container:u.optionsRef.current,enabled:u.comboboxState===0,accept(R){return R.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:R.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(R){R.setAttribute("role","none")}});let E=Cn([(n=u.buttonRef.current)==null?void 0:n.id]),O=c.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u]),T=F(()=>{h.setActivationTrigger(0)}),$=Lt(m?b():{},{"aria-labelledby":E,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:i,ref:v,style:{...g,"--input-width":Ci(u.inputRef,!0).width,"--button-width":Ci(u.buttonRef,!0).width},onWheel:T});u.virtual&&w&&Object.assign(d,{children:V.createElement(Cb,null,d.children)});let[C,M]=c.useState(u.value);u.value!==C&&u.comboboxState===0&&u.mode!==1&&M(u.value);let z=F(R=>u.compare(C,R));return V.createElement(Jl,{enabled:a?e.static||w:!1},V.createElement(Mr.Provider,{value:u.mode===1?u:{...u,isSelected:z}},de({ourProps:$,theirProps:d,slot:O,defaultTag:Mb,features:kb,visible:w,name:"Combobox.Options"})))}let Db="div";function Nb(e,t){var n,r,i,o;let s=tn("Combobox.Option"),a=Pn("Combobox.Option"),l=c.useId(),{id:d=`headlessui-combobox-option-${l}`,value:u,disabled:h=(i=(r=(n=s.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,u))!=null?i:!1,order:m=null,...f}=e,g=Cl(s.inputRef),b=s.virtual?s.activeOptionIndex===s.calculateIndex(u):s.activeOptionIndex===null?!1:((o=s.options[s.activeOptionIndex])==null?void 0:o.id)===d,v=s.isSelected(u),x=c.useRef(null),S=ye({disabled:h,value:u,domRef:x,order:m}),w=c.useContext(Ql),E=pe(t,x,w?w.measureElement:null),O=F(()=>a.onChange(u));Y(()=>a.registerOption(d,S),[S,d]);let T=c.useRef(!(s.virtual||s.__demoMode));Y(()=>{if(!s.virtual&&!s.__demoMode)return Ae().requestAnimationFrame(()=>{T.current=!0})},[s.virtual,s.__demoMode]),Y(()=>{if(T.current&&s.comboboxState===0&&b&&s.activationTrigger!==0)return Ae().requestAnimationFrame(()=>{var N,I;(I=(N=x.current)==null?void 0:N.scrollIntoView)==null||I.call(N,{block:"nearest"})})},[x,b,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let $=F(N=>{N.preventDefault(),N.button===yo.Left&&(h||(O(),Ol()||requestAnimationFrame(()=>g()),s.mode===0&&a.closeCombobox()))}),C=F(()=>{if(h)return a.goToOption(K.Nothing);let N=s.calculateIndex(u);a.goToOption(K.Specific,N)}),M=Fl(),z=F(N=>M.update(N)),R=F(N=>{if(!M.wasMoved(N)||h||b)return;let I=s.calculateIndex(u);a.goToOption(K.Specific,I,0)}),k=F(N=>{M.wasMoved(N)&&(h||b&&(s.optionsPropsRef.current.hold||a.goToOption(K.Nothing)))}),A=c.useMemo(()=>({active:b,focus:b,selected:v,disabled:h}),[b,v,h]);return de({ourProps:{id:d,ref:E,role:"option",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:$,onFocus:C,onPointerEnter:z,onMouseEnter:z,onPointerMove:R,onMouseMove:R,onPointerLeave:k,onMouseLeave:k},theirProps:f,slot:A,defaultTag:Db,name:"Combobox.Option"})}let Vb=ue(jb),Bb=ue(_b),eu=ue(Ib),zb=xl,tu=ue(Lb),nu=ue(Nb),Hb=Object.assign(Vb,{Input:eu,Button:Bb,Label:zb,Options:tu,Option:nu});function kr(){let e=c.useRef(!1);return Y(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function qb(e,t){let[n,r]=c.useState(e),i=ye(e);return Y(()=>r(i.current),[i,r,...t]),n}function Ub(e,t=!0){let n=c.useRef({left:0,top:0});if(Y(()=>{let i=e.current;if(!i)return;let o=i.getBoundingClientRect();o&&(n.current=o)},[t]),e.current==null||!t||e.current===document.activeElement)return!1;let r=e.current.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Ns=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Vs(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return Ns.test(s)&&(s=s.replace(Ns,"")),s}function Wb(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():Vs(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Vs(e).trim()}function Gb(e){let t=c.useRef(""),n=c.useRef("");return F(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=Wb(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var Kb=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Kb||{}),Yb=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Yb||{}),Zb=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Zb||{}),Xb=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e))(Xb||{});function li(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ot(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Jb={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===K.Nothing)return{...a,activeOptionIndex:null};if(t.focus===K.Specific)return{...a,activeOptionIndex:e.options.findIndex(u=>u.id===t.id)};if(t.focus===K.Previous){let u=e.activeOptionIndex;if(u!==null){let h=e.options[u].dataRef.current.domRef,m=fn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(m!==null){let f=e.options[m].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:m}}}}else if(t.focus===K.Next){let u=e.activeOptionIndex;if(u!==null){let h=e.options[u].dataRef.current.domRef,m=fn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(m!==null){let f=e.options[m].dataRef.current.domRef;if(((o=h.current)==null?void 0:o.nextElementSibling)===f.current||((s=f.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeOptionIndex:m}}}}let l=li(e),d=fn(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeOptionIndex:d}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var a;return!s.dataRef.current.disabled&&((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=li(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=li(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}}},So=c.createContext(null);So.displayName="ListboxActionsContext";function Lr(e){let t=c.useContext(So);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lr),n}return t}let Dr=c.createContext(null);Dr.displayName="ListboxDataContext";function _n(e){let t=c.useContext(Dr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_n),n}return t}function Qb(e,t){return re(t.type,Jb,e,t)}let e0=c.Fragment;function t0(e,t){var n;let r=Rr(),{value:i,defaultValue:o,form:s,name:a,onChange:l,by:d,invalid:u=!1,disabled:h=r||!1,horizontal:m=!1,multiple:f=!1,__demoMode:g=!1,...b}=e;const v=m?"horizontal":"vertical";let x=pe(t),S=ll(o),[w=f?[]:void 0,E]=al(i,l,S),[O,T]=c.useReducer(Qb,{dataRef:c.createRef(),listboxState:g?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,__demoMode:g}),$=c.useRef({static:!1,hold:!1}),C=c.useRef(null),M=c.useRef(null),z=c.useRef(new Map),R=wl(d),k=c.useCallback(ee=>re(A.mode,{1:()=>w.some(B=>R(B,ee)),0:()=>R(w,ee)}),[w]),A=c.useMemo(()=>({...O,value:w,disabled:h,invalid:u,mode:f?1:0,orientation:v,compare:R,isSelected:k,optionsPropsRef:$,buttonRef:C,optionsRef:M,listRef:z}),[w,h,u,f,O,z]);Y(()=>{O.dataRef.current=A},[A]),$l([A.buttonRef,A.optionsRef],(ee,B)=>{var J;T({type:1}),Sl(B,co.Loose)||(ee.preventDefault(),(J=A.buttonRef.current)==null||J.focus())},A.listboxState===0);let N=c.useMemo(()=>({open:A.listboxState===0,disabled:h,invalid:u,value:w}),[A,h,w,u]),I=F(ee=>{let B=A.options.find(J=>J.id===ee);B&&oe(B.dataRef.current.value)}),U=F(()=>{if(A.activeOptionIndex!==null){let{dataRef:ee,id:B}=A.options[A.activeOptionIndex];oe(ee.current.value),T({type:2,focus:K.Specific,id:B})}}),j=F(()=>T({type:0})),q=F(()=>T({type:1})),G=De(),ce=F((ee,B,J)=>{G.dispose(),G.microTask(()=>ee===K.Specific?T({type:2,focus:K.Specific,id:B,trigger:J}):T({type:2,focus:ee,trigger:J}))}),ve=F((ee,B)=>(T({type:5,id:ee,dataRef:B}),()=>T({type:6,id:ee}))),oe=F(ee=>re(A.mode,{0(){return E==null?void 0:E(ee)},1(){let B=A.value.slice(),J=B.findIndex(we=>R(we,ee));return J===-1?B.push(ee):B.splice(J,1),E==null?void 0:E(B)}})),he=F(ee=>T({type:3,value:ee})),L=F(()=>T({type:4})),fe=c.useMemo(()=>({onChange:oe,registerOption:ve,goToOption:ce,closeListbox:q,openListbox:j,selectActiveOption:U,selectOption:I,search:he,clearSearch:L}),[]),[Q,te]=bl({inherit:!0}),X={ref:x},be=c.useCallback(()=>{if(S!==void 0)return E==null?void 0:E(S)},[E,S]);return V.createElement(te,{value:Q,props:{htmlFor:(n=A.buttonRef.current)==null?void 0:n.id},slot:{open:A.listboxState===0,disabled:h}},V.createElement(Kl,null,V.createElement(So.Provider,{value:fe},V.createElement(Dr.Provider,{value:A},V.createElement(xo,{value:re(A.listboxState,{0:xe.Open,1:xe.Closed})},a!=null&&w!=null&&V.createElement(fl,{disabled:h,data:{[a]:w},form:s,onReset:be}),de({ourProps:X,theirProps:b,slot:N,defaultTag:e0,name:"Listbox"}))))))}let n0="button";function r0(e,t){var n;let r=_n("Listbox.Button"),i=Lr("Listbox.Button"),o=c.useId(),s=ao(),{id:a=s||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:d=!1,...u}=e,h=pe(r.buttonRef,t,Ul()),m=ib(),f=De(),g=F(k=>{switch(k.key){case W.Enter:rg(k.currentTarget);break;case W.Space:case W.ArrowDown:k.preventDefault(),i.openListbox(),f.nextFrame(()=>{r.value||i.goToOption(K.First)});break;case W.ArrowUp:k.preventDefault(),i.openListbox(),f.nextFrame(()=>{r.value||i.goToOption(K.Last)});break}}),b=F(k=>{switch(k.key){case W.Space:k.preventDefault();break}}),v=F(k=>{if(pl(k.currentTarget))return k.preventDefault();r.listboxState===0?(i.closeListbox(),f.nextFrame(()=>{var A;return(A=r.buttonRef.current)==null?void 0:A.focus({preventScroll:!0})})):(k.preventDefault(),i.openListbox())}),x=F(k=>k.preventDefault()),S=Cn([a]),w=gl(),{isFocusVisible:E,focusProps:O}=$n({autoFocus:d}),{isHovered:T,hoverProps:$}=Cr({isDisabled:l}),{pressed:C,pressProps:M}=so({disabled:l}),z=c.useMemo(()=>({open:r.listboxState===0,active:C||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:T,focus:E,autofocus:d}),[r.listboxState,r.value,l,T,E,C,r.invalid,d]),R=Lt(m(),{ref:h,id:a,type:fo(e,r.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":S,"aria-describedby":w,disabled:l||void 0,autoFocus:d,onKeyDown:g,onKeyUp:b,onKeyPress:x,onClick:v},O,$,M);return de({ourProps:R,theirProps:u,slot:z,defaultTag:n0,name:"Listbox.Button"})}let ru=c.createContext(!1),i0="div",o0=ct.RenderStrategy|ct.Static;function s0(e,t){var n;let r=c.useId(),{id:i=`headlessui-listbox-options-${r}`,anchor:o,portal:s=!1,modal:a=!0,...l}=e,d=ql(o);d&&(s=!0);let u=_n("Listbox.Options"),h=Lr("Listbox.Options"),m=Rn(u.optionsRef),f=_r(),g=f!==null?(f&xe.Open)===xe.Open:u.listboxState===0;uo(u.buttonRef,h.closeListbox,g),Rl(m,u.__demoMode?!1:a&&u.listboxState===0),El({allowed:F(()=>[u.buttonRef.current,u.optionsRef.current])},u.__demoMode?!1:a&&u.listboxState===0);let b=c.useRef(null);c.useEffect(()=>{var I;if(!((I=d==null?void 0:d.to)!=null&&I.includes("selection")))return;if(!g){b.current=null;return}let U=Array.from(u.listRef.current.values());b.current=U.findIndex(j=>(j==null?void 0:j.dataset.selected)===""),b.current===-1&&(b.current=U.findIndex(j=>(j==null?void 0:j.dataset.disabled)===void 0),h.goToOption(K.First))},[g,u.listRef]);let v=Ub(u.buttonRef,u.listboxState!==0)?!1:g,x=(()=>{if(d==null)return;if(u.listRef.current.size<=0)return{...d,inner:void 0};let I=Array.from(u.listRef.current.values());return{...d,inner:{listRef:{current:I},index:b.current}}})(),[S,w]=Gl(x),E=Wl(),O=pe(u.optionsRef,t,d?S:null),T=De(),$=De();c.useEffect(()=>{var I;let U=u.optionsRef.current;U&&u.listboxState===0&&U!==((I=kt(U))==null?void 0:I.activeElement)&&(U==null||U.focus({preventScroll:!0}))},[u.listboxState,u.optionsRef,u.optionsRef.current]);let C=F(I=>{switch($.dispose(),I.key){case W.Space:if(u.searchQuery!=="")return I.preventDefault(),I.stopPropagation(),h.search(I.key);case W.Enter:if(I.preventDefault(),I.stopPropagation(),u.activeOptionIndex!==null){let{dataRef:U}=u.options[u.activeOptionIndex];h.onChange(U.current.value)}u.mode===0&&(h.closeListbox(),Ae().nextFrame(()=>{var U;return(U=u.buttonRef.current)==null?void 0:U.focus({preventScroll:!0})}));break;case re(u.orientation,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return I.preventDefault(),I.stopPropagation(),h.goToOption(K.Next);case re(u.orientation,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return I.preventDefault(),I.stopPropagation(),h.goToOption(K.Previous);case W.Home:case W.PageUp:return I.preventDefault(),I.stopPropagation(),h.goToOption(K.First);case W.End:case W.PageDown:return I.preventDefault(),I.stopPropagation(),h.goToOption(K.Last);case W.Escape:return I.preventDefault(),I.stopPropagation(),h.closeListbox(),T.nextFrame(()=>{var U;return(U=u.buttonRef.current)==null?void 0:U.focus({preventScroll:!0})});case W.Tab:I.preventDefault(),I.stopPropagation();break;default:I.key.length===1&&(h.search(I.key),$.setTimeout(()=>h.clearSearch(),350));break}}),M=qb(()=>{var I;return(I=u.buttonRef.current)==null?void 0:I.id},[u.buttonRef.current]),z=c.useMemo(()=>({open:u.listboxState===0}),[u]),R=Lt(d?E():{},{id:i,ref:O,"aria-activedescendant":u.activeOptionIndex===null||(n=u.options[u.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":u.mode===1?!0:void 0,"aria-labelledby":M,"aria-orientation":u.orientation,onKeyDown:C,role:"listbox",tabIndex:0,style:{...w,"--button-width":Ci(u.buttonRef,!0).width}}),[k,A]=c.useState(u.value);u.value!==k&&u.listboxState===0&&u.mode!==1&&A(u.value);let N=F(I=>u.compare(k,I));return V.createElement(Jl,{enabled:s?e.static||g:!1},V.createElement(Dr.Provider,{value:u.mode===1?u:{...u,isSelected:N}},de({ourProps:R,theirProps:l,slot:z,defaultTag:i0,features:o0,visible:v,name:"Listbox.Options"})))}let a0="div";function l0(e,t){let n=c.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,a=c.useContext(ru)===!0,l=_n("Listbox.Option"),d=Lr("Listbox.Option"),u=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,h=l.isSelected(o),m=c.useRef(null),f=Gb(m),g=ye({disabled:i,value:o,domRef:m,get textValue(){return f()}}),b=pe(t,m,C=>{C?l.listRef.current.set(r,C):l.listRef.current.delete(r)});Y(()=>{if(l.__demoMode||l.listboxState!==0||!u||l.activationTrigger===0)return;let C=Ae();return C.requestAnimationFrame(()=>{var M,z;(z=(M=m.current)==null?void 0:M.scrollIntoView)==null||z.call(M,{block:"nearest"})}),C.dispose},[m,u,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),Y(()=>{if(!a)return d.registerOption(r,g)},[g,r,a]);let v=F(C=>{if(i)return C.preventDefault();d.onChange(o),l.mode===0&&(d.closeListbox(),Ae().nextFrame(()=>{var M;return(M=l.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})}))}),x=F(()=>{if(i)return d.goToOption(K.Nothing);d.goToOption(K.Specific,r)}),S=Fl(),w=F(C=>{S.update(C),!i&&(u||d.goToOption(K.Specific,r,0))}),E=F(C=>{S.wasMoved(C)&&(i||u||d.goToOption(K.Specific,r,0))}),O=F(C=>{S.wasMoved(C)&&(i||u&&d.goToOption(K.Nothing))}),T=c.useMemo(()=>({active:u,focus:u,selected:h,disabled:i,selectedOption:h&&a}),[u,h,i,a]);return!h&&a?null:de({ourProps:a?{}:{id:r,ref:b,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:v,onFocus:x,onPointerEnter:w,onMouseEnter:w,onPointerMove:E,onMouseMove:E,onPointerLeave:O,onMouseLeave:O},theirProps:s,slot:T,defaultTag:a0,name:"Listbox.Option"})}let u0=c.Fragment;function c0(e,t){let{options:n,placeholder:r,...i}=e,o={ref:pe(t)},s=_n("ListboxSelectedOption"),a=c.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0;return V.createElement(ru.Provider,{value:!0},de({ourProps:o,theirProps:{...i,children:V.createElement(V.Fragment,null,r&&l?r:n)},slot:a,defaultTag:u0,name:"ListboxSelectedOption"}))}let d0=ue(t0),iu=ue(r0),f0=xl,ou=ue(s0),su=ue(l0),p0=ue(c0),h0=Object.assign(d0,{Button:iu,Label:f0,Options:ou,Option:su,SelectedOption:p0});function m0({onFocus:e}){let[t,n]=c.useState(!0),r=kr();return t?V.createElement(jr,{as:"button",type:"button",features:Fr.Focusable,onFocus:i=>{i.preventDefault();let o,s=50;function a(){if(s--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const au=c.createContext(null);function g0(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let o=Array.from(r.keys()).indexOf(t);function s(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[o,s]}}}function v0({children:e}){let t=c.useRef(g0());return c.createElement(au.Provider,{value:t},e)}function lu(e){let t=c.useContext(au);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=b0(),[r,i]=t.current.get(e,n);return c.useEffect(()=>i,[]),r}function b0(){var e,t,n;let r=(n=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let i=[],o=r;for(;o;)i.push(o.index),o=o.return;return"$."+i.join(".")}var x0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(x0||{}),y0=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(y0||{}),w0=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(w0||{});let E0={0(e,t){var n;let r=ot(e.tabs,u=>u.current),i=ot(e.panels,u=>u.current),o=r.filter(u=>{var h;return!((h=u.current)!=null&&h.hasAttribute("disabled"))}),s={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let u=re(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>re(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return s;let h=re(u,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...s,selectedIndex:h===-1?e.selectedIndex:h}}let a=r.slice(0,t.index),l=[...r.slice(t.index),...a].find(u=>o.includes(u));if(!l)return s;let d=(n=r.indexOf(l))!=null?n:e.selectedIndex;return d===-1&&(d=e.selectedIndex),{...s,selectedIndex:d}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=ot([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:ot([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},To=c.createContext(null);To.displayName="TabsDataContext";function Yt(e){let t=c.useContext(To);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yt),n}return t}let Oo=c.createContext(null);Oo.displayName="TabsActionsContext";function $o(e){let t=c.useContext(Oo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$o),n}return t}function S0(e,t){return re(t.type,E0,e,t)}let T0="div";function O0(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:s=null,...a}=e;const l=r?"vertical":"horizontal",d=i?"manual":"auto";let u=s!==null,h=ye({isControlled:u}),m=pe(t),[f,g]=c.useReducer(S0,{info:h,selectedIndex:s??n,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),v=ye(o||(()=>{})),x=ye(f.tabs),S=c.useMemo(()=>({orientation:l,activation:d,...f}),[l,d,f]),w=F(M=>(g({type:1,tab:M}),()=>g({type:2,tab:M}))),E=F(M=>(g({type:3,panel:M}),()=>g({type:4,panel:M}))),O=F(M=>{T.current!==M&&v.current(M),u||g({type:0,index:M})}),T=ye(u?e.selectedIndex:f.selectedIndex),$=c.useMemo(()=>({registerTab:w,registerPanel:E,change:O}),[]);Y(()=>{g({type:0,index:s??n})},[s]),Y(()=>{if(T.current===void 0||f.tabs.length<=0)return;let M=ot(f.tabs,z=>z.current);M.some((z,R)=>f.tabs[R]!==z)&&O(M.indexOf(f.tabs[T.current]))});let C={ref:m};return V.createElement(v0,null,V.createElement(Oo.Provider,{value:$},V.createElement(To.Provider,{value:S},S.tabs.length<=0&&V.createElement(m0,{onFocus:()=>{var M,z;for(let R of x.current)if(((M=R.current)==null?void 0:M.tabIndex)===0)return(z=R.current)==null||z.focus(),!0;return!1}}),de({ourProps:C,theirProps:a,slot:b,defaultTag:T0,name:"Tabs"}))))}let $0="div";function C0(e,t){let{orientation:n,selectedIndex:r}=Yt("Tab.List"),i=pe(t),o=c.useMemo(()=>({selectedIndex:r}),[r]);return de({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:o,defaultTag:$0,name:"Tabs.List"})}let R0="button";function F0(e,t){var n,r;let i=c.useId(),{id:o=`headlessui-tabs-tab-${i}`,disabled:s=!1,autoFocus:a=!1,...l}=e,{orientation:d,activation:u,selectedIndex:h,tabs:m,panels:f}=Yt("Tab"),g=$o("Tab"),b=Yt("Tab"),v=c.useRef(null),x=pe(v,t);Y(()=>g.registerTab(v),[g,v]);let S=lu("tabs"),w=m.indexOf(v);w===-1&&(w=S);let E=w===h,O=F(q=>{var G;let ce=q();if(ce===sn.Success&&u==="auto"){let ve=(G=kt(v))==null?void 0:G.activeElement,oe=b.tabs.findIndex(he=>he.current===ve);oe!==-1&&g.change(oe)}return ce}),T=F(q=>{let G=m.map(ce=>ce.current).filter(Boolean);if(q.key===W.Space||q.key===W.Enter){q.preventDefault(),q.stopPropagation(),g.change(w);return}switch(q.key){case W.Home:case W.PageUp:return q.preventDefault(),q.stopPropagation(),O(()=>Vt(G,Ve.First));case W.End:case W.PageDown:return q.preventDefault(),q.stopPropagation(),O(()=>Vt(G,Ve.Last))}if(O(()=>re(d,{vertical(){return q.key===W.ArrowUp?Vt(G,Ve.Previous|Ve.WrapAround):q.key===W.ArrowDown?Vt(G,Ve.Next|Ve.WrapAround):sn.Error},horizontal(){return q.key===W.ArrowLeft?Vt(G,Ve.Previous|Ve.WrapAround):q.key===W.ArrowRight?Vt(G,Ve.Next|Ve.WrapAround):sn.Error}}))===sn.Success)return q.preventDefault()}),$=c.useRef(!1),C=F(()=>{var q;$.current||($.current=!0,(q=v.current)==null||q.focus({preventScroll:!0}),g.change(w),oo(()=>{$.current=!1}))}),M=F(q=>{q.preventDefault()}),{isFocusVisible:z,focusProps:R}=$n({autoFocus:a}),{isHovered:k,hoverProps:A}=Cr({isDisabled:s}),{pressed:N,pressProps:I}=so({disabled:s}),U=c.useMemo(()=>({selected:E,hover:k,active:N,focus:z,autofocus:a,disabled:s}),[E,k,z,N,a,s]),j=Lt({ref:x,onKeyDown:T,onMouseDown:M,onClick:C,id:o,role:"tab",type:fo(e,v),"aria-controls":(r=(n=f[w])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":E,tabIndex:E?0:-1,disabled:s||void 0,autoFocus:a},R,A,I);return de({ourProps:j,theirProps:l,slot:U,defaultTag:R0,name:"Tabs.Tab"})}let j0="div";function A0(e,t){let{selectedIndex:n}=Yt("Tab.Panels"),r=pe(t),i=c.useMemo(()=>({selectedIndex:n}),[n]);return de({ourProps:{ref:r},theirProps:e,slot:i,defaultTag:j0,name:"Tabs.Panels"})}let I0="div",P0=ct.RenderStrategy|ct.Static;function _0(e,t){var n,r,i,o;let s=c.useId(),{id:a=`headlessui-tabs-panel-${s}`,tabIndex:l=0,...d}=e,{selectedIndex:u,tabs:h,panels:m}=Yt("Tab.Panel"),f=$o("Tab.Panel"),g=c.useRef(null),b=pe(g,t);Y(()=>f.registerPanel(g),[f,g]);let v=lu("panels"),x=m.indexOf(g);x===-1&&(x=v);let S=x===u,{isFocusVisible:w,focusProps:E}=$n(),O=c.useMemo(()=>({selected:S,focus:w}),[S,w]),T=Lt({ref:b,id:a,role:"tabpanel","aria-labelledby":(r=(n=h[x])==null?void 0:n.current)==null?void 0:r.id,tabIndex:S?l:-1},E);return!S&&((i=d.unmount)==null||i)&&!((o=d.static)!=null&&o)?V.createElement(jr,{as:"span","aria-hidden":"true",...T}):de({ourProps:T,theirProps:d,slot:O,defaultTag:I0,features:P0,visible:S,name:"Tabs.Panel"})}let M0=ue(F0),uu=ue(O0),cu=ue(C0),du=ue(A0),fu=ue(_0),k0=Object.assign(M0,{Group:uu,List:cu,Panels:du,Panel:fu});function L0(e=0){let[t,n]=c.useState(e),r=kr(),i=c.useCallback(l=>{r.current&&n(d=>d|l)},[t,r]),o=c.useCallback(l=>!!(t&l),[t]),s=c.useCallback(l=>{r.current&&n(d=>d&~l)},[n,r]),a=c.useCallback(l=>{r.current&&n(d=>d^l)},[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}function pu(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function ui(e,...t){e&&t.length>0&&e.classList.add(...t)}function ci(e,...t){e&&t.length>0&&e.classList.remove(...t)}function D0(e,t){let n=pu(t),r=Ae();if(!e)return r.dispose;let{transitionDuration:i,transitionDelay:o}=getComputedStyle(e),[s,a]=[i,o].map(d=>{let[u=0]=d.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,m)=>m-h);return u}),l=s+a;if(l!==0){let d=r.group(u=>{let h=u.setTimeout(()=>{n(),u.dispose()},l);u.addEventListener(e,"transitionrun",m=>{m.target===m.currentTarget&&(h(),u.addEventListener(e,"transitioncancel",f=>{f.target===f.currentTarget&&(n(),d())}))})});r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(n(),r.dispose())})}else n();return r.dispose}function N0(e,{direction:t,done:n,classes:r,inFlight:i}){let o=Ae(),s=n!==void 0?pu(n):()=>{};t==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=re(t,{enter:()=>r.enter,leave:()=>r.leave}),l=re(t,{enter:()=>r.enterTo,leave:()=>r.leaveTo}),d=re(t,{enter:()=>r.enterFrom,leave:()=>r.leaveFrom});return V0(e,{prepare(){ci(e,...r.base,...r.enter,...r.enterTo,...r.enterFrom,...r.leave,...r.leaveFrom,...r.leaveTo,...r.entered),ui(e,...r.base,...a,...d)},inFlight:i}),i&&(i.current=!0),o.nextFrame(()=>{o.add(D0(e,()=>(ci(e,...r.base,...a),ui(e,...r.base,...r.entered,...l),i&&(i.current=!1),s()))),ci(e,...r.base,...a,...d),ui(e,...r.base,...a,...l)}),o.dispose}function V0(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function B0({container:e,direction:t,classes:n,onStart:r,onStop:i}){let o=kr(),s=De(),a=c.useRef(!1);Y(()=>{if(t==="idle"||!o.current)return;r.current(t);let l=e.current;return l?s.add(N0(l,{direction:t,classes:n.current,inFlight:a,done(){i.current(t)}})):i.current(t),s.dispose},[t])}function nt(e=""){return e.split(/\s+/).filter(t=>t.length>1)}function hu(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:gu)!==c.Fragment||V.Children.count(e.children)===1}let Nr=c.createContext(null);Nr.displayName="TransitionContext";var z0=(e=>(e.Visible="visible",e.Hidden="hidden",e))(z0||{});function H0(){let e=c.useContext(Nr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function q0(){let e=c.useContext(Vr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Vr=c.createContext(null);Vr.displayName="NestingContext";function Br(e){return"children"in e?Br(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function mu(e,t){let n=ye(e),r=c.useRef([]),i=kr(),o=De(),s=F((f,g=it.Hidden)=>{let b=r.current.findIndex(({el:v})=>v===f);b!==-1&&(re(g,{[it.Unmount](){r.current.splice(b,1)},[it.Hidden](){r.current[b].state="hidden"}}),o.microTask(()=>{var v;!Br(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),a=F(f=>{let g=r.current.find(({el:b})=>b===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,it.Unmount)}),l=c.useRef([]),d=c.useRef(Promise.resolve()),u=c.useRef({enter:[],leave:[],idle:[]}),h=F((f,g,b)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([v])=>v!==f)),t==null||t.chains.current[g].push([f,new Promise(v=>{l.current.push(v)})]),t==null||t.chains.current[g].push([f,new Promise(v=>{Promise.all(u.current[g].map(([x,S])=>S)).then(()=>v())})]),g==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(g)):b(g)}),m=F((f,g,b)=>{Promise.all(u.current[g].splice(0).map(([v,x])=>x)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>b(g))});return c.useMemo(()=>({children:r,register:a,unregister:s,onStart:h,onStop:m,wait:d,chains:u}),[a,s,r,h,m,u,d])}let gu=c.Fragment,vu=ct.RenderStrategy;function U0(e,t){var n,r,i;let{beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:d,enterFrom:u,enterTo:h,entered:m,leave:f,leaveFrom:g,leaveTo:b,...v}=e,x=c.useRef(null),S=hu(e),w=pe(...S?[x,t]:t===null?[]:[t]),E=(n=v.unmount)==null||n?it.Unmount:it.Hidden,{show:O,appear:T,initial:$}=H0(),[C,M]=c.useState(O?"visible":"hidden"),z=q0(),{register:R,unregister:k}=z;Y(()=>R(x),[R,x]),Y(()=>{if(E===it.Hidden&&x.current){if(O&&C!=="visible"){M("visible");return}return re(C,{hidden:()=>k(x),visible:()=>R(x)})}},[C,x,R,k,O,E]);let A=ye({base:nt(v.className),enter:nt(d),enterFrom:nt(u),enterTo:nt(h),entered:nt(m),leave:nt(f),leaveFrom:nt(g),leaveTo:nt(b)}),N=ye({beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l}),I=wo();Y(()=>{if(S&&I&&C==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,C,I,S]);let U=$&&!T,j=T&&O&&$,q=j?"enter":!I||U?"idle":O?"enter":"leave",G=L0(0),ce=F(Q=>re(Q,{enter:()=>{var te,X;G.addFlag(xe.Opening),(X=(te=N.current).beforeEnter)==null||X.call(te)},leave:()=>{var te,X;G.addFlag(xe.Closing),(X=(te=N.current).beforeLeave)==null||X.call(te)},idle:()=>{}})),ve=F(Q=>re(Q,{enter:()=>{var te,X;G.removeFlag(xe.Opening),(X=(te=N.current).afterEnter)==null||X.call(te)},leave:()=>{var te,X;G.removeFlag(xe.Closing),(X=(te=N.current).afterLeave)==null||X.call(te)},idle:()=>{}})),oe=c.useRef(!1),he=mu(()=>{oe.current||(M("hidden"),k(x))},z);B0({container:x,classes:A,direction:q,onStart:ye(Q=>{oe.current=!0,he.onStart(x,Q,ce)}),onStop:ye(Q=>{oe.current=!1,he.onStop(x,Q,ve),Q==="leave"&&!Br(he)&&(M("hidden"),k(x))})});let L=v,fe={ref:w};return j?L={...L,className:cn(v.className,...A.current.enter,...A.current.enterFrom)}:oe.current?(L.className=cn(v.className,(r=x.current)==null?void 0:r.className),L.className===""&&delete L.className):(L.className=cn(v.className,(i=x.current)==null?void 0:i.className,...re(q,{enter:[...A.current.enterTo,...A.current.entered],leave:A.current.leaveTo,idle:[]})),L.className===""&&delete L.className),V.createElement(Vr.Provider,{value:he},V.createElement(xo,{value:re(C,{visible:xe.Open,hidden:xe.Closed})|G.flags},de({ourProps:fe,theirProps:L,defaultTag:gu,features:vu,visible:C==="visible",name:"Transition.Child"})))}function W0(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=c.useRef(null),a=hu(e),l=pe(...a?[s,t]:t===null?[]:[t]);wo();let d=_r();if(n===void 0&&d!==null&&(n=(d&xe.Open)===xe.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=c.useState(n?"visible":"hidden"),m=mu(()=>{n||h("hidden")}),[f,g]=c.useState(!0),b=c.useRef([n]);Y(()=>{f!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),g(!1))},[b,n]);let v=c.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);uo(s,()=>h("hidden")),Y(()=>{n?h("visible"):!Br(m)&&s.current!==null&&h("hidden")},[n,m]);let x={unmount:i},S=F(()=>{var E;f&&g(!1),(E=e.beforeEnter)==null||E.call(e)}),w=F(()=>{var E;f&&g(!1),(E=e.beforeLeave)==null||E.call(e)});return V.createElement(Vr.Provider,{value:m},V.createElement(Nr.Provider,{value:v},de({ourProps:{...x,as:c.Fragment,children:V.createElement(bu,{ref:l,...x,...o,beforeEnter:S,beforeLeave:w})},theirProps:{},defaultTag:c.Fragment,features:vu,visible:u==="visible",name:"Transition"})))}function G0(e,t){let n=c.useContext(Nr)!==null,r=_r()!==null;return V.createElement(V.Fragment,null,!n&&r?V.createElement(Ii,{ref:t,...e}):V.createElement(bu,{ref:t,...e}))}let Ii=ue(W0),bu=ue(U0),K0=ue(G0),Y0=Object.assign(Ii,{Child:K0,Root:Ii});function Z0({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"}))}const X0=c.forwardRef(Z0);function J0({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const xu=c.forwardRef(J0);function Q0({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const ex=c.forwardRef(Q0),Co={label:P.string,organisation:P.string,type:P.string,user:P.string,value:P.string},yu={name:P.string.isRequired,id:P.string.isRequired,codelists:P.arrayOf(P.shape(Co)).isRequired};function Pi({label:e,value:t}){return p.jsx(su,{className:({active:n})=>ke("relative cursor-pointer select-none py-2 pl-10 pr-4",n?"bg-oxford-600 text-white":"text-gray-900"),value:t,children:({selected:n,active:r})=>p.jsxs(p.Fragment,{children:[p.jsx("span",{className:ke("block truncate",n?"font-medium":"font-normal"),children:p.jsx("span",{children:e})}),n?p.jsx("span",{className:ke("absolute inset-y-0 left-0 flex items-center px-3 z-10",r?"text-white":"text-oxford-600"),children:p.jsx(xu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})})}Pi.propTypes={label:P.string.isRequired,value:P.shape(Co).isRequired};function wu({defaultValue:e,handleChange:t,name:n}){const{formData:r}=Ne();return p.jsx(h0,{name:n,onChange:i=>t(i),value:e,children:p.jsxs("div",{className:"relative mt-1",children:[p.jsx(iu,{className:ke("relative w-fit max-w-prose rounded-md border-gray-400 border-2 bg-white py-2 pl-3 pr-10 text-left shadow-sm","focus:outline-none","focus-visible:border-oxford-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300"),children:({value:i})=>p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"block truncate",children:i.label}),p.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 ",children:p.jsx(ex,{"aria-hidden":"true",className:"h-5 w-5 text-gray-400"})})]})}),p.jsx(Y0,{as:c.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p.jsxs(ou,{className:"absolute z-10 mt-1 max-h-60 w-fit max-w-prose overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[r.codelist0?p.jsx(Pi,{label:r.codelist0.label,value:r.codelist0}):null,r.codelist1?p.jsx(Pi,{label:r.codelist1.label,value:r.codelist1}):null]})})]})})}wu.propTypes={defaultValue:P.shape(Co).isRequired,handleChange:P.func.isRequired,name:P.string.isRequired};function tx(){var h,m;const{dates:{startStr:e,endStr:t}}=Zt(),{formData:n}=Ne(),{errors:r,setFieldTouched:i,setFieldValue:o,touched:s,validateField:a,values:l}=Qe();function d(f){f===l.codelistA&&(o("codelistA",l.codelistB),o("codelistB",f)),f===l.codelistB&&(o("codelistB",l.codelistA),o("codelistA",f))}function u(f,g,b){a(g),i(g),o(g,f.target.value),i("timeOption"),o("timeOption",Un({[g]:f.target.value,[b]:l==null?void 0:l[b]}))}return p.jsxs("div",{className:"flex flex-col gap-y-1",children:[p.jsx("p",{className:"max-w-prose text-lg",children:_e[0]}),p.jsx(wu,{defaultValue:(l==null?void 0:l.codelistA)||l.codelist0,handleChange:f=>d(f),name:"codelistA"}),p.jsxs("p",{className:"max-w-prose text-lg grid gap-y-1",children:[_e[1],p.jsxs("span",{children:[p.jsx("strong",{children:e})," ",_e[2]," ",p.jsx("strong",{children:t})]}),_e[3]]}),p.jsxs("p",{className:"max-w-prose text-lg",children:[p.jsx("strong",{className:"block mb-1",children:l.codelistB.label||((h=n.codelist1)==null?void 0:h.label)}),_e[4]," ",p.jsxs("span",{className:"block mt-1",children:[p.jsx("strong",{children:l.codelistA.label||((m=n.codelist0)==null?void 0:m.label)})," ",_e[5]]})]}),p.jsxs(Zn,{hideLegend:!0,legend:"Select a time scale",children:[p.jsxs(Xn,{id:"timeHasValue",label:Un(l),labelClassName:"flex flex-row gap-1 items-center mt-2",name:"timeOption",type:"radio",value:Un(l),children:["up to",p.jsx(Gt,{className:"inline-flex w-[6ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-sm",inputMode:"numeric",max:"52",min:"0",name:"timeValue",onChange:f=>u(f,"timeValue","timeScale"),type:"text"}),p.jsx(Gt,{as:"select",className:"inline-flex w-[12ch] relative rounded-md border-gray-400 border-2 bg-white p-1 shadow-sm",name:"timeScale",onChange:f=>u(f,"timeScale","timeValue"),children:ra.map(({label:f,value:g})=>p.jsx("option",{value:g,children:f},g))}),Ja]}),p.jsx(Xn,{id:"anyTime",label:Be,name:"timeOption",type:"radio",value:Be})]}),r.timeValue&&s.timeValue?p.jsx(ut,{children:r.timeValue}):null]})}const ir=e=>Jt().shape({label:ze().required("Select a codelist"),organisation:ze(),value:ze().required("Select a codelist"),type:ze().oneOf(e.map(t=>t.id)).required()}).required("Select a codelist");function nx(e){return{codelistA:e.codelistA||e.codelist0,codelistB:e.codelistB||e.codelist1,timeOption:e.timeOption===Be?Be:Un({timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}),timeValue:e.timeValue||5,timeScale:e.timeScale||"years"}}function rx(){const[,e]=ht(),{codelistGroups:t}=Zt(),{formData:n,setFormData:r}=Ne();if(yn(["codelist0","codelist1"]))return p.jsx(xn,{to:""});const i=Jt().shape({codelistA:ir(t),codelistB:ir(t),timeOption:ze().required(),timeValue:Ba().typeError("Amount must be a number").positive("Time value must be a positive number").min(0,"Time scale cannot be less than 0").required("Amount of time is required").test("tenYears","Time scale cannot be longer than 10 years",(o,s)=>{const{timeScale:a,timeOption:l}=s.parent;return l===Be?!0:!(o===void 0||Number.isNaN(o)||a==="weeks"&&o>522||a==="months"&&o>120||a==="years"&&o>10)}),timeScale:ze().oneOf(ra.map(o=>o.value)).required()});return p.jsx(wr,{initialValues:nx(n),onSubmit:(o,s)=>s.validateForm().then(()=>{const{timeOption:a,timeScale:l,timeValue:d,...u}=o;return a===Be?(r({...n,timeOption:a,timeEver:"true",timeScale:null,timeValue:null,...u}),e("/preview-request")):(r({...n,timeEver:null,...o}),e("/preview-request"))}),validateOnBlur:!0,validateOnChange:!0,validateOnMount:!0,validationSchema:i,children:({isValid:o})=>p.jsxs(Sn,{children:[p.jsx($r,{}),p.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Report request"}),p.jsx(tx,{}),p.jsx(gt,{className:"mt-6",disabled:!o,type:"submit",children:"Next"})]})})}function Eu({id:e,label:t,name:n,value:r,onClick:i=()=>null}){return p.jsxs("div",{className:"flex flex-row place-items-baseline gap-x-3 text-lg leading-tight",children:[p.jsx(Gt,{className:"peer cursor-pointer scale-150 top-[1px] relative checked:bg-oxford-600 focus:ring-bn-sun",id:e,name:n,onClick:i,type:"checkbox",value:r}),p.jsx("label",{className:"cursor-pointer touch-manipulation tracking-tight",htmlFor:e,children:t})]})}Eu.propTypes={id:P.string.isRequired,label:P.string.isRequired,name:P.string.isRequired,onClick:P.func,value:P.string.isRequired};function ix(){const[,e]=ht(),{formData:t,setFormData:n}=Ne();if(yn(["codelistA","codelistB","timeOption"]))return p.jsx(xn,{to:""});const r=Jt().shape({filterPopulation:ze().oneOf(zn.items.map(o=>o.value)).required("Select a filter for the population"),demographics:Wa().of(ze().oneOf(on.items.map(o=>o.value))).min(0).max(on.items.length)}),i={filterPopulation:t.filterPopulation||"",demographics:t.demographics||[]};return p.jsx(wr,{initialValues:i,onSubmit:(o,s)=>{s.validateForm().then(()=>{n({...t,...o}),e("/analysis-information")})},validateOnMount:!0,validationSchema:r,children:({errors:o,isValid:s,touched:a})=>p.jsxs(Sn,{className:"flex flex-col gap-y-8",children:[p.jsx($r,{}),p.jsx("h1",{className:"text-4xl font-bold",children:"Set report filters"}),p.jsxs(Zn,{legend:zn.label,children:[zn.items.map(l=>p.jsx(Xn,{id:l.value,label:l.label,name:"filterPopulation",value:l.value},l.value)),o.filterPopulation&&a.filterPopulation?p.jsx(ut,{children:o.filterPopulation}):null]}),p.jsxs(Zn,{legend:on.label,children:[p.jsx(ro,{children:p.jsx("p",{children:"These should only be selected if they align with your approved project purpose. Selecting more options will increase report processing time."})}),on.items.map(l=>p.jsx(Eu,{id:l.value,label:l.label,name:"demographics",value:l.value},l.value)),o.demographics&&a.demographics?p.jsx(ut,{children:"Select one or more demographics"}):null]}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:p.jsx(gt,{disabled:!s,type:"submit",children:"Next"})})]})})}function ox(){const{codelistGroups:e}=Zt();return p.jsx(cu,{className:"flex space-x-1 rounded bg-gray-100 p-1 max-w-prose",children:e.map(t=>p.jsx(k0,{className:({selected:n})=>ke("w-full rounded-lg p-1 font-semibold text-oxford-700 leading-5 md:py-2.5","ring-white ring-opacity-60 ring-offset-2 ring-offset-oxford-400 focus:outline-none focus:ring-2",n?"bg-white shadow":"hover:bg-white/[0.12] hover:text-oxford-900"),children:t.name},t.id))})}function sx(e){const t={year:"numeric",month:"short",day:"2-digit"},n=new Date(e);return new Intl.DateTimeFormat("en-GB",t).format(n)}function Su({codelistGroup:e,codelistID:t,query:n}){const{values:r}=Qe(),i=o=>n.length<2?o:o.filter(s=>s.label.toLowerCase().includes(n.toLowerCase()));return n.length<3?p.jsxs("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:["Type ",3-n.length," more characters to search"]}):i(e.codelists).length===0?p.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:"Nothing found"}):p.jsx(p.Fragment,{children:i(e.codelists.sort((o,s)=>o.label.localeCompare(s.label))).map(o=>p.jsx(nu,{className:({active:s})=>ke("relative cursor-pointer select-none py-2 pl-10 pr-4",s?"bg-oxford-600 text-white":"text-gray-900"),value:o,children:({selected:s,active:a})=>{var l;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:ke("block truncate",s?"font-medium":"font-normal"),children:[p.jsx("span",{children:o.label}),p.jsxs("dl",{className:`flex flex-row flex-wrap text-sm mt-0.5 ${a?"text-white":"text-gray-600"}`,children:[p.jsxs("div",{className:"flex flex-row gap-1",children:[p.jsx("dt",{children:"From:"})," ",p.jsx("dd",{children:o.organisation?o.organisation:o.user})]}),p.jsxs("div",{className:"flex flex-row gap-1 ml-2 border-l border-l-gray-300 pl-2",children:[p.jsx("dt",{children:"Last updated:"})," ",p.jsx("dd",{children:sx(o.updatedDate)})]})]})]}),s||((l=r[t])==null?void 0:l.value)===o.value?p.jsx("span",{className:ke("absolute inset-y-0 left-0 flex items-center pl-3 z-10",a?"text-white":"text-oxford-600"),children:p.jsx(xu,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})}},o.value))})}Su.propTypes={codelistGroup:P.shape(yu).isRequired,codelistID:P.string.isRequired,query:P.string.isRequired};function Tu({codelistGroup:e,codelistID:t,query:n,setQuery:r}){const{errors:i,setFieldValue:o,setTouched:s,touched:a}=Qe(),[l,d]=c.useState("");return c.useEffect(()=>i[t]&&a[t]?Ec(i[t])?d(i[t].label):d(i[t]):d(""),[i,a,t]),p.jsx(fu,{children:p.jsx(Gt,{name:t,children:({field:u})=>{var h;return p.jsxs("div",{className:"mt-2",children:[p.jsx(Hb,{defaultValue:u.value,name:u.name,onChange:m=>{s({...a,[t]:!0}),o(u.name,m)},children:p.jsxs("div",{className:"relative w-full max-w-prose",children:[p.jsx(eu,{autoComplete:"off",autoCorrect:"false",className:ke("block w-full px-3 py-2 border-2 border-gray-400 rounded-md shadow-sm placeholder-gray-400","focus:cursor-text focus:outline-none focus:ring-oxford-500 focus:border-oxford-500"),displayValue:m=>m.label,onChange:m=>r(m.target.value),placeholder:"Type 3 or more characters to find a codelist"}),p.jsx(tu,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base divide-y divide-gray-200 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:p.jsx(Su,{codelistGroup:e,codelistID:t,query:n})})]})}),l?p.jsx(ut,{children:l}):null,(h=u==null?void 0:u.value)!=null&&h.value?p.jsx("ul",{className:"text-sm mt-2",children:p.jsx("li",{children:p.jsxs("a",{className:"text-oxford-600 font-semibold underline underline-offset-1 transition-colors hover:text-oxford-700 hover:no-underline focus:text-oxford-900 focus:no-underline",href:`https://www.opencodelists.org/codelist/${u.value.value}`,rel:"noopener noreferrer",target:"_blank",children:["View “",u.value.label,"” codelist",p.jsx(X0,{className:"inline h-4 -mt-0.5",height:20,width:20})]})})}):null]})}})},e.id)}Tu.propTypes={codelistGroup:P.shape(yu).isRequired,codelistID:P.string.isRequired,query:P.string.isRequired,setQuery:P.func.isRequired};function _i({id:e,label:t}){const{setFieldValue:n}=Qe(),{formData:r}=Ne(),{codelistGroups:i}=Zt(),[o,s]=c.useState(""),a=`codelist${e}`,l=i.findIndex(d=>{var u;return d.id===((u=r==null?void 0:r[a])==null?void 0:u.type)});return p.jsxs(uu,{as:"div",defaultIndex:l!==-1?l:0,onChange:()=>{s(""),n(a,{})},children:[p.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-2 md:mb-1",children:t}),p.jsx(ox,{}),p.jsx(du,{children:i.map(d=>p.jsx(Tu,{codelistGroup:d,codelistID:a,query:o,setQuery:s},d.id))})]})}_i.propTypes={id:P.number.isRequired,label:P.string.isRequired};function ax(){const{formData:e,setFormData:t}=Ne(),{codelistGroups:n}=Zt(),[,r]=ht(),i=Jt({codelist0:ir(n),codelist1:ir(n).test("compare_codelists","Codelists cannot be the same, please change one codelist",(s,a)=>Object.entries(a.parent.codelist0).toString()!==Object.entries(s).toString())}),o={codelist0:e.codelist0||"",codelist1:e.codelist1||""};return p.jsx(wr,{initialValues:o,onSubmit:(s,a)=>{a.validateForm().then(()=>(t({...e,...s,codelistA:null,codelistB:null}),r("/build-query")))},validateOnMount:!0,validationSchema:i,children:({isValid:s})=>p.jsxs(Sn,{className:"flex flex-col gap-y-12",children:[p.jsx($r,{}),p.jsx(_i,{id:0,label:"Select a codelist"}),p.jsx(_i,{id:1,label:"Select a second codelist"}),p.jsx(gt,{disabled:!s,type:"submit",children:"Next"})]})})}function lx(){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"prose prose-blue",children:[p.jsx("p",{className:"text-lg",children:"Requesting an analysis requires you to select two SNOMED CT or dm+d codelists to see how they are used in combination over time."}),p.jsx("p",{className:"text-lg",children:"To make sure this is the right tool for you, check that you understand the following terms before continuing."}),p.jsx("h3",{children:"Codelist"}),p.jsx("p",{children:"A codelist is a set of codes that can be recorded in clinical systems. Codelists are used to select patients with activities and conditions of interest."}),p.jsx("p",{children:"Any codelist you require in your Analysis Request must:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"use either the SNOMED CT or dm+d coding system"}),p.jsxs("li",{children:["be published on"," ",p.jsx("a",{href:"https://www.opencodelists.org/",rel:"noopener noreferrer",target:"_blank",children:"OpenCodelists"})]})]}),p.jsx("p",{children:"You should review the codelists you wish to use on OpenCodelists and confirm it is suitable for your request before you start."}),p.jsx("p",{children:"Speak to your co-pilot if you can’t find a codelist you want to use, or you wish to add a new codelist to OpenCodelists."}),p.jsx("h3",{children:"SNOMED CT"}),p.jsxs("p",{children:[p.jsx("a",{href:"https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct",rel:"noopener noreferrer",target:"_blank",children:"SNOMED CT"})," ","is a systematically organised computer-processable collection of medical terms used in clinical documentation and reporting. It provides a consistent vocabulary for recording patient clinical information across the NHS and helps ensure data is recorded consistently and accurately."]}),p.jsx("p",{children:"SNOMED CT codelists can query data related to recording of events such as:"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Condition Diagnoses "}),"— for example: Crohn’s Disease, Bipolar disorder"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Symptoms "}),"— for example: Headache, Blood in urine"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Test Results "}),"— for example: Potassium level, Abnormal ECG"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Procedures "}),"— for example: Coronary artery bypass graft, Hysterectomy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Activities "}),"— for example: Medication review"]})]}),p.jsx("h3",{children:"dm+d"}),p.jsxs("p",{children:[p.jsx("a",{href:"https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd",rel:"noopener noreferrer",target:"_blank",children:"dm+d"})," ","is a dictionary of descriptions and codes which represent medicines and devices in use across the NHS."]}),p.jsx("p",{children:"dm+d codelists can query data related to prescriptions that have been issued for medicines or devices, for example: a prescription for Paracetamol 500mg tablets or for a Salbutamol 100micrograms/dose inhaler."})]}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:p.jsx(ea,{asChild:!0,to:"/find-codelists",children:p.jsx(gt,{children:"Next"})})})]})}function Ou({timeOption:e,timeScale:t=null,timeValue:n=null}){const r=e==="at any time prior."?"Any time":`${n} ${t}`;return p.jsxs("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 415 233",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",children:[p.jsx("path",{className:"fill-gray-300",d:"M194 52.03h6V157h-6zM394 52h6v105h-6z"}),p.jsx("path",{className:"fill-gray-500",d:"M3.9 99.9c-.6.5-.6 1.5 0 2l9.35 9.6c.26.2.57.3.89.3a1.5 1.5 0 0 0 1.18-2.4l-8.37-8.5 8.37-8.5a1.5 1.5 0 0 0-1.18-2.4c-.32 0-.63.1-.89.3l-9.46 9.5.1.1Zm189.1 2c.6-.5.6-1.5 0-2l-9.35-9.6c-.26-.2-.57-.3-.89-.3a1.5 1.5 0 0 0-1.18 2.4l8.37 8.5-8.37 8.5a1.5 1.5 0 0 0 1.18 2.4c.32 0 .63-.1.89-.3l9.46-9.5-.1-.1Zm-188.12.5h187.14v-3H4.88v3Z",fillRule:"nonzero"}),p.jsx("path",{className:"fill-green-600 stroke-green-600",d:"M1 128c-.6.5-.6 1.5 0 2l9.5 9.6a1.5 1.5 0 0 0 2.1-2.1L4.1 129l8.5-8.5a1.5 1.5 0 0 0-2.1-2.1l-9.6 9.5.1.1Zm392 2c.6-.5.6-1.5 0-2l-9.5-9.6a1.5 1.5 0 0 0-2.1 2.1l8.5 8.5-8.5 8.5a1.5 1.5 0 0 0 2.1 2.1l9.6-9.5-.1-.1Zm-391 .5h390v-3H2v3Z",fillRule:"nonzero",strokeWidth:"2",transform:"matrix(.99262 0 0 1 2.9 1.9)"}),p.jsx("path",{className:"fill-bn-ribbon-300 stroke-bn-ribbon-700",d:"M297 97.4 284.4 85l-3.5 3.5 12.5 12.5-12.4 12.3 3.5 3.5 12.4-12.4 12.4 12.4 3.5-3.5-12.4-12.4 12.4-12.4-3.5-3.5-12.4 12.4h.1Z"}),p.jsx("path",{className:"fill-oxford-300",d:"M296 74.55c.5.6 1.5.6 2 0l9.6-9.5a1.5 1.5 0 0 0-2.1-2.1l-8.5 8.5-8.5-8.5a1.5 1.5 0 0 0-2.1 2.1l9.5 9.6.1-.1Zm-.5-71v70h3v-70h-3ZM50 150.6c-.2-.8-1-1.3-1.8-1l-13 3.4a1.54 1.54 0 0 0 .7 3l11.6-3.2 3.1 11.6a1.5 1.5 0 0 0 2.9-.7l-3.5-13v-.1ZM3.3 232.4l46.6-80.6-2.6-1.6L.7 231l2.6 1.5v-.1Z",fillRule:"nonzero"}),p.jsx("text",{fontSize:"12",x:"177",y:"170",children:"Start of"}),p.jsx("text",{fontSize:"12",x:"180",y:"183",children:"month"}),p.jsx("text",{fontSize:"12",x:"379",y:"170",children:"End of"}),p.jsx("text",{fontSize:"12",x:"380",y:"183",children:"month"}),p.jsx("text",{fontSize:"12",x:"67",y:"88.63",children:r})]})}Ou.propTypes={timeOption:P.string.isRequired,timeScale:P.string,timeValue:P.number};function ux(){const{formData:e}=Ne();return yn(["codelistA","codelistB","timeOption"])?p.jsx(xn,{to:""}):p.jsxs(p.Fragment,{children:[p.jsx(Za,{}),p.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Preview your request"}),p.jsx("div",{className:"px-4 py-24",children:p.jsxs("div",{className:"relative",children:[p.jsxs("p",{className:"absolute max-w-[28ch] text-center -translate-y-[80%] top-0 right-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual has qualifying event from:",p.jsx("br",{}),p.jsx("strong",{children:e.codelistA.label})]}),p.jsx(Ou,{timeOption:e.timeOption,timeScale:e.timeScale,timeValue:e.timeValue}),p.jsxs("p",{className:"absolute max-w-[28ch] text-center bottom-0 translate-y-[80%] left-0 border-2 border-oxford-300 bg-slate-50 p-2",children:["Individual ALSO has an event from:",p.jsx("br",{}),p.jsx("strong",{children:e.codelistB.label})]})]})}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-16",children:p.jsx(ea,{asChild:!0,to:"/filter-request",children:p.jsx(gt,{children:"Next"})})})]})}function Bt({title:e,children:t,page:n}){const[,r]=ht();return p.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5",children:[p.jsx("dt",{className:"text-lg font-bold text-gray-700 md:text-base",children:e}),p.jsxs("dd",{className:"mt-1 flex text-gray-900 sm:col-span-2 sm:mt-0",children:[p.jsx("span",{className:"flex-grow break-words",children:t}),p.jsx("span",{className:"ml-4 flex-shrink-0",children:p.jsx("button",{className:"rounded-md bg-white font-medium text-oxford-600 hover:text-oxford-500 focus:outline-none focus:ring-2 focus:ring-oxford-500 focus:ring-offset-2",onClick:()=>r(`/${n}`),type:"button",children:"Edit"})})]})]})}Bt.propTypes={title:P.string.isRequired,children:P.node.isRequired,page:P.string.isRequired};function cx(){var g,b,v,x,S;const{basePath:e,csrfToken:t,dates:{startISO:n,endISO:r,startStr:i,endStr:o}}=Zt(),{formData:s}=Ne(),[a,l]=c.useState(!1),[d,u]=c.useState("");if(yn(["codelistA","codelistB","timeOption","filterPopulation","title","purpose"]))return p.jsx(xn,{to:""});const h=()=>{const{codelistA:w,codelistB:E,timeOption:O,timeScale:T,timeValue:$,filterPopulation:C,demographics:M,title:z,purpose:R}=s;return Tc({codelistA:{label:w.label,type:w.type,value:w.value},codelistB:{label:E.label,type:E.type,value:E.value},startDate:n.slice(0,10),endDate:r.slice(0,10),timeEver:O===Be?"true":null,timeScale:O===Be?void 0:T,timeValue:O===Be?void 0:$,filterPopulation:C,demographics:M,title:z,purpose:R})},m=async()=>{l(!0),u("");const w=JSON.stringify(h());jo(O=>{O.setLevel("debug"),Ur("formData",w),Ao("Submitting analysis request")});const E=await fetch(`${e}publish`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:w});if(!E.ok){l(!1);const O=`An error has occurred: ${E.status} - ${E.statusText}`;throw u(O),new Error(O)}no(),jo(O=>{O.setLevel("debug"),Ur("formData",w),Ur("response",E.url),Ao("Analysis ok, redirecting")}),window.location.href=E.url},f=s.timeOption===Be?Be:`up to ${s.timeValue} ${s.timeScale} ${Ja}`;return p.jsxs(p.Fragment,{children:[p.jsx(Za,{}),p.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Review your request"}),p.jsx("div",{className:"mt-5 border-t border-gray-200",children:p.jsxs("dl",{className:"divide-y divide-gray-200",children:[p.jsxs(Bt,{page:"find-codelists",title:"Codelists",children:[(g=s.codelist0)==null?void 0:g.label,",",p.jsx("br",{}),(b=s.codelist1)==null?void 0:b.label]}),(v=s.codelistA)!=null&&v.label&&((x=s.codelistB)!=null&&x.label)?p.jsxs(Bt,{page:"build-query",title:"Report request",children:[` ${_e[0]} `,p.jsx("strong",{children:s.codelistA.label}),` ${_e[1]} `,p.jsx("strong",{children:i})," ",_e[2]," ",p.jsx("strong",{children:o}),` ${_e[3]} `,p.jsx("strong",{children:s.codelistB.label}),` ${_e[4]} `,p.jsx("strong",{children:` ${s.codelistA.label}`}),` ${_e[5]} ${f}`]}):null,p.jsx(Bt,{page:"filter-request",title:"Filter population",children:zn.items.filter(w=>w.value===s.filterPopulation)[0].label}),p.jsx(Bt,{page:"filter-request",title:"Break down the report by demographics",children:s.demographics.length?p.jsx("ul",{children:(S=s.demographics)==null?void 0:S.map(w=>{var E;return p.jsx("li",{children:(E=on.items.find(O=>(O==null?void 0:O.value)===w))==null?void 0:E.label},w)})}):p.jsx("p",{children:"No demographics selected"})}),p.jsxs(Bt,{page:"analysis-information",title:"Analysis information",children:[p.jsxs("p",{className:"mb-4",children:[p.jsx("strong",{children:"Title: "}),p.jsx("br",{}),s.title]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Description: "}),p.jsx("br",{}),s.purpose]})]})]})}),p.jsxs("section",{className:"prose prose-blue mt-8 pt-6 border-t max-w-full",children:[p.jsx("h2",{className:"sr-only",children:"Read and agree"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Your analyses will be run on primary care patient records for approximately 44% of the English population"}),p.jsx("li",{children:"The analysis you are requesting may take up to 5 days to return results"}),p.jsx("li",{children:"The time for the analysis to generate may vary significantly dependent on current loads on our servers and current demand for our disclosure checking service"}),p.jsx("p",{children:"By making this request you are agreeing:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"That your request falls within your approved project purpose"}),p.jsx("li",{children:"To abide by the Terms and Conditions you signed previously"}),p.jsx("li",{children:"That the contents of this request, along with your name and email address, will be publicly available"})]})]})]}),p.jsx("div",{className:"flex flex-row w-full gap-2 mt-10",children:p.jsx(gt,{disabled:a,onClick:m,type:"submit",children:a?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"h-5 w-5 flex-1 animate-spin stroke-current stroke-[3] mr-2",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{className:"stroke-current opacity-25",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"}),p.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 14.7255 3.09032 17.1962 4.85857 19"})]}),"Submitting"]}):"Submit request"})}),d?p.jsx(ut,{children:d}):null]})}function dx(){const[e]=ht();return c.useEffect(()=>{window.scrollTo(0,0)},[e]),null}var fx={BASE_URL:"/static/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ro=document.getElementById("osi");if(!Ro)throw new Error("Failed to find the root element");const px=Mu(Ro),{dataset:yt}=Ro,hx={basePath:"Basename",csrfToken:"CSRF Token",dateEnd:"End date",dateStart:"Start date",events:"Events codelist data",medications:"Medications codelist data"};Object.entries(hx).map(([e,t])=>{if(!yt[e])throw new Error(`${t} not provided`);return null});ku({dsn:fx.VITE_SENTRY_DSN,tracesSampleRate:1});px.render(p.jsx(V.StrictMode,{children:p.jsx(Bi.Provider,{value:Sc({dataset:yt}),children:p.jsx(na,{children:p.jsxs(Qs,{base:yt.basePath.slice(0,-1),children:[p.jsx(dx,{}),p.jsx(ia,{basePath:yt.basePath,csrfToken:yt.csrfToken,events:yt.events,medications:yt.medications,children:p.jsxs(yc,{children:[p.jsx(tt,{component:lx,path:"/"}),p.jsx(tt,{component:ax,path:"/find-codelists"}),p.jsx(tt,{component:rx,path:"/build-query"}),p.jsx(tt,{component:ux,path:"/preview-request"}),p.jsx(tt,{component:ix,path:"/filter-request"}),p.jsx(tt,{component:Pm,path:"/analysis-information"}),p.jsx(tt,{component:cx,path:"/review-request"}),p.jsx(tt,{path:"*",children:p.jsxs("div",{className:"prose",children:[p.jsx("h2",{children:"An error occurred"}),p.jsx("p",{className:"lead",children:"Your request was not submitted."}),p.jsxs("p",{children:["Please try again, or"," ",p.jsx("a",{href:"mailto:team@opensafely.org",children:"email team@opensafely.org"}),"."]})]})})]})})]})})})}))});export default mx();
