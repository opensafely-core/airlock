{% load airlock %}
{% load django_vite %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    {% vite_hmr_client %}
    {% vite_asset "assets/src/scripts/base.js" %}
    {% vite_asset "assets/src/scripts/components.js" %}
    <link rel="stylesheet" href="{% static 'assets/datatable.css' %}">
  </head>

  <body>

    <div id="csvtable">
      <p class="spinner">Loading table data...</p>
      <table class="datatable" style="display: none" id="customTable">
        <thead>
          <tr>
            {% for header in headers %}
              <th>
                <div class="flex flex-row gap-2">
                  {{ header }}
                  {% datatable_sort_icon %}
                </dir>
              </th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in rows %}
            <tr>
              {% for cell in row %}
                <td data-order="{{ cell }}">{{ cell }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <nav id="pagination-nav" class="hidden flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3" aria-label="Pagination">
        <div class="sm:block">
          <p class="text-sm text-gray-700">
            Page
            <strong data-table-pagination="page-number">#</strong>
            of
            <strong data-table-pagination="total-pages">#</strong>
          </p>
        </div>
        <div class="flex flex-1 justify-between gap-4 sm:justify-end">
          <button
            data-table-pagination="previous-page"
            class="
                   px-4 py-2 text-sm font-medium
                   inline-flex items-center justify-center border rounded-md shadow-sm transition-buttons duration-200
                   border border-slate-400/75 text-slate-700 !shadow-none
                   hover:bg-slate-200
                   focus:bg-slate-200 focus:ring-slate-500 focus:ring-offset-white
                   hover:shadow-lg
                   focus:outline-none focus:ring-2 focus:ring-offset-2"
          >
            Previous
          </button>
          <button
            data-table-pagination="next-page"
            class="
                   px-4 py-2 text-sm font-medium
                   inline-flex items-center justify-center border rounded-md shadow-sm transition-buttons duration-200
                   border border-slate-400/75 text-slate-700 !shadow-none
                   hover:bg-slate-200
                   focus:bg-slate-200 focus:ring-slate-500 focus:ring-offset-white
                   hover:shadow-lg
                   focus:outline-none focus:ring-2 focus:ring-offset-2"
          >
            Next
          </button>
        </div>
      </nav>
    </div>

    <script src="{% static 'assets/file_browser/csv.js' %}"></script>
  </body>

</html>
